import{a9 as Jl,R as te,aa as Ll,S as tt,i as lt,s as st,I as ct,e as E,k as U,c as T,a as y,d as b,m as q,b as S,f as yt,g as D,ab as jl,J as dt,K as ht,L as mt,q as H,o as X,r as Ul,v as Al,ac as Ot,N as $e,E as Be,a8 as ql,w as Me,x as Oe,y as De,M as p,B as Ve,l as be,n as Ne,p as Ce,G as Ye,V as ye,ad as Pl,t as J,h as L,j as ve,U as et,a2 as Fl,a3 as Bl,X as Hl,T as Ge,W as de,P as Dt,O as Vt,Q as Ke}from"../chunks/index-7969860d.js";import{r as Gl,d as Kl}from"../chunks/index-3d8bec42.js";import{g as ze,b as Wl,a as Ue,d as Ct,t as jt,c as xe,o as Ut,e as Et,f as qt,i as Ft,h as Bt,j as Yl,k as Ht,m as nt,n as Rl,p as Xl,s as Ql,q as Zl}from"../chunks/worker-f7296508.js";import{g as xl,p as $l,S as At}from"../chunks/stores-0b2c0e1d.js";import"../chunks/singletons-cdeec3fd.js";const es=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function ts(){const l=Jl();return e=>{const t=es.map(i=>te(e,i,n=>Ll(l,n)));return{destroy:()=>t.forEach(i=>i())}}}class ls{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:t}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,t),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:t,context:i,width:n,height:s}){const r={context:i,width:n,height:s};if(this.needsResize&&(i.setTransform(t,0,0,t,0,0),this.needsResize=!1),this.needsSetup){for(const[u,o]of this.setups)o(r),this.setups.delete(u);this.needsSetup=!1}if(this.needsRedraw){e&&i.clearRect(0,0,n,s);for(const u of this.layerSequence)this.renderers.get(u)(r);this.needsRedraw=!1}}}function ss(l){let e,t,i,n,s,r,u,o,a;const h=l[13].default,m=ct(h,l,l[12],null);return{c(){e=E("canvas"),s=U(),r=E("div"),m&&m.c(),this.h()},l(d){e=T(d,"CANVAS",{style:!0,width:!0,height:!0}),y(e).forEach(b),s=q(d),r=T(d,"DIV",{style:!0});var g=y(r);m&&m.l(g),g.forEach(b),this.h()},h(){S(e,"style",t="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")),S(e,"width",i=l[1]*l[0]),S(e,"height",n=l[2]*l[0]),yt(r,"display","none")},m(d,g){D(d,e,g),l[14](e),D(d,s,g),D(d,r,g),m&&m.m(r,null),l[15](r),u=!0,o||(a=jl(l[6].call(null,e)),o=!0)},p(d,[g]){(!u||g&14&&t!==(t="display: block; width: "+d[1]+"px; height: "+d[2]+"px;"+(d[3]?` ${d[3]}`:"")))&&S(e,"style",t),(!u||g&3&&i!==(i=d[1]*d[0]))&&S(e,"width",i),(!u||g&5&&n!==(n=d[2]*d[0]))&&S(e,"height",n),m&&m.p&&(!u||g&4096)&&dt(m,h,d,d[12],u?mt(h,d[12],g,null):ht(d[12]),null)},i(d){u||(H(m,d),u=!0)},o(d){X(m,d),u=!1},d(d){d&&b(e),l[14](null),d&&b(s),d&&b(r),m&&m.d(d),l[15](null),o=!1,a()}}}const zl={};function is(l,e,t){let{$$slots:i={},$$scope:n}=e,{width:s=640,height:r=640,pixelRatio:u=void 0,style:o=null,autoclear:a=!0}=e,h,m,d,g,c;const f=ts(),_=new ls;function v(){_.redraw()}function N(){return h}function z(){return m}u===void 0&&(typeof window=="undefined"?u=2:u=window.devicePixelRatio);function O(){_.render({context:m,width:s,height:r,pixelRatio:u,autoclear:a}),d=window.requestAnimationFrame(O)}Ul(zl,{register:_.register,unregister:_.unregister,redraw:_.redraw}),Al(()=>{m=h.getContext("2d"),c=new MutationObserver(I),c.observe(g,{childList:!0}),I(),O();function I(){const R=[...g.children].map(V=>+V.dataset.layerId);t(11,_.layerSequence=R,_),_.redraw()}}),Ot(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(d),c.disconnect())});function A(I){$e[I?"unshift":"push"](()=>{h=I,t(4,h)})}function P(I){$e[I?"unshift":"push"](()=>{g=I,t(5,g)})}return l.$$set=I=>{"width"in I&&t(1,s=I.width),"height"in I&&t(2,r=I.height),"pixelRatio"in I&&t(0,u=I.pixelRatio),"style"in I&&t(3,o=I.style),"autoclear"in I&&t(7,a=I.autoclear),"$$scope"in I&&t(12,n=I.$$scope)},l.$$.update=()=>{l.$$.dirty&2183&&_.resize()},[u,s,r,o,h,g,f,a,v,N,z,_,n,i,A,P]}class ns extends tt{constructor(e){super(),lt(this,e,is,ss,st,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function rs(l){let e;return{c(){e=E("div"),this.h()},l(t){e=T(t,"DIV",{"data-layer-id":!0}),y(e).forEach(b),this.h()},h(){S(e,"data-layer-id",l[0])},m(t,i){D(t,e,i)},p:Be,i:Be,o:Be,d(t){t&&b(e)}}}function os(l,e,t){const{register:i,unregister:n,redraw:s}=ql(zl);let{setup:r=void 0,render:u=()=>{}}=e;if(typeof r!="function"&&r!==void 0)throw new Error("setup must be a function");if(typeof u!="function")throw new Error("render must be a function");const o=i({setup:r,render:u});return Ot(()=>n(o)),l.$$set=a=>{"setup"in a&&t(1,r=a.setup),"render"in a&&t(2,u=a.render)},l.$$.update=()=>{l.$$.dirty&4&&s()},[o,r,u]}class as extends tt{constructor(e){super(),lt(this,e,os,rs,st,{setup:1,render:2})}}let Gt;const Nl=Date.now();function Cl(l){return l(Date.now()-Nl),Gt=window.requestAnimationFrame(()=>Cl(l)),()=>window.cancelAnimationFrame(Gt)}function fs(){}var us=Gl(Date.now()-Nl,typeof window=="undefined"?fs:Cl);const{window:Mt}=Pl;function Kt(l){let e,t,i,n,s,r;t=new ns({props:{width:l[0],height:l[1],$$slots:{default:[cs]},$$scope:{ctx:l}}}),t.$on("pointerdown",l[17]),t.$on("wheel",l[20]);const u=l[50].default,o=ct(u,l,l[51],null);return{c(){e=E("div"),Me(t.$$.fragment),i=U(),o&&o.c(),this.h()},l(a){e=T(a,"DIV",{style:!0});var h=y(e);Oe(t.$$.fragment,h),i=q(h),o&&o.l(h),h.forEach(b),this.h()},h(){yt(e,"touch-action","none"),yt(e,"cursor",l[2])},m(a,h){D(a,e,h),De(t,e,null),p(e,i),o&&o.m(e,null),n=!0,s||(r=te(e,"resize",l[21]),s=!0)},p(a,h){const m={};h[0]&1&&(m.width=a[0]),h[0]&2&&(m.height=a[1]),h[0]&8|h[1]&1048576&&(m.$$scope={dirty:h,ctx:a}),t.$set(m),o&&o.p&&(!n||h[1]&1048576)&&dt(o,u,a,a[51],n?mt(u,a[51],h,null):ht(a[51]),null),(!n||h[0]&4)&&yt(e,"cursor",a[2])},i(a){n||(H(t.$$.fragment,a),H(o,a),n=!0)},o(a){X(t.$$.fragment,a),X(o,a),n=!1},d(a){a&&b(e),Ve(t),o&&o.d(a),s=!1,r()}}}function cs(l){let e,t;return e=new as({props:{render:l[3]}}),{c(){Me(e.$$.fragment)},l(i){Oe(e.$$.fragment,i)},m(i,n){De(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.render=i[3]),e.$set(s)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){Ve(e,i)}}}function ds(l){let e,t,i,n,s=l[0]&&l[1]&&Kt(l);return{c(){s&&s.c(),e=be()},l(r){s&&s.l(r),e=be()},m(r,u){s&&s.m(r,u),D(r,e,u),t=!0,i||(n=[te(Mt,"pointerup",l[18]),te(Mt,"pointermove",l[19]),te(Mt,"resize",l[21])],i=!0)},p(r,u){r[0]&&r[1]?s?(s.p(r,u),u[0]&3&&H(s,1)):(s=Kt(r),s.c(),H(s,1),s.m(e.parentNode,e)):s&&(Ne(),X(s,1,1,()=>{s=null}),Ce())},i(r){t||(H(s),t=!0)},o(r){X(s),t=!1},d(r){s&&s.d(r),r&&b(e),i=!1,Ye(n)}}}const Wt="25px Roboto Mono",Yt="17px Roboto Mono",it=2.6;function hs(l,e,t){let i,n,s,r,u,o,a,h,m,d,g,c,f,_,v,{$$slots:N={},$$scope:z}=e,{clickNode:O}=e,{circledNode:A}=e,{selectedJewel:P}=e,{selectedConqueror:I}=e,{seed:R}=e,{highlighted:V=[]}=e,{disabled:M=[]}=e,{highlightJewels:G=!1}=e;const Y=Kl(us,w=>(!V||!V.length)&&!G?0:Math.round(w/40));ye(l,Y,w=>t(37,s=w));const Q=[427,320,226,227,323,422,329];let B=10,se=0,ee=0;const K=(w,he,Te)=>{const ce=he.width/B*it,ae=he.height/B*it,me=Te.x-ce/2,k=Te.y-ae/2;w.drawImage(he,me,k,ce,ae)},Se=(w,he,Te)=>{const ce=he.width/B*it,ae=he.height/B*it,me=Te.x-ce/2,k=Te.y-ae/2,x=k-ae/2;w.drawImage(he,me,x,ce,ae),w.save(),w.translate(me,k),w.rotate(Math.PI),w.drawImage(he,-ce,-(ae/2),ce,-ae),w.restore()},_e={},oe={},j=(w,he,Te,ce=!1)=>{let ae=ce?Yl[he]:Ht[he];!ae&&ce&&(ae=Ht[he]);const me=ae.filename;me in(ce?oe:_e)||((ce?oe:_e)[me]=new Image,(ce?oe:_e)[me].src=me);const k=ae.coords[he],x=k.w/B*it,fe=k.h/B*it,$=Te.x-x/2,F=Te.y-fe/2;w.drawImage((ce?oe:_e)[me],k.x,k.y,k.w,k.h,$,F,x,fe)},re=(w,he,Te)=>{const ce=[];let ae="";return w.split(" ").forEach(me=>{he.measureText(ae+me).width<Te?ae+=" "+me:(ce.push(ae.trim()),ae=me)}),ae.length>0&&ce.push(ae.trim()),ce};let Z={x:Number.MIN_VALUE,y:Number.MIN_VALUE},C="unset";const ie=ze("PSGroupBackground1");ye(l,ie,w=>t(49,v=w));const ge=ze("PSGroupBackground2");ye(l,ge,w=>t(48,_=w));const ue=ze("PSGroupBackground3");ye(l,ue,w=>t(47,f=w));const ke=ze("KeystoneFrameAllocated");ye(l,ke,w=>t(46,c=w));const Je=ze("KeystoneFrameUnallocated");ye(l,Je,w=>t(45,g=w));const pe=ze("NotableFrameAllocated");ye(l,pe,w=>t(44,d=w));const Ae=ze("NotableFrameUnallocated");ye(l,Ae,w=>t(43,m=w));const Le=ze("JewelSocketAltNormal");ye(l,Le,w=>t(42,h=w));const Xe=ze("JewelFrameAllocated");ye(l,Xe,w=>t(41,a=w));const je=ze("JewelFrameUnallocated");ye(l,je,w=>t(40,o=w));const _t=ze("PSSkillFrameActive");ye(l,_t,w=>t(39,u=w));const gt=ze("PSSkillFrame");ye(l,gt,w=>t(38,r=w));let Ee,pt=0,bt=0,wt=0,vt=0,rt=!1;const Pt=w=>{rt=!0,pt=w.offsetX,bt=w.offsetY,wt=se,vt=ee,t(33,Z={x:w.offsetX,y:w.offsetY}),Ee&&O(Ee)},Rt=w=>{w.type==="pointerup"&&(rt=!1),t(33,Z={x:w.offsetX,y:w.offsetY})},zt=w=>{rt&&(t(31,se=wt-(pt-w.offsetX)*B),t(32,ee=vt-(bt-w.offsetY)*B)),t(33,Z={x:w.offsetX,y:w.offsetY})},Nt=w=>{w.deltaY>0?B<30&&(t(31,se+=w.offsetX),t(32,ee+=w.offsetY)):B>3&&(t(31,se-=w.offsetX),t(32,ee-=w.offsetY)),t(30,B=Math.min(30,Math.max(3,B+w.deltaY/100))),w.preventDefault(),w.stopPropagation(),w.stopImmediatePropagation()};let kt=0,St=0;const It=()=>{t(0,kt=window.innerWidth),t(1,St=window.innerHeight)};let ot=!1;return l.$$set=w=>{"clickNode"in w&&t(22,O=w.clickNode),"circledNode"in w&&t(23,A=w.circledNode),"selectedJewel"in w&&t(24,P=w.selectedJewel),"selectedConqueror"in w&&t(25,I=w.selectedConqueror),"seed"in w&&t(26,R=w.seed),"highlighted"in w&&t(27,V=w.highlighted),"disabled"in w&&t(28,M=w.disabled),"highlightJewels"in w&&t(29,G=w.highlightJewels),"$$scope"in w&&t(51,z=w.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&1073741824&&t(36,i=Wl/B),l.$$.dirty[0]&1073741824|l.$$.dirty[1]&16&&(!ot&&Ue&&(t(35,ot=!0),t(31,se=Ue.min_x+window.innerWidth/2*B),t(32,ee=Ue.min_y+window.innerHeight/2*B)),It()),l.$$.dirty[0]&2139095040|l.$$.dirty[1]&524271&&t(3,n=({context:w,width:he,height:Te})=>{const ce=window.performance.now();w.clearRect(0,0,he,Te),w.fillStyle="#080c11",w.fillRect(0,0,he,Te);const ae={};Object.keys(Ct).forEach($=>{const F=Ct[$],W=jt(F.x,F.y,se,ee,B),le=Math.max(...F.orbits);Q.indexOf(parseInt($))>=0||(le==1?K(w,v,W):le==2?K(w,_,W):(le==3||F.orbits.length>1)&&Se(w,f,W))}),Object.keys(xe).forEach($=>{var ne;const F=xe[$],W=Ut(F.orbit,F.orbitIndex),le=Et(F,se,ee,B);(ne=F.out)==null||ne.forEach(Qe=>{if(!xe[parseInt(Qe)])return;const qe=Math.min(parseInt(Qe),parseInt($)),at=Math.max(parseInt(Qe),parseInt($)),we=qe+":"+at;if(we in ae)return;ae[we]=!0;const Ie=xe[parseInt(Qe)];if(!Ie||Ie.isMastery)return;const Ze=Ut(Ie.orbit,Ie.orbitIndex),He=Et(Ie,se,ee,B);if(w.beginPath(),F.group!=Ie.group||F.orbit!=Ie.orbit)w.moveTo(le.x,le.y),w.lineTo(He.x,He.y);else{let Re=Math.PI/180-Math.PI/180*W,Pe=Math.PI/180-Math.PI/180*Ze;Re-=Math.PI/2,Pe-=Math.PI/2;const ft=Math.abs(Math.max(Re,Pe)-Math.min(Re,Pe)),Dl=ft>Math.PI?Math.max(Re,Pe):Math.min(Re,Pe),Vl=ft>Math.PI?Math.min(Re,Pe):Math.max(Re,Pe),Jt=Ct[F.group],Lt=jt(Jt.x,Jt.y,se,ee,B);w.arc(Lt.x,Lt.y,Ue.constants.orbitRadii[F.orbit]/B+1,Dl,Vl)}w.lineWidth=6/B,w.strokeStyle="#524518",w.stroke()})});let me;A&&(me=Et(xe[A],se,ee,B),w.strokeStyle="#ad2b2b");let k=!1,x;if(Object.keys(xe).forEach($=>{const F=xe[$],W=Et(F,se,ee,B);let le=0,ne=!1;A&&qt(W,me)<i&&(ne=!0),M.indexOf(F.skill)>=0&&(ne=!1),F.isKeystone?(le=110,j(w,F.icon,W,ne),ne?K(w,c,W):K(w,g,W)):F.isNotable?(le=70,j(w,F.icon,W,ne),ne?K(w,d,W):K(w,m,W)):F.isJewelSocket?(le=70,F.expansionJewel?K(w,h,W):ne?K(w,a,W):K(w,o,W)):F.isMastery?j(w,F.inactiveIcon,W,ne):(le=50,j(w,F.icon,W,ne),ne?K(w,u,W):K(w,r,W)),(V.indexOf(F.skill)>=0||G&&F.isJewelSocket)&&(w.strokeStyle=`hsl(${s}, 100%, 50%)`,w.lineWidth=3,w.beginPath(),w.arc(W.x,W.y,(le+30)/B,0,Math.PI*2),w.stroke()),qt(W,Z)<le/B&&(x=F,k=ne)}),t(34,Ee=x),A&&(w.strokeStyle="#ad2b2b",w.lineWidth=1,w.beginPath(),w.arc(me.x,me.y,i,0,Math.PI*2),w.stroke()),Ee){let $=Ee.name,F=(Ee.stats||[]).map(we=>({text:we,special:!1}));if(!Ee.isJewelSocket&&k&&Ee.skill&&R&&P&&I){const we=Calculate(TreeToPassive[Ee.skill],R,P,I);if(we){if("alternatePassiveSkill"in we){const Ie=GetAlternatePassiveSkillByIndex(we.alternatePassiveSkill);F=[],$=Ie.name,"statsKeys"in Ie&&Ie.statsKeys.forEach((Ze,He)=>{const Re=GetStatByIndex(Ze),Pe=Ft[Re.id]||"";Pe&&F.push({text:Bt(Pe,we.statRolls[He])||Re.id,special:!0})})}"alternatePassiveAdditionInformations"in we&&we.alternatePassiveAdditionInformations.length>0&&we.alternatePassiveAdditionInformations.forEach(Ie=>{const Ze=GetAlternatePassiveAdditionByIndex(Ie.alternatePassiveSkillAddition);"statsKeys"in Ze&&Ze.statsKeys.forEach((He,Re)=>{const Pe=GetStatByIndex(He),ft=Ft[Pe.id]||"";ft&&F.push({text:Bt(ft,Ie.statRolls[Re])||Pe.id,special:!0})})})}}w.font=Wt;const W=w.measureText($),le=Math.max(W.width+50,600);w.font=Yt;const ne=[],Qe=30;let qe=85;F&&F.length>0?F.forEach(we=>{ne.length>0&&(qe+=5),we.text.split(`
`).forEach(Ie=>{ne.length>0&&(qe+=10),re(Ie,w,le-Qe).forEach(He=>{ne.push({text:He,offset:qe,special:we.special}),qe+=20})})}):Ee.isJewelSocket&&(ne.push({text:"Click to select this socket",offset:qe,special:!0}),qe+=20);const at=55;w.fillStyle="rgba(75,63,24,0.9)",w.fillRect(Z.x,Z.y,le,at),w.fillStyle="#ffffff",w.font=Wt,w.textAlign="center",w.fillText($,Z.x+le/2,Z.y+35),w.fillStyle="rgba(0,0,0,0.8)",w.fillRect(Z.x,Z.y+at,le,qe-at),w.font=Yt,w.textAlign="left",ne.forEach(we=>{we.special?w.fillStyle="#8cf34c":w.fillStyle="#ffffff",w.fillText(we.text,Z.x+Qe/2,Z.y+we.offset)})}Ee&&Ee.isJewelSocket?t(2,C="pointer"):t(2,C="unset"),w.fillStyle="#ffffff",w.textAlign="right",w.font="12px Roboto Mono";const fe=window.performance.now();w.fillText(`${(fe-ce).toFixed(1)}ms`,he-5,17)})},[kt,St,C,n,Y,ie,ge,ue,ke,Je,pe,Ae,Le,Xe,je,_t,gt,Pt,Rt,zt,Nt,It,O,A,P,I,R,V,M,G,B,se,ee,Z,Ee,ot,i,s,r,u,o,a,h,m,d,g,c,f,_,v,N,z]}class ms extends tt{constructor(e){super(),lt(this,e,hs,ds,st,{clickNode:22,circledNode:23,selectedJewel:24,selectedConqueror:25,seed:26,highlighted:27,disabled:28,highlightJewels:29},null,[-1,-1,-1])}}function Xt(l,e,t){const i=l.slice();return i[6]=e[t],i}function Qt(l,e,t){const i=l.slice();return i[9]=e[t],i}function Zt(l){let e,t=nt(l[9],l[6].stats[l[9]])+"",i;return{c(){e=E("li"),i=J(t)},l(n){e=T(n,"LI",{});var s=y(e);i=L(s,t),s.forEach(b)},m(n,s){D(n,e,s),p(e,i)},p(n,s){s&2&&t!==(t=nt(n[9],n[6].stats[n[9]])+"")&&ve(i,t)},d(n){n&&b(e)}}}function xt(l){let e,t,i=Ue.nodes[l[6].passive].name+"",n,s,r=l[6].passive+"",u,o,a,h,m,d=Object.keys(l[6].stats),g=[];for(let c=0;c<d.length;c+=1)g[c]=Zt(Qt(l,d,c));return{c(){e=E("div"),t=E("span"),n=J(i),s=J(" ("),u=J(r),o=J(")"),a=U(),h=E("ul");for(let c=0;c<g.length;c+=1)g[c].c();m=U(),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=y(e);t=T(f,"SPAN",{});var _=y(t);n=L(_,i),s=L(_," ("),u=L(_,r),o=L(_,")"),_.forEach(b),a=q(f),h=T(f,"UL",{class:!0});var v=y(h);for(let N=0;N<g.length;N+=1)g[N].l(v);v.forEach(b),m=q(f),f.forEach(b),this.h()},h(){S(h,"class","list-disc pl-6 font-bold"),S(e,"class","mt-2")},m(c,f){D(c,e,f),p(e,t),p(t,n),p(t,s),p(t,u),p(t,o),p(e,a),p(e,h);for(let _=0;_<g.length;_+=1)g[_].m(h,null);p(e,m)},p(c,f){if(f&2&&i!==(i=Ue.nodes[c[6].passive].name+"")&&ve(n,i),f&2&&r!==(r=c[6].passive+"")&&ve(u,r),f&2){d=Object.keys(c[6].stats);let _;for(_=0;_<d.length;_+=1){const v=Qt(c,d,_);g[_]?g[_].p(v,f):(g[_]=Zt(v),g[_].c(),g[_].m(h,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=d.length}},d(c){c&&b(e),et(g,c)}}}function _s(l){let e,t,i,n,s,r,u,o=l[1].seed+"",a,h,m=l[1].weight+"",d,g,c,f,_,v,N,z,O=l[1].skills,A=[];for(let P=0;P<O.length;P+=1)A[P]=xt(Xt(l,O,P));return{c(){e=E("div"),t=E("div"),i=E("button"),n=J("Trade"),s=U(),r=E("div"),u=J("Seed "),a=J(o),h=J(" (weight "),d=J(m),g=J(")"),c=U(),f=E("button"),_=J("Trade"),v=U();for(let P=0;P<A.length;P+=1)A[P].c();this.h()},l(P){e=T(P,"DIV",{class:!0});var I=y(e);t=T(I,"DIV",{class:!0});var R=y(t);i=T(R,"BUTTON",{class:!0});var V=y(i);n=L(V,"Trade"),V.forEach(b),s=q(R),r=T(R,"DIV",{class:!0});var M=y(r);u=L(M,"Seed "),a=L(M,o),h=L(M," (weight "),d=L(M,m),g=L(M,")"),M.forEach(b),c=q(R),f=T(R,"BUTTON",{class:!0});var G=y(f);_=L(G,"Trade"),G.forEach(b),R.forEach(b),v=q(I);for(let Y=0;Y<A.length;Y+=1)A[Y].l(I);I.forEach(b),this.h()},h(){S(i,"class","px-3 invisible"),S(r,"class","font-bold text-orange-500 text-center"),S(f,"class","px-3 bg-blue-500/40 rounded"),S(t,"class","flex flex-row justify-between"),S(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(P,I){D(P,e,I),p(e,t),p(t,i),p(i,n),p(t,s),p(t,r),p(r,u),p(r,a),p(r,h),p(r,d),p(r,g),p(t,c),p(t,f),p(f,_),p(e,v);for(let R=0;R<A.length;R+=1)A[R].m(e,null);N||(z=[te(f,"click",l[4]),te(e,"click",l[5])],N=!0)},p(P,[I]){if(I&2&&o!==(o=P[1].seed+"")&&ve(a,o),I&2&&m!==(m=P[1].weight+"")&&ve(d,m),I&2){O=P[1].skills;let R;for(R=0;R<O.length;R+=1){const V=Xt(P,O,R);A[R]?A[R].p(V,I):(A[R]=xt(V),A[R].c(),A[R].m(e,null))}for(;R<A.length;R+=1)A[R].d(1);A.length=O.length}},i:Be,o:Be,d(P){P&&b(e),et(A,P),N=!1,Ye(z)}}}function gs(l,e,t){let{highlight:i}=e,{set:n}=e,{jewel:s}=e,{conqueror:r}=e;const u=()=>Rl(s,r,[n]),o=()=>i(n.seed,n.skills.map(a=>a.passive));return l.$$set=a=>{"highlight"in a&&t(0,i=a.highlight),"set"in a&&t(1,n=a.set),"jewel"in a&&t(2,s=a.jewel),"conqueror"in a&&t(3,r=a.conqueror)},[i,n,s,r,u,o]}class Ml extends tt{constructor(e){super(),lt(this,e,gs,_s,st,{highlight:0,set:1,jewel:2,conqueror:3})}}const Tt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},Fe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ut={OBSERVED:0,REQUESTED:1},ps={[Fe.VERTICAL]:"top",[Fe.HORIZONTAL]:"left"},$t={[Fe.VERTICAL]:"scrollTop",[Fe.HORIZONTAL]:"scrollLeft"};class bs{constructor({itemSize:e,itemCount:t,estimatedItemSize:i}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:i}){t!=null&&(this.itemCount=t),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const i=this.getSize(t),n=e;e+=i,this.itemSizeAndPositionData[t]={offset:n,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let i=t.offset+t.size;for(let n=this.lastMeasuredIndex+1;n<=e;n++){const s=this.getSize(n);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${n} of value ${s}`);this.itemSizeAndPositionData[n]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=Tt.START,containerSize:t,currentOffset:i,targetIndex:n}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(n),r=s.offset,u=r-t+s.size;let o;switch(e){case Tt.END:o=u;break;case Tt.CENTER:o=r-(t-s.size)/2;break;case Tt.START:o=r;break;default:o=Math.max(u,Math.min(r,i))}const a=this.getTotalSize();return Math.max(0,Math.min(a-t,o))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=t+e;let r=this.findNearestItem(t);if(r===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(r);t=u.offset+u.size;let o=r;for(;t<s&&o<this.itemCount-1;)o++,t+=this.getSizeAndPositionForIndex(o).size;return i&&(r=Math.max(0,r-i),o=Math.min(o+i,this.itemCount-1)),{start:r,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:t,offset:i}){let n=0,s=0;for(;e<=t;){if(n=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(n).offset,s===i)return n;s<i?e=n+1:s>i&&(t=n-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const ws=l=>({}),el=l=>({});function tl(l,e,t){const i=l.slice();return i[37]=e[t],i}const vs=l=>({style:l[0]&4,index:l[0]&4}),ll=l=>({style:l[37].style,index:l[37].index}),ks=l=>({}),sl=l=>({});function il(l,e){let t,i;const n=e[21].item,s=ct(n,e,e[20],ll);return{key:l,first:null,c(){t=be(),s&&s.c(),this.h()},l(r){t=be(),s&&s.l(r),this.h()},h(){this.first=t},m(r,u){D(r,t,u),s&&s.m(r,u),i=!0},p(r,u){e=r,s&&s.p&&(!i||u[0]&1048580)&&dt(s,n,e,e[20],i?mt(n,e[20],u,vs):ht(e[20]),ll)},i(r){i||(H(s,r),i=!0)},o(r){X(s,r),i=!1},d(r){r&&b(t),s&&s.d(r)}}}function Ss(l){let e,t,i,n=[],s=new Map,r,u;const o=l[21].header,a=ct(o,l,l[20],sl);let h=l[2];const m=c=>c[0]?c[0](c[37].index):c[37].index;for(let c=0;c<h.length;c+=1){let f=tl(l,h,c),_=m(f);s.set(_,n[c]=il(_,f))}const d=l[21].footer,g=ct(d,l,l[20],el);return{c(){e=E("div"),a&&a.c(),t=U(),i=E("div");for(let c=0;c<n.length;c+=1)n[c].c();r=U(),g&&g.c(),this.h()},l(c){e=T(c,"DIV",{class:!0,style:!0});var f=y(e);a&&a.l(f),t=q(f),i=T(f,"DIV",{class:!0,style:!0});var _=y(i);for(let v=0;v<n.length;v+=1)n[v].l(_);_.forEach(b),r=q(f),g&&g.l(f),f.forEach(b),this.h()},h(){S(i,"class","virtual-list-inner svelte-1d4hv8l"),S(i,"style",l[4]),S(e,"class","virtual-list-wrapper svelte-1d4hv8l"),S(e,"style",l[3])},m(c,f){D(c,e,f),a&&a.m(e,null),p(e,t),p(e,i);for(let _=0;_<n.length;_+=1)n[_].m(i,null);p(e,r),g&&g.m(e,null),l[22](e),u=!0},p(c,f){a&&a.p&&(!u||f[0]&1048576)&&dt(a,o,c,c[20],u?mt(o,c[20],f,ks):ht(c[20]),sl),f[0]&1048581&&(h=c[2],Ne(),n=Fl(n,f,m,1,c,h,s,i,Bl,il,null,tl),Ce()),(!u||f[0]&16)&&S(i,"style",c[4]),g&&g.p&&(!u||f[0]&1048576)&&dt(g,d,c,c[20],u?mt(d,c[20],f,ws):ht(c[20]),el),(!u||f[0]&8)&&S(e,"style",c[3])},i(c){if(!u){H(a,c);for(let f=0;f<h.length;f+=1)H(n[f]);H(g,c),u=!0}},o(c){X(a,c);for(let f=0;f<n.length;f+=1)X(n[f]);X(g,c),u=!1},d(c){c&&b(e),a&&a.d(c);for(let f=0;f<n.length;f+=1)n[f].d();g&&g.d(c),l[22](null)}}}const Is=(()=>{let l=!1;try{const e=Object.defineProperty({},"passive",{get(){return l={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return l})();function Es(l,e,t){let{$$slots:i={},$$scope:n}=e,{height:s}=e,{width:r="100%"}=e,{itemCount:u}=e,{itemSize:o}=e,{estimatedItemSize:a=null}=e,{stickyIndices:h=null}=e,{getKey:m=null}=e,{scrollDirection:d=Fe.VERTICAL}=e,{scrollOffset:g=null}=e,{scrollToIndex:c=null}=e,{scrollToAlignment:f=null}=e,{scrollToBehaviour:_="instant"}=e,{overscanCount:v=3}=e;const N=Hl(),z=new bs({itemCount:u,itemSize:o,estimatedItemSize:j()});let O=!1,A,P=[],I={offset:g||c!=null&&P.length&&Se(c)||0,scrollChangeReason:ut.REQUESTED},R=I,V={scrollToIndex:c,scrollToAlignment:f,scrollOffset:g,itemCount:u,itemSize:o,estimatedItemSize:a},M={},G="",Y="";se(),Al(()=>{t(18,O=!0),A.addEventListener("scroll",_e,Is),g!=null?ee(g):c!=null&&ee(Se(c))}),Ot(()=>{O&&A.removeEventListener("scroll",_e)});function Q(){if(!O)return;const C=V.scrollToIndex!==c||V.scrollToAlignment!==f,ie=V.itemCount!==u||V.itemSize!==o||V.estimatedItemSize!==a;ie&&(z.updateConfig({itemSize:o,itemCount:u,estimatedItemSize:j()}),K()),V.scrollOffset!==g?t(19,I={offset:g||0,scrollChangeReason:ut.REQUESTED}):typeof c=="number"&&(C||ie)&&t(19,I={offset:Se(c,f,u),scrollChangeReason:ut.REQUESTED}),V={scrollToIndex:c,scrollToAlignment:f,scrollOffset:g,itemCount:u,itemSize:o,estimatedItemSize:a}}function B(){if(!O)return;const{offset:C,scrollChangeReason:ie}=I;(R.offset!==C||R.scrollChangeReason!==ie)&&se(),R.offset!==C&&ie===ut.REQUESTED&&ee(C),R=I}function se(){const{offset:C}=I,{start:ie,stop:ge}=z.getVisibleRange({containerSize:d===Fe.VERTICAL?s:r,offset:C,overscanCount:v});let ue=[];const ke=z.getTotalSize();d===Fe.VERTICAL?(t(3,G=`height:${s}px;width:${r};`),t(4,Y=`flex-direction:column;height:${ke}px;`)):(t(3,G=`height:${s};width:${r}px`),t(4,Y=`min-height:100%;width:${ke}px;`));const Je=h!=null&&h.length!==0;if(Je)for(let pe=0;pe<h.length;pe++){const Ae=h[pe];ue.push({index:Ae,style:re(Ae,!0)})}if(ie!==void 0&&ge!==void 0){for(let pe=ie;pe<=ge;pe++)Je&&h.includes(pe)||ue.push({index:pe,style:re(pe,!1)});N("itemsUpdated",{start:ie,end:ge})}t(2,P=ue)}function ee(C){"scroll"in A?A.scroll({[ps[d]]:C,behavior:_}):t(1,A[$t[d]]=C,A)}function K(C=0){M={},z.resetItem(C),se()}function Se(C,ie=f,ge=u){return(C<0||C>=ge)&&(C=0),z.getUpdatedOffsetForIndex({align:ie,containerSize:d===Fe.VERTICAL?s:r,currentOffset:I.offset||0,targetIndex:C})}function _e(C){const ie=oe();ie<0||I.offset===ie||C.target!==A||(t(19,I={offset:ie,scrollChangeReason:ut.OBSERVED}),N("afterScroll",{offset:ie,event:C}))}function oe(){return A[$t[d]]}function j(){return a||typeof o=="number"&&o||50}function re(C,ie){if(M[C])return M[C];const{size:ge,offset:ue}=z.getSizeAndPositionForIndex(C);let ke;return d===Fe.VERTICAL?(ke=`left:0;width:100%;height:${ge}px;`,ie?ke+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ue}px;margin-bottom:${-(ue+ge)}px;`:ke+=`position:absolute;top:${ue}px;`):(ke=`top:0;width:${ge}px;`,ie?ke+=`position:sticky;z-index:1;left:0;margin-left:${ue}px;margin-right:${-(ue+ge)}px;`:ke+=`position:absolute;height:100%;left:${ue}px;`),M[C]=ke}function Z(C){$e[C?"unshift":"push"](()=>{A=C,t(1,A)})}return l.$$set=C=>{"height"in C&&t(5,s=C.height),"width"in C&&t(6,r=C.width),"itemCount"in C&&t(7,u=C.itemCount),"itemSize"in C&&t(8,o=C.itemSize),"estimatedItemSize"in C&&t(9,a=C.estimatedItemSize),"stickyIndices"in C&&t(10,h=C.stickyIndices),"getKey"in C&&t(0,m=C.getKey),"scrollDirection"in C&&t(11,d=C.scrollDirection),"scrollOffset"in C&&t(12,g=C.scrollOffset),"scrollToIndex"in C&&t(13,c=C.scrollToIndex),"scrollToAlignment"in C&&t(14,f=C.scrollToAlignment),"scrollToBehaviour"in C&&t(15,_=C.scrollToBehaviour),"overscanCount"in C&&t(16,v=C.overscanCount),"$$scope"in C&&t(20,n=C.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&29568&&Q(),l.$$.dirty[0]&524288&&B(),l.$$.dirty[0]&263264&&O&&K(0)},[m,A,P,G,Y,s,r,u,o,a,h,d,g,c,f,_,v,K,O,I,n,i,Z]}class Ol extends tt{constructor(e){super(),lt(this,e,Es,Ss,st,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function nl(l,e,t){const i=l.slice();return i[9]=e[t],i}function Ts(l){let e,t,i;return t=new Ol({props:{height:"auto",overscanCount:15,itemCount:l[0].raw.length,itemSize:l[0].raw.map(l[6]),$$slots:{item:[As,({style:n,index:s})=>({12:n,13:s}),({style:n,index:s})=>(n?4096:0)|(s?8192:0)]},$$scope:{ctx:l}}}),{c(){e=E("div"),Me(t.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var s=y(e);Oe(t.$$.fragment,s),s.forEach(b),this.h()},h(){S(e,"class","mt-4 flex flex-col overflow-auto")},m(n,s){D(n,e,s),De(t,e,null),i=!0},p(n,s){const r={};s&1&&(r.itemCount=n[0].raw.length),s&1&&(r.itemSize=n[0].raw.map(n[6])),s&28699&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){i||(H(t.$$.fragment,n),i=!0)},o(n){X(t.$$.fragment,n),i=!1},d(n){n&&b(e),Ve(t)}}}function ys(l){let e,t,i=Object.keys(l[0].grouped).map(l[7]).sort(al).reverse(),n=[];for(let r=0;r<i.length;r+=1)n[r]=ol(nl(l,i,r));const s=r=>X(n[r],1,1,()=>{n[r]=null});return{c(){e=E("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0});var u=y(e);for(let o=0;o<n.length;o+=1)n[o].l(u);u.forEach(b),this.h()},h(){S(e,"class","flex flex-col overflow-auto")},m(r,u){D(r,e,u);for(let o=0;o<n.length;o+=1)n[o].m(e,null);t=!0},p(r,u){if(u&12411){i=Object.keys(r[0].grouped).map(r[7]).sort(al).reverse();let o;for(o=0;o<i.length;o+=1){const a=nl(r,i,o);n[o]?(n[o].p(a,u),H(n[o],1)):(n[o]=ol(a),n[o].c(),H(n[o],1),n[o].m(e,null))}for(Ne(),o=i.length;o<n.length;o+=1)s(o);Ce()}},i(r){if(!t){for(let u=0;u<i.length;u+=1)H(n[u]);t=!0}},o(r){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)X(n[u]);t=!1},d(r){r&&b(e),et(n,r)}}}function As(l){let e,t,i,n;return t=new Ml({props:{set:l[0].raw[l[13]],highlight:l[1],jewel:l[3],conqueror:l[4]}}),{c(){e=E("div"),Me(t.$$.fragment),this.h()},l(s){e=T(s,"DIV",{slot:!0,style:!0});var r=y(e);Oe(t.$$.fragment,r),r.forEach(b),this.h()},h(){S(e,"slot","item"),S(e,"style",i=l[12])},m(s,r){D(s,e,r),De(t,e,null),n=!0},p(s,r){const u={};r&8193&&(u.set=s[0].raw[s[13]]),r&2&&(u.highlight=s[1]),r&8&&(u.jewel=s[3]),r&16&&(u.conqueror=s[4]),t.$set(u),(!n||r&4096&&i!==(i=s[12]))&&S(e,"style",i)},i(s){n||(H(t.$$.fragment,s),n=!0)},o(s){X(t.$$.fragment,s),n=!1},d(s){s&&b(e),Ve(t)}}}function rl(l){let e,t,i,n;return t=new Ol({props:{height:"auto",overscanCount:10,itemCount:l[0].grouped[l[9]].length,itemSize:l[0].grouped[l[9]].map(l[6]),$$slots:{item:[Ps,({style:s,index:r})=>({12:s,13:r}),({style:s,index:r})=>(s?4096:0)|(r?8192:0)]},$$scope:{ctx:l}}}),{c(){e=E("div"),Me(t.$$.fragment),i=U(),this.h()},l(s){e=T(s,"DIV",{class:!0});var r=y(e);Oe(t.$$.fragment,r),i=q(r),r.forEach(b),this.h()},h(){S(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(s,r){D(s,e,r),De(t,e,null),p(e,i),n=!0},p(s,r){const u={};r&1&&(u.itemCount=s[0].grouped[s[9]].length),r&1&&(u.itemSize=s[0].grouped[s[9]].map(s[6])),r&28699&&(u.$$scope={dirty:r,ctx:s}),t.$set(u)},i(s){n||(H(t.$$.fragment,s),n=!0)},o(s){X(t.$$.fragment,s),n=!1},d(s){s&&b(e),Ve(t)}}}function Ps(l){let e,t,i,n;return t=new Ml({props:{set:l[0].grouped[l[9]][l[13]],highlight:l[1],jewel:l[3],conqueror:l[4]}}),{c(){e=E("div"),Me(t.$$.fragment),this.h()},l(s){e=T(s,"DIV",{slot:!0,style:!0});var r=y(e);Oe(t.$$.fragment,r),r.forEach(b),this.h()},h(){S(e,"slot","item"),S(e,"style",i=l[12])},m(s,r){D(s,e,r),De(t,e,null),n=!0},p(s,r){const u={};r&8193&&(u.set=s[0].grouped[s[9]][s[13]]),r&2&&(u.highlight=s[1]),r&8&&(u.jewel=s[3]),r&16&&(u.conqueror=s[4]),t.$set(u),(!n||r&4096&&i!==(i=s[12]))&&S(e,"style",i)},i(s){n||(H(t.$$.fragment,s),n=!0)},o(s){X(t.$$.fragment,s),n=!1},d(s){s&&b(e),Ve(t)}}}function ol(l){let e,t,i=l[9]+"",n,s,r=l[9]>1?"es":"",u,o,a=l[0].grouped[l[9]].length+"",h,m,d,g,c=l[5]===l[9]?"^":"V",f,_,v,N,z,O;function A(){return l[8](l[9])}let P=l[5]===l[9]&&rl(l);return{c(){e=E("button"),t=E("span"),n=J(i),s=J(" Match"),u=J(r),o=J(" ["),h=J(a),m=J("]"),d=U(),g=E("span"),f=J(c),_=U(),P&&P.c(),v=be(),this.h()},l(I){e=T(I,"BUTTON",{class:!0});var R=y(e);t=T(R,"SPAN",{});var V=y(t);n=L(V,i),s=L(V," Match"),u=L(V,r),o=L(V," ["),h=L(V,a),m=L(V,"]"),V.forEach(b),d=q(R),g=T(R,"SPAN",{});var M=y(g);f=L(M,c),M.forEach(b),R.forEach(b),_=q(I),P&&P.l(I),v=be(),this.h()},h(){S(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(I,R){D(I,e,R),p(e,t),p(t,n),p(t,s),p(t,u),p(t,o),p(t,h),p(t,m),p(e,d),p(e,g),p(g,f),D(I,_,R),P&&P.m(I,R),D(I,v,R),N=!0,z||(O=te(e,"click",A),z=!0)},p(I,R){l=I,(!N||R&1)&&i!==(i=l[9]+"")&&ve(n,i),(!N||R&1)&&r!==(r=l[9]>1?"es":"")&&ve(u,r),(!N||R&1)&&a!==(a=l[0].grouped[l[9]].length+"")&&ve(h,a),(!N||R&33)&&c!==(c=l[5]===l[9]?"^":"V")&&ve(f,c),l[5]===l[9]?P?(P.p(l,R),R&33&&H(P,1)):(P=rl(l),P.c(),H(P,1),P.m(v.parentNode,v)):P&&(Ne(),X(P,1,1,()=>{P=null}),Ce())},i(I){N||(H(P),N=!0)},o(I){X(P),N=!1},d(I){I&&b(e),I&&b(_),P&&P.d(I),I&&b(v),z=!1,O()}}}function Rs(l){let e,t,i,n;const s=[ys,Ts],r=[];function u(o,a){return o[2]?0:1}return e=u(l),t=r[e]=s[e](l),{c(){t.c(),i=be()},l(o){t.l(o),i=be()},m(o,a){r[e].m(o,a),D(o,i,a),n=!0},p(o,[a]){let h=e;e=u(o),e===h?r[e].p(o,a):(Ne(),X(r[h],1,1,()=>{r[h]=null}),Ce(),t=r[e],t?t.p(o,a):(t=r[e]=s[e](o),t.c()),H(t,1),t.m(i.parentNode,i))},i(o){n||(H(t),n=!0)},o(o){X(t),n=!1},d(o){r[e].d(o),o&&b(i)}}}const al=(l,e)=>l-e;function zs(l,e,t){let{searchResults:i}=e,{highlight:n}=e,{groupResults:s=!0}=e,{jewel:r}=e,{conqueror:u}=e;const o=d=>8+48+d.skills.reduce((g,c)=>g+32+Object.keys(c.stats).length*24,0);let a="";const h=d=>parseInt(d),m=d=>t(5,a=a===d?"":d);return l.$$set=d=>{"searchResults"in d&&t(0,i=d.searchResults),"highlight"in d&&t(1,n=d.highlight),"groupResults"in d&&t(2,s=d.groupResults),"jewel"in d&&t(3,r=d.jewel),"conqueror"in d&&t(4,u=d.conqueror)},[i,n,s,r,u,a,o,h,m]}class Ns extends tt{constructor(e){super(),lt(this,e,zs,Rs,st,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const We={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:Cs}=Pl;function fl(l,e,t){const i=l.slice();return i[77]=e[t],i[78]=e,i[79]=t,i}function ul(l,e,t){const i=l.slice();return i[70]=e[t],i}function cl(l,e,t){const i=l.slice();return i[70]=e[t],i}function dl(l,e,t){const i=l.slice();return i[70]=e[t],i}function Ms(l){let e,t,i,n,s,r,u,o;return{c(){e=E("button"),t=E("div"),i=U(),n=E("div"),s=U(),r=E("div"),this.h()},l(a){e=T(a,"BUTTON",{class:!0});var h=y(e);t=T(h,"DIV",{}),y(t).forEach(b),i=q(h),n=T(h,"DIV",{}),y(n).forEach(b),s=q(h),r=T(h,"DIV",{}),y(r).forEach(b),h.forEach(b),this.h()},h(){S(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(a,h){D(a,e,h),p(e,t),p(e,i),p(e,n),p(e,s),p(e,r),u||(o=te(e,"click",l[65]),u=!0)},p:Be,i:Be,o:Be,d(a){a&&b(e),u=!1,o()}}}function Os(l){let e,t,i,n,s,r,u,o,a,h,m,d,g=l[13]?"Results":"Timeless Jewel",c,f,_,v,N,z,O,A=l[17]&&hl(l),P=!l[13]&&_l(l),I=l[17]&&l[13]&&yl(l);return{c(){e=E("div"),t=E("div"),i=E("div"),n=E("div"),s=E("button"),r=E("div"),u=U(),o=E("div"),a=U(),h=E("div"),m=U(),d=E("h3"),c=J(g),f=U(),A&&A.c(),_=U(),P&&P.c(),v=U(),I&&I.c(),this.h()},l(R){e=T(R,"DIV",{class:!0});var V=y(e);t=T(V,"DIV",{class:!0});var M=y(t);i=T(M,"DIV",{class:!0});var G=y(i);n=T(G,"DIV",{class:!0});var Y=y(n);s=T(Y,"BUTTON",{class:!0});var Q=y(s);r=T(Q,"DIV",{}),y(r).forEach(b),u=q(Q),o=T(Q,"DIV",{}),y(o).forEach(b),a=q(Q),h=T(Q,"DIV",{}),y(h).forEach(b),Q.forEach(b),m=q(Y),d=T(Y,"H3",{class:!0});var B=y(d);c=L(B,g),B.forEach(b),Y.forEach(b),f=q(G),A&&A.l(G),G.forEach(b),_=q(M),P&&P.l(M),v=q(M),I&&I.l(M),M.forEach(b),V.forEach(b),this.h()},h(){S(s,"class","burger-menu mr-3"),S(d,"class","flex-grow"),S(n,"class","flex flex-row items-center"),S(i,"class","flex flex-row justify-between mb-2"),S(t,"class","p-4 max-h-screen flex flex-col"),S(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(R,V){D(R,e,V),p(e,t),p(t,i),p(i,n),p(n,s),p(s,r),p(s,u),p(s,o),p(s,a),p(s,h),p(n,m),p(n,d),p(d,c),p(i,f),A&&A.m(i,null),p(t,_),P&&P.m(t,null),p(t,v),I&&I.m(t,null),N=!0,z||(O=te(s,"click",l[44]),z=!0)},p(R,V){(!N||V[0]&8192)&&g!==(g=R[13]?"Results":"Timeless Jewel")&&ve(c,g),R[17]?A?A.p(R,V):(A=hl(R),A.c(),A.m(i,null)):A&&(A.d(1),A=null),R[13]?P&&(Ne(),X(P,1,1,()=>{P=null}),Ce()):P?(P.p(R,V),V[0]&8192&&H(P,1)):(P=_l(R),P.c(),H(P,1),P.m(t,v)),R[17]&&R[13]?I?(I.p(R,V),V[0]&139264&&H(I,1)):(I=yl(R),I.c(),H(I,1),I.m(t,null)):I&&(Ne(),X(I,1,1,()=>{I=null}),Ce())},i(R){N||(H(P),H(I),N=!0)},o(R){X(P),X(I),N=!1},d(R){R&&b(e),A&&A.d(),P&&P.d(),I&&I.d(),z=!1,O()}}}function hl(l){let e,t,i,n=l[13]?"Config":"Results",s,r,u,o=l[13]&&ml(l);return{c(){e=E("div"),o&&o.c(),t=U(),i=E("button"),s=J(n),this.h()},l(a){e=T(a,"DIV",{class:!0});var h=y(e);o&&o.l(h),t=q(h),i=T(h,"BUTTON",{class:!0});var m=y(i);s=L(m,n),m.forEach(b),h.forEach(b),this.h()},h(){S(i,"class","bg-neutral-100/20 px-4 p-1 rounded"),S(e,"class","flex flex-row")},m(a,h){D(a,e,h),o&&o.m(e,null),p(e,t),p(e,i),p(i,s),r||(u=te(i,"click",l[47]),r=!0)},p(a,h){a[13]?o?o.p(a,h):(o=ml(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h[0]&8192&&n!==(n=a[13]?"Config":"Results")&&ve(s,n)},d(a){a&&b(e),o&&o.d(),r=!1,u()}}}function ml(l){let e,t,i,n,s,r,u,o,a;return{c(){e=E("button"),t=J("Trade"),n=U(),s=E("button"),r=J("Grouped"),this.h()},l(h){e=T(h,"BUTTON",{class:!0});var m=y(e);t=L(m,"Trade"),m.forEach(b),n=q(h),s=T(h,"BUTTON",{class:!0});var d=y(s);r=L(d,"Grouped"),d.forEach(b),this.h()},h(){S(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!l[17],S(s,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-lpk64y"),s.disabled=u=!l[17],de(s,"grouped",l[5])},m(h,m){D(h,e,m),p(e,t),D(h,n,m),D(h,s,m),p(s,r),o||(a=[te(e,"click",l[45]),te(s,"click",l[46])],o=!0)},p(h,m){m[0]&131072&&i!==(i=!h[17])&&(e.disabled=i),m[0]&131072&&u!==(u=!h[17])&&(s.disabled=u),m[0]&32&&de(s,"grouped",h[5])},d(h){h&&b(e),h&&b(n),h&&b(s),o=!1,Ye(a)}}}function _l(l){let e,t,i,n,s;function r(a){l[48](a)}let u={items:l[25]};l[0]!==void 0&&(u.value=l[0]),e=new At({props:u}),$e.push(()=>Vt(e,"value",r)),e.$on("select",l[31]);let o=l[0]&&gl(l);return{c(){Me(e.$$.fragment),i=U(),o&&o.c(),n=be()},l(a){Oe(e.$$.fragment,a),i=q(a),o&&o.l(a),n=be()},m(a,h){De(e,a,h),D(a,i,h),o&&o.m(a,h),D(a,n,h),s=!0},p(a,h){const m={};!t&&h[0]&1&&(t=!0,m.value=a[0],Dt(()=>t=!1)),e.$set(m),a[0]?o?(o.p(a,h),h[0]&1&&H(o,1)):(o=gl(a),o.c(),H(o,1),o.m(n.parentNode,n)):o&&(Ne(),X(o,1,1,()=>{o=null}),Ce())},i(a){s||(H(e.$$.fragment,a),H(o),s=!0)},o(a){X(e.$$.fragment,a),X(o),s=!1},d(a){Ve(e,a),a&&b(i),o&&o.d(a),a&&b(n)}}}function gl(l){let e,t,i,n,s,r,u,o=l[1]&&window.TimelessJewelConquerors[l[0].value].indexOf(l[1].value)>=0,a,h;function m(c){l[49](c)}let d={items:l[24]};l[1]!==void 0&&(d.value=l[1]),s=new At({props:d}),$e.push(()=>Vt(s,"value",m)),s.$on("select",l[26]);let g=o&&pl(l);return{c(){e=E("div"),t=E("h3"),i=J("Conqueror"),n=U(),Me(s.$$.fragment),u=U(),g&&g.c(),a=be(),this.h()},l(c){e=T(c,"DIV",{class:!0});var f=y(e);t=T(f,"H3",{class:!0});var _=y(t);i=L(_,"Conqueror"),_.forEach(b),n=q(f),Oe(s.$$.fragment,f),f.forEach(b),u=q(c),g&&g.l(c),a=be(),this.h()},h(){S(t,"class","mb-2"),S(e,"class","mt-4")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(e,n),De(s,e,null),D(c,u,f),g&&g.m(c,f),D(c,a,f),h=!0},p(c,f){const _={};f[0]&16777216&&(_.items=c[24]),!r&&f[0]&2&&(r=!0,_.value=c[1],Dt(()=>r=!1)),s.$set(_),f[0]&3&&(o=c[1]&&window.TimelessJewelConquerors[c[0].value].indexOf(c[1].value)>=0),o?g?(g.p(c,f),f[0]&3&&H(g,1)):(g=pl(c),g.c(),H(g,1),g.m(a.parentNode,a)):g&&(Ne(),X(g,1,1,()=>{g=null}),Ce())},i(c){h||(H(s.$$.fragment,c),H(g),h=!0)},o(c){X(s.$$.fragment,c),X(g),h=!1},d(c){c&&b(e),Ve(s),c&&b(u),g&&g.d(c),c&&b(a)}}}function pl(l){let e,t,i,n,s,r,u,o,a,h,m,d,g,c;const f=[Vs,Ds],_=[];function v(z,O){return z[10]==="seed"?0:z[10]==="stats"?1:-1}~(o=v(l))&&(a=_[o]=f[o](l));let N=!l[3]&&Tl();return{c(){e=E("div"),t=E("button"),i=J("Enter Seed"),n=U(),s=E("button"),r=J("Select Stats"),u=U(),a&&a.c(),h=U(),N&&N.c(),m=be(),this.h()},l(z){e=T(z,"DIV",{class:!0});var O=y(e);t=T(O,"BUTTON",{class:!0});var A=y(t);i=L(A,"Enter Seed"),A.forEach(b),n=q(O),s=T(O,"BUTTON",{class:!0});var P=y(s);r=L(P,"Select Stats"),P.forEach(b),O.forEach(b),u=q(z),a&&a.l(z),h=q(z),N&&N.l(z),m=be(),this.h()},h(){S(t,"class","selection-button svelte-lpk64y"),de(t,"selected",l[10]==="seed"),S(s,"class","selection-button svelte-lpk64y"),de(s,"selected",l[10]==="stats"),S(e,"class","mt-4 w-full flex flex-row")},m(z,O){D(z,e,O),p(e,t),p(t,i),p(e,n),p(e,s),p(s,r),D(z,u,O),~o&&_[o].m(z,O),D(z,h,O),N&&N.m(z,O),D(z,m,O),d=!0,g||(c=[te(t,"click",l[50]),te(s,"click",l[51])],g=!0)},p(z,O){O[0]&1024&&de(t,"selected",z[10]==="seed"),O[0]&1024&&de(s,"selected",z[10]==="stats");let A=o;o=v(z),o===A?~o&&_[o].p(z,O):(a&&(Ne(),X(_[A],1,1,()=>{_[A]=null}),Ce()),~o?(a=_[o],a?a.p(z,O):(a=_[o]=f[o](z),a.c()),H(a,1),a.m(h.parentNode,h)):a=null),z[3]?N&&(N.d(1),N=null):N||(N=Tl(),N.c(),N.m(m.parentNode,m))},i(z){d||(H(a),d=!0)},o(z){X(a),d=!1},d(z){z&&b(e),z&&b(u),~o&&_[o].d(z),z&&b(h),N&&N.d(z),z&&b(m),g=!1,Ye(c)}}}function Ds(l){let e,t,i,n,s,r,u=Object.keys(l[4]).length>0,o,a,h={items:l[22]};s=new At({props:h}),l[59](s),s.$on("select",l[29]);let m=u&&bl(l);return{c(){e=E("div"),t=E("h3"),i=J("Add Stat"),n=U(),Me(s.$$.fragment),r=U(),m&&m.c(),o=be(),this.h()},l(d){e=T(d,"DIV",{class:!0});var g=y(e);t=T(g,"H3",{class:!0});var c=y(t);i=L(c,"Add Stat"),c.forEach(b),n=q(g),Oe(s.$$.fragment,g),g.forEach(b),r=q(d),m&&m.l(d),o=be(),this.h()},h(){S(t,"class","mb-2"),S(e,"class","mt-4")},m(d,g){D(d,e,g),p(e,t),p(t,i),p(e,n),De(s,e,null),D(d,r,g),m&&m.m(d,g),D(d,o,g),a=!0},p(d,g){const c={};g[0]&4194304&&(c.items=d[22]),s.$set(c),g[0]&16&&(u=Object.keys(d[4]).length>0),u?m?m.p(d,g):(m=bl(d),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(d){a||(H(s.$$.fragment,d),a=!0)},o(d){X(s.$$.fragment,d),a=!1},d(d){d&&b(e),l[59](null),Ve(s),d&&b(r),m&&m.d(d),d&&b(o)}}}function Vs(l){let e,t,i,n,s,r,u,o,a,h,m,d,g,c=(l[2]<window.TimelessJewelSeedRanges[l[0].value].min||l[2]>window.TimelessJewelSeedRanges[l[0].value].max)&&vl(l),f=l[2]>=window.TimelessJewelSeedRanges[l[0].value].min&&l[2]<=window.TimelessJewelSeedRanges[l[0].value].max&&kl(l);return{c(){e=E("div"),t=E("h3"),i=J("Seed"),n=U(),s=E("input"),o=U(),c&&c.c(),a=U(),f&&f.c(),h=be(),this.h()},l(_){e=T(_,"DIV",{class:!0});var v=y(e);t=T(v,"H3",{class:!0});var N=y(t);i=L(N,"Seed"),N.forEach(b),n=q(v),s=T(v,"INPUT",{type:!0,min:!0,max:!0}),o=q(v),c&&c.l(v),v.forEach(b),a=q(_),f&&f.l(_),h=be(),this.h()},h(){S(t,"class","mb-2"),S(s,"type","number"),S(s,"min",r=window.TimelessJewelSeedRanges[l[0].value].min),S(s,"max",u=window.TimelessJewelSeedRanges[l[0].value].max),S(e,"class","mt-4")},m(_,v){D(_,e,v),p(e,t),p(t,i),p(e,n),p(e,s),Ke(s,l[2]),p(e,o),c&&c.m(e,null),D(_,a,v),f&&f.m(_,v),D(_,h,v),m=!0,d||(g=[te(s,"input",l[52]),te(s,"blur",l[26])],d=!0)},p(_,v){(!m||v[0]&1&&r!==(r=window.TimelessJewelSeedRanges[_[0].value].min))&&S(s,"min",r),(!m||v[0]&1&&u!==(u=window.TimelessJewelSeedRanges[_[0].value].max))&&S(s,"max",u),v[0]&4&&Ge(s.value)!==_[2]&&Ke(s,_[2]),_[2]<window.TimelessJewelSeedRanges[_[0].value].min||_[2]>window.TimelessJewelSeedRanges[_[0].value].max?c?c.p(_,v):(c=vl(_),c.c(),c.m(e,null)):c&&(c.d(1),c=null),_[2]>=window.TimelessJewelSeedRanges[_[0].value].min&&_[2]<=window.TimelessJewelSeedRanges[_[0].value].max?f?(f.p(_,v),v[0]&5&&H(f,1)):(f=kl(_),f.c(),H(f,1),f.m(h.parentNode,h)):f&&(Ne(),X(f,1,1,()=>{f=null}),Ce())},i(_){m||(H(f),m=!0)},o(_){X(f),m=!1},d(_){_&&b(e),c&&c.d(),_&&b(a),f&&f.d(_),_&&b(h),d=!1,Ye(g)}}}function bl(l){let e,t,i,n,s,r,u,o,a,h,m,d,g,c,f,_,v,N,z,O,A,P,I,R,V,M,G,Y,Q,B,se,ee=Object.keys(l[4]),K=[];for(let j=0;j<ee.length;j+=1)K[j]=wl(fl(l,ee,j));function Se(j,re){return j[15]?Ls:Js}let _e=Se(l),oe=_e(l);return{c(){e=E("div");for(let j=0;j<K.length;j+=1)K[j].c();t=U(),i=E("div"),n=E("div"),s=E("div"),r=J("Min Total Weight:"),u=U(),o=E("input"),a=U(),h=E("div"),m=E("div"),d=E("button"),g=J("Select All"),f=U(),_=E("button"),v=J("Notables"),z=U(),O=E("button"),A=J("Passives"),I=U(),R=E("button"),V=J("Deselect"),G=U(),Y=E("div"),Q=E("button"),oe.c(),this.h()},l(j){e=T(j,"DIV",{class:!0});var re=y(e);for(let je=0;je<K.length;je+=1)K[je].l(re);re.forEach(b),t=q(j),i=T(j,"DIV",{class:!0});var Z=y(i);n=T(Z,"DIV",{class:!0});var C=y(n);s=T(C,"DIV",{class:!0});var ie=y(s);r=L(ie,"Min Total Weight:"),ie.forEach(b),u=q(C),o=T(C,"INPUT",{type:!0,min:!0}),C.forEach(b),Z.forEach(b),a=q(j),h=T(j,"DIV",{class:!0});var ge=y(h);m=T(ge,"DIV",{class:!0});var ue=y(m);d=T(ue,"BUTTON",{class:!0});var ke=y(d);g=L(ke,"Select All"),ke.forEach(b),f=q(ue),_=T(ue,"BUTTON",{class:!0});var Je=y(_);v=L(Je,"Notables"),Je.forEach(b),z=q(ue),O=T(ue,"BUTTON",{class:!0});var pe=y(O);A=L(pe,"Passives"),pe.forEach(b),I=q(ue),R=T(ue,"BUTTON",{class:!0});var Ae=y(R);V=L(Ae,"Deselect"),Ae.forEach(b),ue.forEach(b),G=q(ge),Y=T(ge,"DIV",{class:!0});var Le=y(Y);Q=T(Le,"BUTTON",{class:!0});var Xe=y(Q);oe.l(Xe),Xe.forEach(b),Le.forEach(b),ge.forEach(b),this.h()},h(){S(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),S(s,"class","mr-2 min-w-fit"),S(o,"type","number"),S(o,"min","0"),S(n,"class","flex flex-row items-center"),S(i,"class","flex flex-col mt-2"),S(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=c=l[15]||l[11].size==0,S(_,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),_.disabled=N=l[15]||l[11].size==0,S(O,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),O.disabled=P=l[15]||l[11].size==0,S(R,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),R.disabled=M=l[15]||l[11].size>=l[9].length,S(m,"class","flex flex-row"),S(Q,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),Q.disabled=l[15],S(Y,"class","flex flex-row mt-2"),S(h,"class","flex flex-col mt-4")},m(j,re){D(j,e,re);for(let Z=0;Z<K.length;Z+=1)K[Z].m(e,null);D(j,t,re),D(j,i,re),p(i,n),p(n,s),p(s,r),p(n,u),p(n,o),Ke(o,l[14]),D(j,a,re),D(j,h,re),p(h,m),p(m,d),p(d,g),p(m,f),p(m,_),p(_,v),p(m,z),p(m,O),p(O,A),p(m,I),p(m,R),p(R,V),p(h,G),p(h,Y),p(Y,Q),oe.m(Q,null),B||(se=[te(o,"input",l[63]),te(d,"click",l[34]),te(_,"click",l[35]),te(O,"click",l[36]),te(R,"click",l[37]),te(Q,"click",l[64])],B=!0)},p(j,re){if(re[0]&1073741840){ee=Object.keys(j[4]);let Z;for(Z=0;Z<ee.length;Z+=1){const C=fl(j,ee,Z);K[Z]?K[Z].p(C,re):(K[Z]=wl(C),K[Z].c(),K[Z].m(e,null))}for(;Z<K.length;Z+=1)K[Z].d(1);K.length=ee.length}re[0]&16384&&Ge(o.value)!==j[14]&&Ke(o,j[14]),re[0]&34816&&c!==(c=j[15]||j[11].size==0)&&(d.disabled=c),re[0]&34816&&N!==(N=j[15]||j[11].size==0)&&(_.disabled=N),re[0]&34816&&P!==(P=j[15]||j[11].size==0)&&(O.disabled=P),re[0]&35328&&M!==(M=j[15]||j[11].size>=j[9].length)&&(R.disabled=M),_e===(_e=Se(j))&&oe?oe.p(j,re):(oe.d(1),oe=_e(j),oe&&(oe.c(),oe.m(Q,null))),re[0]&32768&&(Q.disabled=j[15])},d(j){j&&b(e),et(K,j),j&&b(t),j&&b(i),j&&b(a),j&&b(h),oe.d(),B=!1,Ye(se)}}}function wl(l){let e,t,i,n,s,r,u=nt(l[4][l[77]].id)+"",o,a,h,m,d,g,c,f,_,v,N,z,O,A,P,I,R;function V(){return l[60](l[77])}function M(){l[61].call(f,l[77])}function G(){l[62].call(A,l[77])}return{c(){e=E("div"),t=E("div"),i=E("button"),n=J("-"),s=U(),r=E("span"),o=J(u),a=U(),h=E("div"),m=E("div"),d=E("div"),g=J("Min:"),c=U(),f=E("input"),_=U(),v=E("div"),N=E("div"),z=J("Weight:"),O=U(),A=E("input"),P=U(),this.h()},l(Y){e=T(Y,"DIV",{class:!0});var Q=y(e);t=T(Q,"DIV",{});var B=y(t);i=T(B,"BUTTON",{class:!0});var se=y(i);n=L(se,"-"),se.forEach(b),s=q(B),r=T(B,"SPAN",{});var ee=y(r);o=L(ee,u),ee.forEach(b),B.forEach(b),a=q(Q),h=T(Q,"DIV",{class:!0});var K=y(h);m=T(K,"DIV",{class:!0});var Se=y(m);d=T(Se,"DIV",{class:!0});var _e=y(d);g=L(_e,"Min:"),_e.forEach(b),c=q(Se),f=T(Se,"INPUT",{type:!0,min:!0}),Se.forEach(b),_=q(K),v=T(K,"DIV",{class:!0});var oe=y(v);N=T(oe,"DIV",{class:!0});var j=y(N);z=L(j,"Weight:"),j.forEach(b),O=q(oe),A=T(oe,"INPUT",{type:!0,min:!0}),oe.forEach(b),K.forEach(b),P=q(Q),Q.forEach(b),this.h()},h(){S(i,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),S(d,"class","mr-2"),S(f,"type","number"),S(f,"min","0"),S(m,"class","mr-4 flex flex-row items-center"),S(N,"class","mr-2"),S(A,"type","number"),S(A,"min","0"),S(v,"class","flex flex-row items-center"),S(h,"class","mt-2 flex flex-row"),S(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(Y,Q){D(Y,e,Q),p(e,t),p(t,i),p(i,n),p(t,s),p(t,r),p(r,o),p(e,a),p(e,h),p(h,m),p(m,d),p(d,g),p(m,c),p(m,f),Ke(f,l[4][l[77]].min),p(h,_),p(h,v),p(v,N),p(N,z),p(v,O),p(v,A),Ke(A,l[4][l[77]].weight),p(e,P),I||(R=[te(i,"click",V),te(f,"input",M),te(A,"input",G)],I=!0)},p(Y,Q){l=Y,Q[0]&16&&u!==(u=nt(l[4][l[77]].id)+"")&&ve(o,u),Q[0]&16&&Ge(f.value)!==l[4][l[77]].min&&Ke(f,l[4][l[77]].min),Q[0]&16&&Ge(A.value)!==l[4][l[77]].weight&&Ke(A,l[4][l[77]].weight)},d(Y){Y&&b(e),I=!1,Ye(R)}}}function Js(l){let e;return{c(){e=J("Search")},l(t){e=L(t,"Search")},m(t,i){D(t,e,i)},p:Be,d(t){t&&b(e)}}}function Ls(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].max+"",n;return{c(){e=J(l[16]),t=J(" / "),n=J(i)},l(s){e=L(s,l[16]),t=L(s," / "),n=L(s,i)},m(s,r){D(s,e,r),D(s,t,r),D(s,n,r)},p(s,r){r[0]&65536&&ve(e,s[16]),r[0]&1&&i!==(i=window.TimelessJewelSeedRanges[s[0].value].max+"")&&ve(n,i)},d(s){s&&b(e),s&&b(t),s&&b(n)}}}function vl(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].min+"",n,s,r=window.TimelessJewelSeedRanges[l[0].value].max+"",u;return{c(){e=E("div"),t=J("Seed must be between "),n=J(i),s=J(`
                      and `),u=J(r),this.h()},l(o){e=T(o,"DIV",{class:!0});var a=y(e);t=L(a,"Seed must be between "),n=L(a,i),s=L(a,`
                      and `),u=L(a,r),a.forEach(b),this.h()},h(){S(e,"class","mt-2")},m(o,a){D(o,e,a),p(e,t),p(e,n),p(e,s),p(e,u)},p(o,a){a[0]&1&&i!==(i=window.TimelessJewelSeedRanges[o[0].value].min+"")&&ve(n,i),a[0]&1&&r!==(r=window.TimelessJewelSeedRanges[o[0].value].max+"")&&ve(u,r)},d(o){o&&b(e)}}}function kl(l){let e,t,i,n,s,r,u,o,a,h,m,d,g,c,f,_,v,N,z,O;function A(M){l[53](M)}let P={items:l[40]};l[6]!==void 0&&(P.value=l[6]),r=new At({props:P}),$e.push(()=>Vt(r,"value",A));function I(M,G){return M[8]?js:Us}let R=I(l),V=R(l);return{c(){e=E("div"),t=E("div"),i=E("h3"),n=J("Sort Order"),s=U(),Me(r.$$.fragment),o=U(),a=E("div"),h=E("button"),m=J("Colors"),d=U(),g=E("div"),c=E("button"),f=J("Split"),_=U(),V.c(),v=be(),this.h()},l(M){e=T(M,"DIV",{class:!0});var G=y(e);t=T(G,"DIV",{class:!0});var Y=y(t);i=T(Y,"H3",{class:!0});var Q=y(i);n=L(Q,"Sort Order"),Q.forEach(b),s=q(Y),Oe(r.$$.fragment,Y),Y.forEach(b),o=q(G),a=T(G,"DIV",{class:!0});var B=y(a);h=T(B,"BUTTON",{class:!0});var se=y(h);m=L(se,"Colors"),se.forEach(b),B.forEach(b),d=q(G),g=T(G,"DIV",{class:!0});var ee=y(g);c=T(ee,"BUTTON",{class:!0});var K=y(c);f=L(K,"Split"),K.forEach(b),ee.forEach(b),G.forEach(b),_=q(M),V.l(M),v=be(),this.h()},h(){S(i,"class","mb-2"),S(t,"class","flex-grow"),S(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-lpk64y"),de(h,"selected",l[7]),S(a,"class","ml-2"),S(c,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-lpk64y"),de(c,"selected",l[8]),S(g,"class","ml-2"),S(e,"class","flex flex-row mt-4 items-end")},m(M,G){D(M,e,G),p(e,t),p(t,i),p(i,n),p(t,s),De(r,t,null),p(e,o),p(e,a),p(a,h),p(h,m),p(e,d),p(e,g),p(g,c),p(c,f),D(M,_,G),V.m(M,G),D(M,v,G),N=!0,z||(O=[te(h,"click",l[54]),te(c,"click",l[55])],z=!0)},p(M,G){const Y={};!u&&G[0]&64&&(u=!0,Y.value=M[6],Dt(()=>u=!1)),r.$set(Y),G[0]&128&&de(h,"selected",M[7]),G[0]&256&&de(c,"selected",M[8]),R===(R=I(M))&&V?V.p(M,G):(V.d(1),V=R(M),V&&(V.c(),V.m(v.parentNode,v)))},i(M){N||(H(r.$$.fragment,M),N=!0)},o(M){X(r.$$.fragment,M),N=!1},d(M){M&&b(e),Ve(r),M&&b(_),V.d(M),M&&b(v),z=!1,Ye(O)}}}function js(l){let e,t,i,n,s,r,u,o,a,h,m=l[39](l[38](l[23],l[7],"notables"),l[6].value),d=[];for(let f=0;f<m.length;f+=1)d[f]=Sl(cl(l,m,f));let g=l[39](l[38](l[23],l[7],"passives"),l[6].value),c=[];for(let f=0;f<g.length;f+=1)c[f]=Il(ul(l,g,f));return{c(){e=E("div"),t=E("h3"),i=J("Notables"),n=U(),s=E("ul");for(let f=0;f<d.length;f+=1)d[f].c();r=U(),u=E("h3"),o=J("Smalls"),a=U(),h=E("ul");for(let f=0;f<c.length;f+=1)c[f].c();this.h()},l(f){e=T(f,"DIV",{class:!0});var _=y(e);t=T(_,"H3",{});var v=y(t);i=L(v,"Notables"),v.forEach(b),n=q(_),s=T(_,"UL",{class:!0});var N=y(s);for(let A=0;A<d.length;A+=1)d[A].l(N);N.forEach(b),r=q(_),u=T(_,"H3",{class:!0});var z=y(u);o=L(z,"Smalls"),z.forEach(b),a=q(_),h=T(_,"UL",{class:!0});var O=y(h);for(let A=0;A<c.length;A+=1)c[A].l(O);O.forEach(b),_.forEach(b),this.h()},h(){S(s,"class","mt-1 svelte-lpk64y"),de(s,"rainbow",l[7]),S(u,"class","mt-2"),S(h,"class","mt-1 svelte-lpk64y"),de(h,"rainbow",l[7]),S(e,"class","overflow-auto mt-4")},m(f,_){D(f,e,_),p(e,t),p(t,i),p(e,n),p(e,s);for(let v=0;v<d.length;v+=1)d[v].m(s,null);p(e,r),p(e,u),p(u,o),p(e,a),p(e,h);for(let v=0;v<c.length;v+=1)c[v].m(h,null)},p(f,_){if(_[0]&8388804|_[1]&388){m=f[39](f[38](f[23],f[7],"notables"),f[6].value);let v;for(v=0;v<m.length;v+=1){const N=cl(f,m,v);d[v]?d[v].p(N,_):(d[v]=Sl(N),d[v].c(),d[v].m(s,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=m.length}if(_[0]&128&&de(s,"rainbow",f[7]),_[0]&8388804|_[1]&388){g=f[39](f[38](f[23],f[7],"passives"),f[6].value);let v;for(v=0;v<g.length;v+=1){const N=ul(f,g,v);c[v]?c[v].p(N,_):(c[v]=Il(N),c[v].c(),c[v].m(h,null))}for(;v<c.length;v+=1)c[v].d(1);c.length=g.length}_[0]&128&&de(h,"rainbow",f[7])},d(f){f&&b(e),et(d,f),et(c,f)}}}function Us(l){let e,t=l[39](l[38](l[23],l[7],"all"),l[6].value),i=[];for(let n=0;n<t.length;n+=1)i[n]=El(dl(l,t,n));return{c(){e=E("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=T(n,"UL",{class:!0});var s=y(e);for(let r=0;r<i.length;r+=1)i[r].l(s);s.forEach(b),this.h()},h(){S(e,"class","mt-4 overflow-auto svelte-lpk64y"),de(e,"rainbow",l[7])},m(n,s){D(n,e,s);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(n,s){if(s[0]&8388804|s[1]&388){t=n[39](n[38](n[23],n[7],"all"),n[6].value);let r;for(r=0;r<t.length;r+=1){const u=dl(n,t,r);i[r]?i[r].p(u,s):(i[r]=El(u),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}s[0]&128&&de(e,"rainbow",n[7])},d(n){n&&b(e),et(i,n)}}}function Sl(l){let e,t,i,n=l[70].passives.length+"",s,r,u,o,a=l[70].stat+"",h,m,d;function g(){return l[57](l[70])}return{c(){e=E("li"),t=E("span"),i=J("("),s=J(n),r=J(")"),u=U(),o=E("span"),h=U(),this.h()},l(c){e=T(c,"LI",{class:!0});var f=y(e);t=T(f,"SPAN",{class:!0});var _=y(t);i=L(_,"("),s=L(_,n),r=L(_,")"),_.forEach(b),u=q(f),o=T(f,"SPAN",{class:!0});var v=y(o);v.forEach(b),h=q(f),f.forEach(b),this.h()},h(){S(t,"class","font-bold"),de(t,"text-white",(We[l[70].id]||0)<3),S(o,"class","text-white"),S(e,"class","cursor-pointer")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(t,s),p(t,r),p(e,u),p(e,o),o.innerHTML=a,p(e,h),m||(d=te(e,"click",g),m=!0)},p(c,f){l=c,f[0]&8388800&&n!==(n=l[70].passives.length+"")&&ve(s,n),f[0]&8388800|f[1]&384&&de(t,"text-white",(We[l[70].id]||0)<3),f[0]&8388800&&a!==(a=l[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),m=!1,d()}}}function Il(l){let e,t,i,n=l[70].passives.length+"",s,r,u,o,a=l[70].stat+"",h,m,d;function g(){return l[58](l[70])}return{c(){e=E("li"),t=E("span"),i=J("("),s=J(n),r=J(")"),u=U(),o=E("span"),h=U(),this.h()},l(c){e=T(c,"LI",{class:!0});var f=y(e);t=T(f,"SPAN",{class:!0});var _=y(t);i=L(_,"("),s=L(_,n),r=L(_,")"),_.forEach(b),u=q(f),o=T(f,"SPAN",{class:!0});var v=y(o);v.forEach(b),h=q(f),f.forEach(b),this.h()},h(){S(t,"class","font-bold"),de(t,"text-white",(We[l[70].id]||0)<3),S(o,"class","text-white"),S(e,"class","cursor-pointer")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(t,s),p(t,r),p(e,u),p(e,o),o.innerHTML=a,p(e,h),m||(d=te(e,"click",g),m=!0)},p(c,f){l=c,f[0]&8388800&&n!==(n=l[70].passives.length+"")&&ve(s,n),f[0]&8388800|f[1]&384&&de(t,"text-white",(We[l[70].id]||0)<3),f[0]&8388800&&a!==(a=l[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),m=!1,d()}}}function El(l){let e,t,i,n=l[70].passives.length+"",s,r,u,o,a=l[70].stat+"",h,m,d;function g(){return l[56](l[70])}return{c(){e=E("li"),t=E("span"),i=J("("),s=J(n),r=J(")"),u=U(),o=E("span"),h=U(),this.h()},l(c){e=T(c,"LI",{class:!0});var f=y(e);t=T(f,"SPAN",{class:!0});var _=y(t);i=L(_,"("),s=L(_,n),r=L(_,")"),_.forEach(b),u=q(f),o=T(f,"SPAN",{class:!0});var v=y(o);v.forEach(b),h=q(f),f.forEach(b),this.h()},h(){S(t,"class","font-bold"),de(t,"text-white",(We[l[70].id]||0)<3),S(o,"class","text-white"),S(e,"class","cursor-pointer")},m(c,f){D(c,e,f),p(e,t),p(t,i),p(t,s),p(t,r),p(e,u),p(e,o),o.innerHTML=a,p(e,h),m||(d=te(e,"click",g),m=!0)},p(c,f){l=c,f[0]&8388800&&n!==(n=l[70].passives.length+"")&&ve(s,n),f[0]&8388800|f[1]&384&&de(t,"text-white",(We[l[70].id]||0)<3),f[0]&8388800&&a!==(a=l[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),m=!1,d()}}}function Tl(l){let e,t;return{c(){e=E("h2"),t=J("Click on a jewel socket"),this.h()},l(i){e=T(i,"H2",{class:!0});var n=y(e);t=L(n,"Click on a jewel socket"),n.forEach(b),this.h()},h(){S(e,"class","mt-4")},m(i,n){D(i,e,n),p(e,t)},d(i){i&&b(e)}}}function yl(l){let e,t;return e=new Ns({props:{searchResults:l[17],groupResults:l[5],highlight:l[33],jewel:l[18],conqueror:l[19]}}),{c(){Me(e.$$.fragment)},l(i){Oe(e.$$.fragment,i)},m(i,n){De(e,i,n),t=!0},p(i,n){const s={};n[0]&131072&&(s.searchResults=i[17]),n[0]&32&&(s.groupResults=i[5]),n[0]&262144&&(s.jewel=i[18]),n[0]&524288&&(s.conqueror=i[19]),e.$set(s)},i(i){t||(H(e.$$.fragment,i),t=!0)},o(i){X(e.$$.fragment,i),t=!1},d(i){Ve(e,i)}}}function qs(l){let e,t,i,n,s,r,u;const o=[Os,Ms],a=[];function h(m,d){return m[21]?1:0}return e=h(l),t=a[e]=o[e](l),{c(){t.c(),i=U(),n=E("div"),s=E("a"),r=J("Source (Github)"),this.h()},l(m){t.l(m),i=q(m),n=T(m,"DIV",{class:!0});var d=y(n);s=T(d,"A",{href:!0,target:!0,rel:!0});var g=y(s);r=L(g,"Source (Github)"),g.forEach(b),d.forEach(b),this.h()},h(){S(s,"href","https://github.com/Vilsol/timeless-jewels"),S(s,"target","_blank"),S(s,"rel","noopener"),S(n,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(m,d){a[e].m(m,d),D(m,i,d),D(m,n,d),p(n,s),p(s,r),u=!0},p(m,d){let g=e;e=h(m),e===g?a[e].p(m,d):(Ne(),X(a[g],1,1,()=>{a[g]=null}),Ce(),t=a[e],t?t.p(m,d):(t=a[e]=o[e](m),t.c()),H(t,1),t.m(i.parentNode,i))},i(m){u||(H(t),u=!0)},o(m){X(t),u=!1},d(m){a[e].d(m),m&&b(i),m&&b(n)}}}function Fs(l){var s,r;let e,t,i,n;return e=new ms({props:{clickNode:l[28],circledNode:l[3],selectedJewel:(s=l[0])==null?void 0:s.value,selectedConqueror:(r=l[1])==null?void 0:r.value,highlighted:l[20],seed:l[2],highlightJewels:!l[3],disabled:[...l[11]],$$slots:{default:[qs]},$$scope:{ctx:l}}}),{c(){Me(e.$$.fragment)},l(u){Oe(e.$$.fragment,u)},m(u,o){De(e,u,o),t=!0,i||(n=te(Cs,"paste",l[41]),i=!0)},p(u,o){var h,m;const a={};o[0]&8&&(a.circledNode=u[3]),o[0]&1&&(a.selectedJewel=(h=u[0])==null?void 0:h.value),o[0]&2&&(a.selectedConqueror=(m=u[1])==null?void 0:m.value),o[0]&1048576&&(a.highlighted=u[20]),o[0]&4&&(a.seed=u[2]),o[0]&8&&(a.highlightJewels=!u[3]),o[0]&2048&&(a.disabled=[...u[11]]),o[0]&32505855|o[2]&262144&&(a.$$scope={dirty:o,ctx:u}),e.$set(a)},i(u){t||(H(e.$$.fragment,u),t=!0)},o(u){X(e.$$.fragment,u),t=!1},d(u){Ve(e,u),i=!1,n()}}}function Bs(l,e,t){let i,n,s,r,u,o;ye(l,$l,k=>t(66,o=k));const a=o.url.searchParams,h=Object.keys(window.TimelessJewels).map(k=>({value:parseInt(k),label:window.TimelessJewels[k]}));let m=a.has("jewel")?h.find(k=>k.value==a.get("jewel")):void 0,d=a.has("conqueror")?{value:a.get("conqueror"),label:a.get("conqueror")}:void 0,g=a.has("seed")?parseInt(a.get("seed")):0,c=a.has("location")?parseInt(a.get("location")):void 0,f={};a.has("stat")&&a.getAll("stat").forEach(k=>{const x=parseInt(k);t(4,f[x]={weight:1,min:0,id:x},f)});let _=a.has("mode")?a.get("mode"):"";const v=()=>{const k=new URL(window.location.origin+window.location.pathname);m&&k.searchParams.append("jewel",m.value.toString()),d&&k.searchParams.append("conqueror",d.value),g&&k.searchParams.append("seed",g.toString()),c&&k.searchParams.append("location",c.toString()),_&&k.searchParams.append("mode",_),Object.keys(f).forEach(x=>{k.searchParams.append("stat",x.toString())}),xl(k.toString())},N=k=>{t(10,_=k),v()};let z=new Set;const O=k=>{k.isJewelSocket?(t(3,c=k.skill),v()):k.isMastery||(z.has(k.skill)?z.delete(k.skill):z.add(k.skill),t(11,z))},A=JSON.parse(window.PossibleStats);let P;const I=k=>{t(4,f[k.detail.value]={weight:1,min:0,id:k.detail.value},f),t(4,f),P.handleClear(),v()},R=k=>{delete f[k],t(4,f),v()},V=()=>{t(4,f={}),v()};let M=!1,G=0,Y=!1,Q=0,B,se=1,ee="";const K=()=>{if(!c)return;t(18,se=m.value),t(19,ee=d.value),t(15,Y=!0),t(17,B=void 0);const k={jewel:m.value,conqueror:d.value,nodes:n.filter(x=>!z.has(x.skill)).map(x=>window.TreeToPassive[x.skill]),stats:Object.keys(f).map(x=>f[x]),minTotalWeight:G};Ql.search(k,Zl(x=>t(16,Q=x))).then(x=>{t(17,B=x),t(15,Y=!1),t(13,M=!0)})};let Se=[];const _e=(k,x)=>{t(2,g=k),t(20,Se=x),v()},oe=()=>{z.clear(),t(11,z)},j=()=>{n.forEach(k=>{k.isNotable&&z.delete(k.skill)}),t(11,z)},re=()=>{n.forEach(k=>{k.isNotable||z.delete(k.skill)}),t(11,z)},Z=()=>{n.filter(k=>!k.isJewelSocket&&!k.isMastery).forEach(k=>z.add(k.skill)),t(11,z)};let C=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const ie={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},ge=k=>(Object.keys(ie).forEach(x=>{const fe=ie[x];k=k.replace(new RegExp(`(${x}(?:$|\\s))|((?:^|\\s)${x})`,"gi"),`<span style='color: ${fe}; font-weight: bold'>$1$2</span>`)}),k),ue=(k,x,fe)=>{const $={};return k.forEach(F=>{if(!Ue.nodes[F.node].isKeystone&&!(fe!=="all"&&(fe==="notables"&&!Ue.nodes[F.node].isNotable||fe==="passives"&&Ue.nodes[F.node].isNotable))){if("alternatePassiveSkill"in F.result){const W=GetAlternatePassiveSkillByIndex(F.result.alternatePassiveSkill);"statsKeys"in W&&W.statsKeys.forEach(le=>{$[le]=[...$[le]||[],F.node]})}"alternatePassiveAdditionInformations"in F.result&&F.result.alternatePassiveAdditionInformations.forEach(W=>{const le=GetAlternatePassiveAdditionByIndex(W.alternatePassiveSkillAddition);"statsKeys"in le&&le.statsKeys.forEach(ne=>{$[ne]=[...$[ne]||[],F.node]})})}}),Object.keys($).map(F=>{const W=nt(parseInt(F));return{stat:x?ge(W):W,rawStat:W,id:F,passives:$[F]}})},ke=(k,x)=>{switch(x){case"alphabet":return k.sort((fe,$)=>fe.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare($.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return k.sort((fe,$)=>$.passives.length-fe.passives.length);case"rarity":return k.sort((fe,$)=>A[m.value][fe.id]-A[m.value][$.id]);case"value":return k.sort((fe,$)=>{const F=We[fe.id]||0,W=We[$.id]||0;return F!=W?W-F:A[m.value][fe.id]-A[m.value][$.id]})}return k},Je=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let pe=Je.find(k=>k.value===(localStorage.getItem("sortOrder")||"count")),Ae=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",Le=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const Xe=k=>{if(k.type!=="paste")return;const fe=(k.clipboardData||window.clipboardData).getData("text").split(`
`);if(fe.length<14)return;const $=h.find(le=>le.label===fe[2]);if(!$)return;let F,W;for(let le=10;le<fe.length;le++)if(W=window.TimelessJewelConquerors[$.value].find(ne=>fe[le].indexOf(ne)>=0),W){const ne=/(\d+)/.exec(fe[le]);if(ne.length===0)continue;F=parseInt(ne[1]);break}!W||!F||(t(13,M=!1),t(10,_="seed"),t(2,g=F),t(0,m=$),t(1,d={label:W,value:W}),v())};let je=!1;const _t=()=>t(21,je=!0),gt=()=>Rl(se,ee,B.raw),Ee=()=>t(5,C=!C),pt=()=>t(13,M=!M);function bt(k){m=k,t(0,m)}function wt(k){d=k,t(1,d)}const vt=()=>N("seed"),rt=()=>N("stats");function Pt(){g=Ge(this.value),t(2,g)}function Rt(k){pe=k,t(6,pe)}const zt=()=>t(7,Ae=!Ae),Nt=()=>t(8,Le=!Le),kt=k=>_e(g,k.passives),St=k=>_e(g,k.passives),It=k=>_e(g,k.passives);function ot(k){$e[k?"unshift":"push"](()=>{P=k,t(12,P)})}const w=k=>R(f[k].id);function he(k){f[k].min=Ge(this.value),t(4,f)}function Te(k){f[k].weight=Ge(this.value),t(4,f)}function ce(){G=Ge(this.value),t(14,G)}const ae=()=>K(),me=()=>t(21,je=!1);return l.$$.update=()=>{l.$$.dirty[0]&1&&t(24,i=m?window.TimelessJewelConquerors[m.value].map(k=>({value:k,label:k})):[]),l.$$.dirty[0]&8&&t(9,n=c?Xl(Ue.nodes[c]).filter(k=>!k.isJewelSocket&&!k.isMastery):[]),l.$$.dirty[0]&519&&t(23,s=!g||!m||!d||window.TimelessJewelConquerors[m.value].indexOf(d.value)<0?[]:n.map(k=>({node:k.skill,result:Calculate(TreeToPassive[k.skill],g,m.value,d.value)}))),l.$$.dirty[0]&1&&t(43,r=m?Object.keys(A[m.value]):[]),l.$$.dirty[0]&16|l.$$.dirty[1]&4096&&t(22,u=r.map(k=>{const x=parseInt(k);return{label:nt(x),value:x}}).filter(k=>!(k.value in f))),l.$$.dirty[0]&32&&localStorage.setItem("groupResults",C?"true":"false"),l.$$.dirty[0]&64&&localStorage.setItem("sortOrder",pe.value),l.$$.dirty[0]&128&&localStorage.setItem("colored",Ae?"true":"false"),l.$$.dirty[0]&256&&localStorage.setItem("split",Le?"true":"false")},[m,d,g,c,f,C,pe,Ae,Le,n,_,z,P,M,G,Y,Q,B,se,ee,Se,je,u,s,i,h,v,N,O,I,R,V,K,_e,oe,j,re,Z,ue,ke,Je,Xe,ie,r,_t,gt,Ee,pt,bt,wt,vt,rt,Pt,Rt,zt,Nt,kt,St,It,ot,w,he,Te,ce,ae,me]}class Xs extends tt{constructor(e){super(),lt(this,e,Bs,Fs,st,{colorKeys:42},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[42]}}export{Xs as default};
