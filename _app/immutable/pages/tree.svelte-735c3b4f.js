import{a9 as Cl,R as re,aa as Nl,S as xe,i as $e,s as et,I as ft,e as z,k as j,c as C,a as N,d as b,m as U,b as I,f as yt,g as O,ab as Ml,J as ut,K as ct,L as dt,q,o as H,r as Ol,v as kl,ac as Mt,N as Ze,E as st,a8 as Dl,w as Ce,x as Ne,y as Me,M as w,B as Oe,l as we,n as De,p as Ve,G as tt,V as Ee,ad as Vl,t as J,h as L,j as Se,U as ht,a2 as Jl,a3 as Ll,X as jl,W as ze,P as Ot,T as Fe,O as Dt,Q as Be}from"../chunks/index-7969860d.js";import{r as Ul,d as ql}from"../chunks/index-3d8bec42.js";import{g as Pe,b as Fl,a as Qe,d as Ct,t as Lt,c as Xe,o as jt,e as kt,f as Ut,i as qt,h as Ft,j as Bl,k as Bt,m as it,n as Il,p as Gl,s as Kl,q as Hl}from"../chunks/worker-3ca473bf.js";import{g as Wl,S as Tt,p as Yl}from"../chunks/stores-0b2c0e1d.js";import"../chunks/singletons-cdeec3fd.js";const Xl=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function Ql(){const l=Cl();return e=>{const t=Xl.map(i=>re(e,i,r=>Nl(l,r)));return{destroy:()=>t.forEach(i=>i())}}}class Zl{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:t}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,t),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:t,context:i,width:r,height:s}){const n={context:i,width:r,height:s};if(this.needsResize&&(i.setTransform(t,0,0,t,0,0),this.needsResize=!1),this.needsSetup){for(const[f,o]of this.setups)o(n),this.setups.delete(f);this.needsSetup=!1}if(this.needsRedraw){e&&i.clearRect(0,0,r,s);for(const f of this.layerSequence)this.renderers.get(f)(n);this.needsRedraw=!1}}}function xl(l){let e,t,i,r,s,n,f,o,a;const h=l[13].default,m=ft(h,l,l[12],null);return{c(){e=z("canvas"),s=j(),n=z("div"),m&&m.c(),this.h()},l(d){e=C(d,"CANVAS",{style:!0,width:!0,height:!0}),N(e).forEach(b),s=U(d),n=C(d,"DIV",{style:!0});var g=N(n);m&&m.l(g),g.forEach(b),this.h()},h(){I(e,"style",t="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")),I(e,"width",i=l[1]*l[0]),I(e,"height",r=l[2]*l[0]),yt(n,"display","none")},m(d,g){O(d,e,g),l[14](e),O(d,s,g),O(d,n,g),m&&m.m(n,null),l[15](n),f=!0,o||(a=Ml(l[6].call(null,e)),o=!0)},p(d,[g]){(!f||g&14&&t!==(t="display: block; width: "+d[1]+"px; height: "+d[2]+"px;"+(d[3]?` ${d[3]}`:"")))&&I(e,"style",t),(!f||g&3&&i!==(i=d[1]*d[0]))&&I(e,"width",i),(!f||g&5&&r!==(r=d[2]*d[0]))&&I(e,"height",r),m&&m.p&&(!f||g&4096)&&ut(m,h,d,d[12],f?dt(h,d[12],g,null):ct(d[12]),null)},i(d){f||(q(m,d),f=!0)},o(d){H(m,d),f=!1},d(d){d&&b(e),l[14](null),d&&b(s),d&&b(n),m&&m.d(d),l[15](null),o=!1,a()}}}const yl={};function $l(l,e,t){let{$$slots:i={},$$scope:r}=e,{width:s=640,height:n=640,pixelRatio:f=void 0,style:o=null,autoclear:a=!0}=e,h,m,d,g,u;const c=Ql(),_=new Zl;function S(){_.redraw()}function y(){return h}function P(){return m}f===void 0&&(typeof window=="undefined"?f=2:f=window.devicePixelRatio);function R(){_.render({context:m,width:s,height:n,pixelRatio:f,autoclear:a}),d=window.requestAnimationFrame(R)}Ol(yl,{register:_.register,unregister:_.unregister,redraw:_.redraw}),kl(()=>{m=h.getContext("2d"),u=new MutationObserver(k),u.observe(g,{childList:!0}),k(),R();function k(){const T=[...g.children].map(F=>+F.dataset.layerId);t(11,_.layerSequence=T,_),_.redraw()}}),Mt(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(d),u.disconnect())});function v(k){Ze[k?"unshift":"push"](()=>{h=k,t(4,h)})}function E(k){Ze[k?"unshift":"push"](()=>{g=k,t(5,g)})}return l.$$set=k=>{"width"in k&&t(1,s=k.width),"height"in k&&t(2,n=k.height),"pixelRatio"in k&&t(0,f=k.pixelRatio),"style"in k&&t(3,o=k.style),"autoclear"in k&&t(7,a=k.autoclear),"$$scope"in k&&t(12,r=k.$$scope)},l.$$.update=()=>{l.$$.dirty&2183&&_.resize()},[f,s,n,o,h,g,c,a,S,y,P,_,r,i,v,E]}class es extends xe{constructor(e){super(),$e(this,e,$l,xl,et,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function ts(l){let e;return{c(){e=z("div"),this.h()},l(t){e=C(t,"DIV",{"data-layer-id":!0}),N(e).forEach(b),this.h()},h(){I(e,"data-layer-id",l[0])},m(t,i){O(t,e,i)},p:st,i:st,o:st,d(t){t&&b(e)}}}function ls(l,e,t){const{register:i,unregister:r,redraw:s}=Dl(yl);let{setup:n=void 0,render:f=()=>{}}=e;if(typeof n!="function"&&n!==void 0)throw new Error("setup must be a function");if(typeof f!="function")throw new Error("render must be a function");const o=i({setup:n,render:f});return Mt(()=>r(o)),l.$$set=a=>{"setup"in a&&t(1,n=a.setup),"render"in a&&t(2,f=a.render)},l.$$.update=()=>{l.$$.dirty&4&&s()},[o,n,f]}class ss extends xe{constructor(e){super(),$e(this,e,ls,ts,et,{setup:1,render:2})}}let Gt;const El=Date.now();function Tl(l){return l(Date.now()-El),Gt=window.requestAnimationFrame(()=>Tl(l)),()=>window.cancelAnimationFrame(Gt)}function is(){}var ns=Ul(Date.now()-El,typeof window=="undefined"?is:Tl);const{window:Nt}=Vl;function Kt(l){let e,t,i,r,s,n;t=new es({props:{width:l[0],height:l[1],$$slots:{default:[rs]},$$scope:{ctx:l}}}),t.$on("pointerdown",l[17]),t.$on("wheel",l[20]);const f=l[49].default,o=ft(f,l,l[50],null);return{c(){e=z("div"),Ce(t.$$.fragment),i=j(),o&&o.c(),this.h()},l(a){e=C(a,"DIV",{style:!0});var h=N(e);Ne(t.$$.fragment,h),i=U(h),o&&o.l(h),h.forEach(b),this.h()},h(){yt(e,"touch-action","none"),yt(e,"cursor",l[2])},m(a,h){O(a,e,h),Me(t,e,null),w(e,i),o&&o.m(e,null),r=!0,s||(n=re(e,"resize",l[21]),s=!0)},p(a,h){const m={};h[0]&1&&(m.width=a[0]),h[0]&2&&(m.height=a[1]),h[0]&8|h[1]&524288&&(m.$$scope={dirty:h,ctx:a}),t.$set(m),o&&o.p&&(!r||h[1]&524288)&&ut(o,f,a,a[50],r?dt(f,a[50],h,null):ct(a[50]),null),(!r||h[0]&4)&&yt(e,"cursor",a[2])},i(a){r||(q(t.$$.fragment,a),q(o,a),r=!0)},o(a){H(t.$$.fragment,a),H(o,a),r=!1},d(a){a&&b(e),Oe(t),o&&o.d(a),s=!1,n()}}}function rs(l){let e,t;return e=new ss({props:{render:l[3]}}),{c(){Ce(e.$$.fragment)},l(i){Ne(e.$$.fragment,i)},m(i,r){Me(e,i,r),t=!0},p(i,r){const s={};r[0]&8&&(s.render=i[3]),e.$set(s)},i(i){t||(q(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){Oe(e,i)}}}function os(l){let e,t,i,r,s=l[0]&&l[1]&&Kt(l);return{c(){s&&s.c(),e=we()},l(n){s&&s.l(n),e=we()},m(n,f){s&&s.m(n,f),O(n,e,f),t=!0,i||(r=[re(Nt,"pointerup",l[18]),re(Nt,"pointermove",l[19]),re(Nt,"resize",l[21])],i=!0)},p(n,f){n[0]&&n[1]?s?(s.p(n,f),f[0]&3&&q(s,1)):(s=Kt(n),s.c(),q(s,1),s.m(e.parentNode,e)):s&&(De(),H(s,1,1,()=>{s=null}),Ve())},i(n){t||(q(s),t=!0)},o(n){H(s),t=!1},d(n){s&&s.d(n),n&&b(e),i=!1,tt(r)}}}const Ht="25px Roboto Mono",Wt="17px Roboto Mono",lt=2.6;function as(l,e,t){let i,r,s,n,f,o,a,h,m,d,g,u,c,_,S,{$$slots:y={},$$scope:P}=e,{clickNode:R}=e,{circledNode:v}=e,{selectedJewel:E}=e,{selectedConqueror:k}=e,{seed:T}=e,{highlighted:F=[]}=e,{disabled:Y=[]}=e;const fe=ql(ns,p=>!F||!F.length?0:Math.round(p/40));Ee(l,fe,p=>t(36,s=p));const X=[427,320,226,227,323,422,329];let V=10,le=0,se=0;const x=(p,ie,ge)=>{const G=ie.width/V*lt,B=ie.height/V*lt,te=ge.x-G/2,he=ge.y-B/2;p.drawImage(ie,te,he,G,B)},Q=(p,ie,ge)=>{const G=ie.width/V*lt,B=ie.height/V*lt,te=ge.x-G/2,he=ge.y-B/2,He=he-B/2;p.drawImage(ie,te,He,G,B),p.save(),p.translate(te,he),p.rotate(Math.PI),p.drawImage(ie,-G,-(B/2),G,-B),p.restore()},me={},ve={},oe=(p,ie,ge,G=!1)=>{let B=G?Bl[ie]:Bt[ie];!B&&G&&(B=Bt[ie]);const te=B.filename;te in(G?ve:me)||((G?ve:me)[te]=new Image,(G?ve:me)[te].src=te);const he=B.coords[ie],He=he.w/V*lt,St=he.h/V*lt,ye=ge.x-He/2,W=ge.y-St/2;p.drawImage((G?ve:me)[te],he.x,he.y,he.w,he.h,ye,W,He,St)},D=(p,ie,ge)=>{const G=[];let B="";return p.split(" ").forEach(te=>{ie.measureText(B+te).width<ge?B+=" "+te:(G.push(B.trim()),B=te)}),B.length>0&&G.push(B.trim()),G};let K={x:Number.MIN_VALUE,y:Number.MIN_VALUE},Z="unset";const M=Pe("PSGroupBackground1");Ee(l,M,p=>t(48,S=p));const $=Pe("PSGroupBackground2");Ee(l,$,p=>t(47,_=p));const ce=Pe("PSGroupBackground3");Ee(l,ce,p=>t(46,c=p));const ae=Pe("KeystoneFrameAllocated");Ee(l,ae,p=>t(45,u=p));const _e=Pe("KeystoneFrameUnallocated");Ee(l,_e,p=>t(44,g=p));const Te=Pe("NotableFrameAllocated");Ee(l,Te,p=>t(43,d=p));const de=Pe("NotableFrameUnallocated");Ee(l,de,p=>t(42,m=p));const Je=Pe("JewelSocketAltNormal");Ee(l,Je,p=>t(41,h=p));const Ge=Pe("JewelFrameAllocated");Ee(l,Ge,p=>t(40,a=p));const Ke=Pe("JewelFrameUnallocated");Ee(l,Ke,p=>t(39,o=p));const Ue=Pe("PSSkillFrameActive");Ee(l,Ue,p=>t(38,f=p));const mt=Pe("PSSkillFrame");Ee(l,mt,p=>t(37,n=p));let Ie,_t=0,gt=0,pt=0,bt=0,nt=!1;const At=p=>{nt=!0,_t=p.offsetX,gt=p.offsetY,pt=le,bt=se,t(32,K={x:p.offsetX,y:p.offsetY}),Ie&&R(Ie)},Rt=p=>{p.type==="pointerup"&&(nt=!1),t(32,K={x:p.offsetX,y:p.offsetY})},Pt=p=>{nt&&(t(30,le=pt-(_t-p.offsetX)*V),t(31,se=bt-(gt-p.offsetY)*V)),t(32,K={x:p.offsetX,y:p.offsetY})},zt=p=>{p.deltaY>0?V<30&&(t(30,le+=p.offsetX),t(31,se+=p.offsetY)):V>3&&(t(30,le-=p.offsetX),t(31,se-=p.offsetY)),t(29,V=Math.min(30,Math.max(3,V+p.deltaY/100))),p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation()};let wt=0,vt=0;const A=()=>{t(0,wt=window.innerWidth),t(1,vt=window.innerHeight)};let ee=!1;return l.$$set=p=>{"clickNode"in p&&t(22,R=p.clickNode),"circledNode"in p&&t(23,v=p.circledNode),"selectedJewel"in p&&t(24,E=p.selectedJewel),"selectedConqueror"in p&&t(25,k=p.selectedConqueror),"seed"in p&&t(26,T=p.seed),"highlighted"in p&&t(27,F=p.highlighted),"disabled"in p&&t(28,Y=p.disabled),"$$scope"in p&&t(50,P=p.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&536870912&&t(35,i=Fl/V),l.$$.dirty[0]&536870912|l.$$.dirty[1]&8&&(!ee&&Qe&&(t(34,ee=!0),t(30,le=Qe.min_x+window.innerWidth/2*V),t(31,se=Qe.min_y+window.innerHeight/2*V)),A()),l.$$.dirty[0]&2139095040|l.$$.dirty[1]&262135&&t(3,r=({context:p,width:ie,height:ge})=>{const G=window.performance.now();p.clearRect(0,0,ie,ge),p.fillStyle="#080c11",p.fillRect(0,0,ie,ge);const B={};Object.keys(Ct).forEach(ye=>{const W=Ct[ye],ne=Lt(W.x,W.y,le,se,V),be=Math.max(...W.orbits);X.indexOf(parseInt(ye))>=0||(be==1?x(p,S,ne):be==2?x(p,_,ne):(be==3||W.orbits.length>1)&&Q(p,c,ne))}),Object.keys(Xe).forEach(ye=>{var ue;const W=Xe[ye],ne=jt(W.orbit,W.orbitIndex),be=kt(W,le,se,V);(ue=W.out)==null||ue.forEach(We=>{if(!Xe[parseInt(We)])return;const Le=Math.min(parseInt(We),parseInt(ye)),rt=Math.max(parseInt(We),parseInt(ye)),pe=Le+":"+rt;if(pe in B)return;B[pe]=!0;const ke=Xe[parseInt(We)];if(!ke||ke.isMastery)return;const Ye=jt(ke.orbit,ke.orbitIndex),qe=kt(ke,le,se,V);if(p.beginPath(),W.group!=ke.group||W.orbit!=ke.orbit)p.moveTo(be.x,be.y),p.lineTo(qe.x,qe.y);else{let Re=Math.PI/180-Math.PI/180*ne,Ae=Math.PI/180-Math.PI/180*Ye;Re-=Math.PI/2,Ae-=Math.PI/2;const ot=Math.abs(Math.max(Re,Ae)-Math.min(Re,Ae)),Pl=ot>Math.PI?Math.max(Re,Ae):Math.min(Re,Ae),zl=ot>Math.PI?Math.min(Re,Ae):Math.max(Re,Ae),Vt=Ct[W.group],Jt=Lt(Vt.x,Vt.y,le,se,V);p.arc(Jt.x,Jt.y,Qe.constants.orbitRadii[W.orbit]/V+1,Pl,zl)}p.lineWidth=6/V,p.strokeStyle="#524518",p.stroke()})});let te;v&&(te=kt(Xe[v],le,se,V),p.strokeStyle="#ad2b2b");let he=!1,He;if(Object.keys(Xe).forEach(ye=>{const W=Xe[ye],ne=kt(W,le,se,V);let be=0,ue=!1;v&&Ut(ne,te)<i&&(ue=!0),Y.indexOf(W.skill)>=0&&(ue=!1),W.isKeystone?(be=110,oe(p,W.icon,ne,ue),ue?x(p,u,ne):x(p,g,ne)):W.isNotable?(be=70,oe(p,W.icon,ne,ue),ue?x(p,d,ne):x(p,m,ne)):W.isJewelSocket?(be=70,W.expansionJewel?x(p,h,ne):ue?x(p,a,ne):x(p,o,ne)):W.isMastery?oe(p,W.inactiveIcon,ne,ue):(be=50,oe(p,W.icon,ne,ue),ue?x(p,f,ne):x(p,n,ne)),F.indexOf(W.skill)>=0&&(p.strokeStyle=`hsl(${s}, 100%, 50%)`,p.lineWidth=3,p.beginPath(),p.arc(ne.x,ne.y,(be+30)/V,0,Math.PI*2),p.stroke()),Ut(ne,K)<be/V&&(He=W,he=ue)}),t(33,Ie=He),v&&(p.strokeStyle="#ad2b2b",p.lineWidth=1,p.beginPath(),p.arc(te.x,te.y,i,0,Math.PI*2),p.stroke()),Ie){let ye=Ie.name,W=(Ie.stats||[]).map(pe=>({text:pe,special:!1}));if(!Ie.isJewelSocket&&he&&Ie.skill&&T&&E&&k){const pe=Calculate(TreeToPassive[Ie.skill],T,E,k);if(pe){if("alternatePassiveSkill"in pe){const ke=GetAlternatePassiveSkillByIndex(pe.alternatePassiveSkill);W=[],ye=ke.name,"statsKeys"in ke&&ke.statsKeys.forEach((Ye,qe)=>{const Re=GetStatByIndex(Ye),Ae=qt[Re.id]||"";Ae&&W.push({text:Ft(Ae,pe.statRolls[qe])||Re.id,special:!0})})}"alternatePassiveAdditionInformations"in pe&&pe.alternatePassiveAdditionInformations.length>0&&pe.alternatePassiveAdditionInformations.forEach(ke=>{const Ye=GetAlternatePassiveAdditionByIndex(ke.alternatePassiveSkillAddition);"statsKeys"in Ye&&Ye.statsKeys.forEach((qe,Re)=>{const Ae=GetStatByIndex(qe),ot=qt[Ae.id]||"";ot&&W.push({text:Ft(ot,ke.statRolls[Re])||Ae.id,special:!0})})})}}p.font=Ht;const ne=p.measureText(ye),be=Math.max(ne.width+50,600);p.font=Wt;const ue=[],We=30;let Le=85;W&&W.length>0?W.forEach(pe=>{ue.length>0&&(Le+=5),pe.text.split(`
`).forEach(ke=>{ue.length>0&&(Le+=10),D(ke,p,be-We).forEach(qe=>{ue.push({text:qe,offset:Le,special:pe.special}),Le+=20})})}):Ie.isJewelSocket&&(ue.push({text:"Click to select this socket",offset:Le,special:!0}),Le+=20);const rt=55;p.fillStyle="rgba(75,63,24,0.9)",p.fillRect(K.x,K.y,be,rt),p.fillStyle="#ffffff",p.font=Ht,p.textAlign="center",p.fillText(ye,K.x+be/2,K.y+35),p.fillStyle="rgba(0,0,0,0.8)",p.fillRect(K.x,K.y+rt,be,Le-rt),p.font=Wt,p.textAlign="left",ue.forEach(pe=>{pe.special?p.fillStyle="#8cf34c":p.fillStyle="#ffffff",p.fillText(pe.text,K.x+We/2,K.y+pe.offset)})}Ie&&Ie.isJewelSocket?t(2,Z="pointer"):t(2,Z="unset"),p.fillStyle="#ffffff",p.textAlign="right",p.font="12px Roboto Mono";const St=window.performance.now();p.fillText(`${(St-G).toFixed(1)}ms`,ie-5,17)})},[wt,vt,Z,r,fe,M,$,ce,ae,_e,Te,de,Je,Ge,Ke,Ue,mt,At,Rt,Pt,zt,A,R,v,E,k,T,F,Y,V,le,se,K,Ie,ee,i,s,n,f,o,a,h,m,d,g,u,c,_,S,y,P]}class fs extends xe{constructor(e){super(),$e(this,e,as,os,et,{clickNode:22,circledNode:23,selectedJewel:24,selectedConqueror:25,seed:26,highlighted:27,disabled:28},null,[-1,-1,-1])}}function Yt(l,e,t){const i=l.slice();return i[6]=e[t],i}function Xt(l,e,t){const i=l.slice();return i[9]=e[t],i}function Qt(l){let e,t=it(l[9],l[6].stats[l[9]])+"",i;return{c(){e=z("li"),i=J(t)},l(r){e=C(r,"LI",{});var s=N(e);i=L(s,t),s.forEach(b)},m(r,s){O(r,e,s),w(e,i)},p(r,s){s&2&&t!==(t=it(r[9],r[6].stats[r[9]])+"")&&Se(i,t)},d(r){r&&b(e)}}}function Zt(l){let e,t,i=Qe.nodes[l[6].passive].name+"",r,s,n=l[6].passive+"",f,o,a,h,m,d=Object.keys(l[6].stats),g=[];for(let u=0;u<d.length;u+=1)g[u]=Qt(Xt(l,d,u));return{c(){e=z("div"),t=z("span"),r=J(i),s=J(" ("),f=J(n),o=J(")"),a=j(),h=z("ul");for(let u=0;u<g.length;u+=1)g[u].c();m=j(),this.h()},l(u){e=C(u,"DIV",{class:!0});var c=N(e);t=C(c,"SPAN",{});var _=N(t);r=L(_,i),s=L(_," ("),f=L(_,n),o=L(_,")"),_.forEach(b),a=U(c),h=C(c,"UL",{class:!0});var S=N(h);for(let y=0;y<g.length;y+=1)g[y].l(S);S.forEach(b),m=U(c),c.forEach(b),this.h()},h(){I(h,"class","list-disc pl-6 font-bold"),I(e,"class","mt-2")},m(u,c){O(u,e,c),w(e,t),w(t,r),w(t,s),w(t,f),w(t,o),w(e,a),w(e,h);for(let _=0;_<g.length;_+=1)g[_].m(h,null);w(e,m)},p(u,c){if(c&2&&i!==(i=Qe.nodes[u[6].passive].name+"")&&Se(r,i),c&2&&n!==(n=u[6].passive+"")&&Se(f,n),c&2){d=Object.keys(u[6].stats);let _;for(_=0;_<d.length;_+=1){const S=Xt(u,d,_);g[_]?g[_].p(S,c):(g[_]=Qt(S),g[_].c(),g[_].m(h,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=d.length}},d(u){u&&b(e),ht(g,u)}}}function us(l){let e,t,i,r,s,n,f,o=l[1].seed+"",a,h,m=l[1].weight+"",d,g,u,c,_,S,y,P,R=l[1].skills,v=[];for(let E=0;E<R.length;E+=1)v[E]=Zt(Yt(l,R,E));return{c(){e=z("div"),t=z("div"),i=z("button"),r=J("Trade"),s=j(),n=z("div"),f=J("Seed "),a=J(o),h=J(" (weight "),d=J(m),g=J(")"),u=j(),c=z("button"),_=J("Trade"),S=j();for(let E=0;E<v.length;E+=1)v[E].c();this.h()},l(E){e=C(E,"DIV",{class:!0});var k=N(e);t=C(k,"DIV",{class:!0});var T=N(t);i=C(T,"BUTTON",{class:!0});var F=N(i);r=L(F,"Trade"),F.forEach(b),s=U(T),n=C(T,"DIV",{class:!0});var Y=N(n);f=L(Y,"Seed "),a=L(Y,o),h=L(Y," (weight "),d=L(Y,m),g=L(Y,")"),Y.forEach(b),u=U(T),c=C(T,"BUTTON",{class:!0});var fe=N(c);_=L(fe,"Trade"),fe.forEach(b),T.forEach(b),S=U(k);for(let X=0;X<v.length;X+=1)v[X].l(k);k.forEach(b),this.h()},h(){I(i,"class","px-3 invisible"),I(n,"class","font-bold text-orange-500 text-center"),I(c,"class","px-3 bg-blue-500/40 rounded"),I(t,"class","flex flex-row justify-between"),I(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(E,k){O(E,e,k),w(e,t),w(t,i),w(i,r),w(t,s),w(t,n),w(n,f),w(n,a),w(n,h),w(n,d),w(n,g),w(t,u),w(t,c),w(c,_),w(e,S);for(let T=0;T<v.length;T+=1)v[T].m(e,null);y||(P=[re(c,"click",l[4]),re(e,"click",l[5])],y=!0)},p(E,[k]){if(k&2&&o!==(o=E[1].seed+"")&&Se(a,o),k&2&&m!==(m=E[1].weight+"")&&Se(d,m),k&2){R=E[1].skills;let T;for(T=0;T<R.length;T+=1){const F=Yt(E,R,T);v[T]?v[T].p(F,k):(v[T]=Zt(F),v[T].c(),v[T].m(e,null))}for(;T<v.length;T+=1)v[T].d(1);v.length=R.length}},i:st,o:st,d(E){E&&b(e),ht(v,E),y=!1,tt(P)}}}function cs(l,e,t){let{highlight:i}=e,{set:r}=e,{jewel:s}=e,{conqueror:n}=e;const f=()=>Il(s,n,[r]),o=()=>i(r.seed,r.skills.map(a=>a.passive));return l.$$set=a=>{"highlight"in a&&t(0,i=a.highlight),"set"in a&&t(1,r=a.set),"jewel"in a&&t(2,s=a.jewel),"conqueror"in a&&t(3,n=a.conqueror)},[i,r,s,n,f,o]}class Al extends xe{constructor(e){super(),$e(this,e,cs,us,et,{highlight:0,set:1,jewel:2,conqueror:3})}}const It={AUTO:"auto",START:"start",CENTER:"center",END:"end"},je={HORIZONTAL:"horizontal",VERTICAL:"vertical"},at={OBSERVED:0,REQUESTED:1},ds={[je.VERTICAL]:"top",[je.HORIZONTAL]:"left"},xt={[je.VERTICAL]:"scrollTop",[je.HORIZONTAL]:"scrollLeft"};class hs{constructor({itemSize:e,itemCount:t,estimatedItemSize:i}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:i}){t!=null&&(this.itemCount=t),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const i=this.getSize(t),r=e;e+=i,this.itemSizeAndPositionData[t]={offset:r,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let i=t.offset+t.size;for(let r=this.lastMeasuredIndex+1;r<=e;r++){const s=this.getSize(r);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${r} of value ${s}`);this.itemSizeAndPositionData[r]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=It.START,containerSize:t,currentOffset:i,targetIndex:r}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(r),n=s.offset,f=n-t+s.size;let o;switch(e){case It.END:o=f;break;case It.CENTER:o=n-(t-s.size)/2;break;case It.START:o=n;break;default:o=Math.max(f,Math.min(n,i))}const a=this.getTotalSize();return Math.max(0,Math.min(a-t,o))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=t+e;let n=this.findNearestItem(t);if(n===void 0)throw Error(`Invalid offset ${t} specified`);const f=this.getSizeAndPositionForIndex(n);t=f.offset+f.size;let o=n;for(;t<s&&o<this.itemCount-1;)o++,t+=this.getSizeAndPositionForIndex(o).size;return i&&(n=Math.max(0,n-i),o=Math.min(o+i,this.itemCount-1)),{start:n,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:t,offset:i}){let r=0,s=0;for(;e<=t;){if(r=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(r).offset,s===i)return r;s<i?e=r+1:s>i&&(t=r-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const ms=l=>({}),$t=l=>({});function el(l,e,t){const i=l.slice();return i[37]=e[t],i}const _s=l=>({style:l[0]&4,index:l[0]&4}),tl=l=>({style:l[37].style,index:l[37].index}),gs=l=>({}),ll=l=>({});function sl(l,e){let t,i;const r=e[21].item,s=ft(r,e,e[20],tl);return{key:l,first:null,c(){t=we(),s&&s.c(),this.h()},l(n){t=we(),s&&s.l(n),this.h()},h(){this.first=t},m(n,f){O(n,t,f),s&&s.m(n,f),i=!0},p(n,f){e=n,s&&s.p&&(!i||f[0]&1048580)&&ut(s,r,e,e[20],i?dt(r,e[20],f,_s):ct(e[20]),tl)},i(n){i||(q(s,n),i=!0)},o(n){H(s,n),i=!1},d(n){n&&b(t),s&&s.d(n)}}}function ps(l){let e,t,i,r=[],s=new Map,n,f;const o=l[21].header,a=ft(o,l,l[20],ll);let h=l[2];const m=u=>u[0]?u[0](u[37].index):u[37].index;for(let u=0;u<h.length;u+=1){let c=el(l,h,u),_=m(c);s.set(_,r[u]=sl(_,c))}const d=l[21].footer,g=ft(d,l,l[20],$t);return{c(){e=z("div"),a&&a.c(),t=j(),i=z("div");for(let u=0;u<r.length;u+=1)r[u].c();n=j(),g&&g.c(),this.h()},l(u){e=C(u,"DIV",{class:!0,style:!0});var c=N(e);a&&a.l(c),t=U(c),i=C(c,"DIV",{class:!0,style:!0});var _=N(i);for(let S=0;S<r.length;S+=1)r[S].l(_);_.forEach(b),n=U(c),g&&g.l(c),c.forEach(b),this.h()},h(){I(i,"class","virtual-list-inner svelte-1d4hv8l"),I(i,"style",l[4]),I(e,"class","virtual-list-wrapper svelte-1d4hv8l"),I(e,"style",l[3])},m(u,c){O(u,e,c),a&&a.m(e,null),w(e,t),w(e,i);for(let _=0;_<r.length;_+=1)r[_].m(i,null);w(e,n),g&&g.m(e,null),l[22](e),f=!0},p(u,c){a&&a.p&&(!f||c[0]&1048576)&&ut(a,o,u,u[20],f?dt(o,u[20],c,gs):ct(u[20]),ll),c[0]&1048581&&(h=u[2],De(),r=Jl(r,c,m,1,u,h,s,i,Ll,sl,null,el),Ve()),(!f||c[0]&16)&&I(i,"style",u[4]),g&&g.p&&(!f||c[0]&1048576)&&ut(g,d,u,u[20],f?dt(d,u[20],c,ms):ct(u[20]),$t),(!f||c[0]&8)&&I(e,"style",u[3])},i(u){if(!f){q(a,u);for(let c=0;c<h.length;c+=1)q(r[c]);q(g,u),f=!0}},o(u){H(a,u);for(let c=0;c<r.length;c+=1)H(r[c]);H(g,u),f=!1},d(u){u&&b(e),a&&a.d(u);for(let c=0;c<r.length;c+=1)r[c].d();g&&g.d(u),l[22](null)}}}const bs=(()=>{let l=!1;try{const e=Object.defineProperty({},"passive",{get(){return l={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return l})();function ws(l,e,t){let{$$slots:i={},$$scope:r}=e,{height:s}=e,{width:n="100%"}=e,{itemCount:f}=e,{itemSize:o}=e,{estimatedItemSize:a=null}=e,{stickyIndices:h=null}=e,{getKey:m=null}=e,{scrollDirection:d=je.VERTICAL}=e,{scrollOffset:g=null}=e,{scrollToIndex:u=null}=e,{scrollToAlignment:c=null}=e,{scrollToBehaviour:_="instant"}=e,{overscanCount:S=3}=e;const y=jl(),P=new hs({itemCount:f,itemSize:o,estimatedItemSize:D()});let R=!1,v,E=[],k={offset:g||u!=null&&E.length&&me(u)||0,scrollChangeReason:at.REQUESTED},T=k,F={scrollToIndex:u,scrollToAlignment:c,scrollOffset:g,itemCount:f,itemSize:o,estimatedItemSize:a},Y={},fe="",X="";se(),kl(()=>{t(18,R=!0),v.addEventListener("scroll",ve,bs),g!=null?x(g):u!=null&&x(me(u))}),Mt(()=>{R&&v.removeEventListener("scroll",ve)});function V(){if(!R)return;const M=F.scrollToIndex!==u||F.scrollToAlignment!==c,$=F.itemCount!==f||F.itemSize!==o||F.estimatedItemSize!==a;$&&(P.updateConfig({itemSize:o,itemCount:f,estimatedItemSize:D()}),Q()),F.scrollOffset!==g?t(19,k={offset:g||0,scrollChangeReason:at.REQUESTED}):typeof u=="number"&&(M||$)&&t(19,k={offset:me(u,c,f),scrollChangeReason:at.REQUESTED}),F={scrollToIndex:u,scrollToAlignment:c,scrollOffset:g,itemCount:f,itemSize:o,estimatedItemSize:a}}function le(){if(!R)return;const{offset:M,scrollChangeReason:$}=k;(T.offset!==M||T.scrollChangeReason!==$)&&se(),T.offset!==M&&$===at.REQUESTED&&x(M),T=k}function se(){const{offset:M}=k,{start:$,stop:ce}=P.getVisibleRange({containerSize:d===je.VERTICAL?s:n,offset:M,overscanCount:S});let ae=[];const _e=P.getTotalSize();d===je.VERTICAL?(t(3,fe=`height:${s}px;width:${n};`),t(4,X=`flex-direction:column;height:${_e}px;`)):(t(3,fe=`height:${s};width:${n}px`),t(4,X=`min-height:100%;width:${_e}px;`));const Te=h!=null&&h.length!==0;if(Te)for(let de=0;de<h.length;de++){const Je=h[de];ae.push({index:Je,style:K(Je,!0)})}if($!==void 0&&ce!==void 0){for(let de=$;de<=ce;de++)Te&&h.includes(de)||ae.push({index:de,style:K(de,!1)});y("itemsUpdated",{start:$,end:ce})}t(2,E=ae)}function x(M){"scroll"in v?v.scroll({[ds[d]]:M,behavior:_}):t(1,v[xt[d]]=M,v)}function Q(M=0){Y={},P.resetItem(M),se()}function me(M,$=c,ce=f){return(M<0||M>=ce)&&(M=0),P.getUpdatedOffsetForIndex({align:$,containerSize:d===je.VERTICAL?s:n,currentOffset:k.offset||0,targetIndex:M})}function ve(M){const $=oe();$<0||k.offset===$||M.target!==v||(t(19,k={offset:$,scrollChangeReason:at.OBSERVED}),y("afterScroll",{offset:$,event:M}))}function oe(){return v[xt[d]]}function D(){return a||typeof o=="number"&&o||50}function K(M,$){if(Y[M])return Y[M];const{size:ce,offset:ae}=P.getSizeAndPositionForIndex(M);let _e;return d===je.VERTICAL?(_e=`left:0;width:100%;height:${ce}px;`,$?_e+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ae}px;margin-bottom:${-(ae+ce)}px;`:_e+=`position:absolute;top:${ae}px;`):(_e=`top:0;width:${ce}px;`,$?_e+=`position:sticky;z-index:1;left:0;margin-left:${ae}px;margin-right:${-(ae+ce)}px;`:_e+=`position:absolute;height:100%;left:${ae}px;`),Y[M]=_e}function Z(M){Ze[M?"unshift":"push"](()=>{v=M,t(1,v)})}return l.$$set=M=>{"height"in M&&t(5,s=M.height),"width"in M&&t(6,n=M.width),"itemCount"in M&&t(7,f=M.itemCount),"itemSize"in M&&t(8,o=M.itemSize),"estimatedItemSize"in M&&t(9,a=M.estimatedItemSize),"stickyIndices"in M&&t(10,h=M.stickyIndices),"getKey"in M&&t(0,m=M.getKey),"scrollDirection"in M&&t(11,d=M.scrollDirection),"scrollOffset"in M&&t(12,g=M.scrollOffset),"scrollToIndex"in M&&t(13,u=M.scrollToIndex),"scrollToAlignment"in M&&t(14,c=M.scrollToAlignment),"scrollToBehaviour"in M&&t(15,_=M.scrollToBehaviour),"overscanCount"in M&&t(16,S=M.overscanCount),"$$scope"in M&&t(20,r=M.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&29568&&V(),l.$$.dirty[0]&524288&&le(),l.$$.dirty[0]&263264&&R&&Q(0)},[m,v,E,fe,X,s,n,f,o,a,h,d,g,u,c,_,S,Q,R,k,r,i,Z]}class Rl extends xe{constructor(e){super(),$e(this,e,ws,ps,et,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function il(l,e,t){const i=l.slice();return i[9]=e[t],i}function vs(l){let e,t,i;return t=new Rl({props:{height:"auto",overscanCount:15,itemCount:l[0].raw.length,itemSize:l[0].raw.map(l[6]),$$slots:{item:[ks,({style:r,index:s})=>({12:r,13:s}),({style:r,index:s})=>(r?4096:0)|(s?8192:0)]},$$scope:{ctx:l}}}),{c(){e=z("div"),Ce(t.$$.fragment),this.h()},l(r){e=C(r,"DIV",{class:!0});var s=N(e);Ne(t.$$.fragment,s),s.forEach(b),this.h()},h(){I(e,"class","mt-4 flex flex-col overflow-auto")},m(r,s){O(r,e,s),Me(t,e,null),i=!0},p(r,s){const n={};s&1&&(n.itemCount=r[0].raw.length),s&1&&(n.itemSize=r[0].raw.map(r[6])),s&28699&&(n.$$scope={dirty:s,ctx:r}),t.$set(n)},i(r){i||(q(t.$$.fragment,r),i=!0)},o(r){H(t.$$.fragment,r),i=!1},d(r){r&&b(e),Oe(t)}}}function Ss(l){let e,t,i=Object.keys(l[0].grouped).map(l[7]).sort(ol).reverse(),r=[];for(let n=0;n<i.length;n+=1)r[n]=rl(il(l,i,n));const s=n=>H(r[n],1,1,()=>{r[n]=null});return{c(){e=z("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=C(n,"DIV",{class:!0});var f=N(e);for(let o=0;o<r.length;o+=1)r[o].l(f);f.forEach(b),this.h()},h(){I(e,"class","flex flex-col overflow-auto")},m(n,f){O(n,e,f);for(let o=0;o<r.length;o+=1)r[o].m(e,null);t=!0},p(n,f){if(f&12411){i=Object.keys(n[0].grouped).map(n[7]).sort(ol).reverse();let o;for(o=0;o<i.length;o+=1){const a=il(n,i,o);r[o]?(r[o].p(a,f),q(r[o],1)):(r[o]=rl(a),r[o].c(),q(r[o],1),r[o].m(e,null))}for(De(),o=i.length;o<r.length;o+=1)s(o);Ve()}},i(n){if(!t){for(let f=0;f<i.length;f+=1)q(r[f]);t=!0}},o(n){r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)H(r[f]);t=!1},d(n){n&&b(e),ht(r,n)}}}function ks(l){let e,t,i,r;return t=new Al({props:{set:l[0].raw[l[13]],highlight:l[1],jewel:l[3],conqueror:l[4]}}),{c(){e=z("div"),Ce(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{slot:!0,style:!0});var n=N(e);Ne(t.$$.fragment,n),n.forEach(b),this.h()},h(){I(e,"slot","item"),I(e,"style",i=l[12])},m(s,n){O(s,e,n),Me(t,e,null),r=!0},p(s,n){const f={};n&8193&&(f.set=s[0].raw[s[13]]),n&2&&(f.highlight=s[1]),n&8&&(f.jewel=s[3]),n&16&&(f.conqueror=s[4]),t.$set(f),(!r||n&4096&&i!==(i=s[12]))&&I(e,"style",i)},i(s){r||(q(t.$$.fragment,s),r=!0)},o(s){H(t.$$.fragment,s),r=!1},d(s){s&&b(e),Oe(t)}}}function nl(l){let e,t,i,r;return t=new Rl({props:{height:"auto",overscanCount:10,itemCount:l[0].grouped[l[9]].length,itemSize:l[0].grouped[l[9]].map(l[6]),$$slots:{item:[Is,({style:s,index:n})=>({12:s,13:n}),({style:s,index:n})=>(s?4096:0)|(n?8192:0)]},$$scope:{ctx:l}}}),{c(){e=z("div"),Ce(t.$$.fragment),i=j(),this.h()},l(s){e=C(s,"DIV",{class:!0});var n=N(e);Ne(t.$$.fragment,n),i=U(n),n.forEach(b),this.h()},h(){I(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(s,n){O(s,e,n),Me(t,e,null),w(e,i),r=!0},p(s,n){const f={};n&1&&(f.itemCount=s[0].grouped[s[9]].length),n&1&&(f.itemSize=s[0].grouped[s[9]].map(s[6])),n&28699&&(f.$$scope={dirty:n,ctx:s}),t.$set(f)},i(s){r||(q(t.$$.fragment,s),r=!0)},o(s){H(t.$$.fragment,s),r=!1},d(s){s&&b(e),Oe(t)}}}function Is(l){let e,t,i,r;return t=new Al({props:{set:l[0].grouped[l[9]][l[13]],highlight:l[1],jewel:l[3],conqueror:l[4]}}),{c(){e=z("div"),Ce(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{slot:!0,style:!0});var n=N(e);Ne(t.$$.fragment,n),n.forEach(b),this.h()},h(){I(e,"slot","item"),I(e,"style",i=l[12])},m(s,n){O(s,e,n),Me(t,e,null),r=!0},p(s,n){const f={};n&8193&&(f.set=s[0].grouped[s[9]][s[13]]),n&2&&(f.highlight=s[1]),n&8&&(f.jewel=s[3]),n&16&&(f.conqueror=s[4]),t.$set(f),(!r||n&4096&&i!==(i=s[12]))&&I(e,"style",i)},i(s){r||(q(t.$$.fragment,s),r=!0)},o(s){H(t.$$.fragment,s),r=!1},d(s){s&&b(e),Oe(t)}}}function rl(l){let e,t,i=l[9]+"",r,s,n=l[9]>1?"es":"",f,o,a=l[0].grouped[l[9]].length+"",h,m,d,g,u=l[5]===l[9]?"^":"V",c,_,S,y,P,R;function v(){return l[8](l[9])}let E=l[5]===l[9]&&nl(l);return{c(){e=z("button"),t=z("span"),r=J(i),s=J(" Match"),f=J(n),o=J(" ["),h=J(a),m=J("]"),d=j(),g=z("span"),c=J(u),_=j(),E&&E.c(),S=we(),this.h()},l(k){e=C(k,"BUTTON",{class:!0});var T=N(e);t=C(T,"SPAN",{});var F=N(t);r=L(F,i),s=L(F," Match"),f=L(F,n),o=L(F," ["),h=L(F,a),m=L(F,"]"),F.forEach(b),d=U(T),g=C(T,"SPAN",{});var Y=N(g);c=L(Y,u),Y.forEach(b),T.forEach(b),_=U(k),E&&E.l(k),S=we(),this.h()},h(){I(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(k,T){O(k,e,T),w(e,t),w(t,r),w(t,s),w(t,f),w(t,o),w(t,h),w(t,m),w(e,d),w(e,g),w(g,c),O(k,_,T),E&&E.m(k,T),O(k,S,T),y=!0,P||(R=re(e,"click",v),P=!0)},p(k,T){l=k,(!y||T&1)&&i!==(i=l[9]+"")&&Se(r,i),(!y||T&1)&&n!==(n=l[9]>1?"es":"")&&Se(f,n),(!y||T&1)&&a!==(a=l[0].grouped[l[9]].length+"")&&Se(h,a),(!y||T&33)&&u!==(u=l[5]===l[9]?"^":"V")&&Se(c,u),l[5]===l[9]?E?(E.p(l,T),T&33&&q(E,1)):(E=nl(l),E.c(),q(E,1),E.m(S.parentNode,S)):E&&(De(),H(E,1,1,()=>{E=null}),Ve())},i(k){y||(q(E),y=!0)},o(k){H(E),y=!1},d(k){k&&b(e),k&&b(_),E&&E.d(k),k&&b(S),P=!1,R()}}}function ys(l){let e,t,i,r;const s=[Ss,vs],n=[];function f(o,a){return o[2]?0:1}return e=f(l),t=n[e]=s[e](l),{c(){t.c(),i=we()},l(o){t.l(o),i=we()},m(o,a){n[e].m(o,a),O(o,i,a),r=!0},p(o,[a]){let h=e;e=f(o),e===h?n[e].p(o,a):(De(),H(n[h],1,1,()=>{n[h]=null}),Ve(),t=n[e],t?t.p(o,a):(t=n[e]=s[e](o),t.c()),q(t,1),t.m(i.parentNode,i))},i(o){r||(q(t),r=!0)},o(o){H(t),r=!1},d(o){n[e].d(o),o&&b(i)}}}const ol=(l,e)=>l-e;function Es(l,e,t){let{searchResults:i}=e,{highlight:r}=e,{groupResults:s=!0}=e,{jewel:n}=e,{conqueror:f}=e;const o=d=>8+48+d.skills.reduce((g,u)=>g+32+Object.keys(u.stats).length*24,0);let a="";const h=d=>parseInt(d),m=d=>t(5,a=a===d?"":d);return l.$$set=d=>{"searchResults"in d&&t(0,i=d.searchResults),"highlight"in d&&t(1,r=d.highlight),"groupResults"in d&&t(2,s=d.groupResults),"jewel"in d&&t(3,n=d.jewel),"conqueror"in d&&t(4,f=d.conqueror)},[i,r,s,n,f,a,o,h,m]}class Ts extends xe{constructor(e){super(),$e(this,e,Es,ys,et,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const Et={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};function al(l,e,t){const i=l.slice();return i[64]=e[t],i[65]=e,i[66]=t,i}function fl(l,e,t){const i=l.slice();return i[61]=e[t],i}function ul(l){let e,t,i,r=l[19]?"Config":"Results",s,n,f,o=l[19]&&cl(l);return{c(){e=z("div"),o&&o.c(),t=j(),i=z("button"),s=J(r),this.h()},l(a){e=C(a,"DIV",{class:!0});var h=N(e);o&&o.l(h),t=U(h),i=C(h,"BUTTON",{class:!0});var m=N(i);s=L(m,r),m.forEach(b),h.forEach(b),this.h()},h(){I(i,"class","bg-neutral-100/20 px-4 p-1 rounded"),I(e,"class","flex flex-row")},m(a,h){O(a,e,h),o&&o.m(e,null),w(e,t),w(e,i),w(i,s),n||(f=re(i,"click",l[42]),n=!0)},p(a,h){a[19]?o?o.p(a,h):(o=cl(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h[0]&524288&&r!==(r=a[19]?"Config":"Results")&&Se(s,r)},d(a){a&&b(e),o&&o.d(),n=!1,f()}}}function cl(l){let e,t,i,r,s,n,f,o,a;return{c(){e=z("button"),t=J("Trade"),r=j(),s=z("button"),n=J("Grouped"),this.h()},l(h){e=C(h,"BUTTON",{class:!0});var m=N(e);t=L(m,"Trade"),m.forEach(b),r=U(h),s=C(h,"BUTTON",{class:!0});var d=N(s);n=L(d,"Grouped"),d.forEach(b),this.h()},h(){I(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!l[15],I(s,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-lpk64y"),s.disabled=f=!l[15],ze(s,"grouped",l[5])},m(h,m){O(h,e,m),w(e,t),O(h,r,m),O(h,s,m),w(s,n),o||(a=[re(e,"click",l[40]),re(s,"click",l[41])],o=!0)},p(h,m){m[0]&32768&&i!==(i=!h[15])&&(e.disabled=i),m[0]&32768&&f!==(f=!h[15])&&(s.disabled=f),m[0]&32&&ze(s,"grouped",h[5])},d(h){h&&b(e),h&&b(r),h&&b(s),o=!1,tt(a)}}}function dl(l){let e,t,i,r,s;function n(a){l[43](a)}let f={items:l[23]};l[0]!==void 0&&(f.value=l[0]),e=new Tt({props:f}),Ze.push(()=>Dt(e,"value",n)),e.$on("select",l[29]);let o=l[0]&&hl(l);return{c(){Ce(e.$$.fragment),i=j(),o&&o.c(),r=we()},l(a){Ne(e.$$.fragment,a),i=U(a),o&&o.l(a),r=we()},m(a,h){Me(e,a,h),O(a,i,h),o&&o.m(a,h),O(a,r,h),s=!0},p(a,h){const m={};!t&&h[0]&1&&(t=!0,m.value=a[0],Ot(()=>t=!1)),e.$set(m),a[0]?o?(o.p(a,h),h[0]&1&&q(o,1)):(o=hl(a),o.c(),q(o,1),o.m(r.parentNode,r)):o&&(De(),H(o,1,1,()=>{o=null}),Ve())},i(a){s||(q(e.$$.fragment,a),q(o),s=!0)},o(a){H(e.$$.fragment,a),H(o),s=!1},d(a){Oe(e,a),a&&b(i),o&&o.d(a),a&&b(r)}}}function hl(l){let e,t,i,r,s,n,f,o=l[1]&&window.TimelessJewelConquerors[l[0].value].indexOf(l[1].value)>=0,a,h;function m(u){l[44](u)}let d={items:l[22]};l[1]!==void 0&&(d.value=l[1]),s=new Tt({props:d}),Ze.push(()=>Dt(s,"value",m)),s.$on("select",l[25]);let g=o&&ml(l);return{c(){e=z("div"),t=z("h3"),i=J("Conqueror"),r=j(),Ce(s.$$.fragment),f=j(),g&&g.c(),a=we(),this.h()},l(u){e=C(u,"DIV",{class:!0});var c=N(e);t=C(c,"H3",{class:!0});var _=N(t);i=L(_,"Conqueror"),_.forEach(b),r=U(c),Ne(s.$$.fragment,c),c.forEach(b),f=U(u),g&&g.l(u),a=we(),this.h()},h(){I(t,"class","mb-2"),I(e,"class","mt-4")},m(u,c){O(u,e,c),w(e,t),w(t,i),w(e,r),Me(s,e,null),O(u,f,c),g&&g.m(u,c),O(u,a,c),h=!0},p(u,c){const _={};c[0]&4194304&&(_.items=u[22]),!n&&c[0]&2&&(n=!0,_.value=u[1],Ot(()=>n=!1)),s.$set(_),c[0]&3&&(o=u[1]&&window.TimelessJewelConquerors[u[0].value].indexOf(u[1].value)>=0),o?g?(g.p(u,c),c[0]&3&&q(g,1)):(g=ml(u),g.c(),q(g,1),g.m(a.parentNode,a)):g&&(De(),H(g,1,1,()=>{g=null}),Ve())},i(u){h||(q(s.$$.fragment,u),q(g),h=!0)},o(u){H(s.$$.fragment,u),H(g),h=!1},d(u){u&&b(e),Oe(s),u&&b(f),g&&g.d(u),u&&b(a)}}}function ml(l){let e,t,i,r,s,n,f,o,a,h,m,d,g,u;const c=[Rs,As],_=[];function S(P,R){return P[10]==="seed"?0:P[10]==="stats"?1:-1}~(o=S(l))&&(a=_[o]=c[o](l));let y=!l[3]&&vl();return{c(){e=z("div"),t=z("button"),i=J("Enter Seed"),r=j(),s=z("button"),n=J("Select Stats"),f=j(),a&&a.c(),h=j(),y&&y.c(),m=we(),this.h()},l(P){e=C(P,"DIV",{class:!0});var R=N(e);t=C(R,"BUTTON",{class:!0});var v=N(t);i=L(v,"Enter Seed"),v.forEach(b),r=U(R),s=C(R,"BUTTON",{class:!0});var E=N(s);n=L(E,"Select Stats"),E.forEach(b),R.forEach(b),f=U(P),a&&a.l(P),h=U(P),y&&y.l(P),m=we(),this.h()},h(){I(t,"class","selection-button svelte-lpk64y"),ze(t,"selected",l[10]==="seed"),I(s,"class","selection-button svelte-lpk64y"),ze(s,"selected",l[10]==="stats"),I(e,"class","mt-4 w-full flex flex-row")},m(P,R){O(P,e,R),w(e,t),w(t,i),w(e,r),w(e,s),w(s,n),O(P,f,R),~o&&_[o].m(P,R),O(P,h,R),y&&y.m(P,R),O(P,m,R),d=!0,g||(u=[re(t,"click",l[45]),re(s,"click",l[46])],g=!0)},p(P,R){R[0]&1024&&ze(t,"selected",P[10]==="seed"),R[0]&1024&&ze(s,"selected",P[10]==="stats");let v=o;o=S(P),o===v?~o&&_[o].p(P,R):(a&&(De(),H(_[v],1,1,()=>{_[v]=null}),Ve()),~o?(a=_[o],a?a.p(P,R):(a=_[o]=c[o](P),a.c()),q(a,1),a.m(h.parentNode,h)):a=null),P[3]?y&&(y.d(1),y=null):y||(y=vl(),y.c(),y.m(m.parentNode,m))},i(P){d||(q(a),d=!0)},o(P){H(a),d=!1},d(P){P&&b(e),P&&b(f),~o&&_[o].d(P),P&&b(h),y&&y.d(P),P&&b(m),g=!1,tt(u)}}}function As(l){let e,t,i,r,s,n,f=Object.keys(l[4]).length>0,o,a,h={items:l[20]};s=new Tt({props:h}),l[51](s),s.$on("select",l[27]);let m=f&&_l(l);return{c(){e=z("div"),t=z("h3"),i=J("Add Stat"),r=j(),Ce(s.$$.fragment),n=j(),m&&m.c(),o=we(),this.h()},l(d){e=C(d,"DIV",{class:!0});var g=N(e);t=C(g,"H3",{class:!0});var u=N(t);i=L(u,"Add Stat"),u.forEach(b),r=U(g),Ne(s.$$.fragment,g),g.forEach(b),n=U(d),m&&m.l(d),o=we(),this.h()},h(){I(t,"class","mb-2"),I(e,"class","mt-4")},m(d,g){O(d,e,g),w(e,t),w(t,i),w(e,r),Me(s,e,null),O(d,n,g),m&&m.m(d,g),O(d,o,g),a=!0},p(d,g){const u={};g[0]&1048576&&(u.items=d[20]),s.$set(u),g[0]&16&&(f=Object.keys(d[4]).length>0),f?m?m.p(d,g):(m=_l(d),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(d){a||(q(s.$$.fragment,d),a=!0)},o(d){H(s.$$.fragment,d),a=!1},d(d){d&&b(e),l[51](null),Oe(s),d&&b(n),m&&m.d(d),d&&b(o)}}}function Rs(l){let e,t,i,r,s,n,f,o,a,h,m,d,g,u=(l[2]<window.TimelessJewelSeedRanges[l[0].value].min||l[2]>window.TimelessJewelSeedRanges[l[0].value].max)&&pl(l),c=l[2]>=window.TimelessJewelSeedRanges[l[0].value].min&&l[2]<=window.TimelessJewelSeedRanges[l[0].value].max&&bl(l);return{c(){e=z("div"),t=z("h3"),i=J("Seed"),r=j(),s=z("input"),o=j(),u&&u.c(),a=j(),c&&c.c(),h=we(),this.h()},l(_){e=C(_,"DIV",{class:!0});var S=N(e);t=C(S,"H3",{class:!0});var y=N(t);i=L(y,"Seed"),y.forEach(b),r=U(S),s=C(S,"INPUT",{type:!0,min:!0,max:!0}),o=U(S),u&&u.l(S),S.forEach(b),a=U(_),c&&c.l(_),h=we(),this.h()},h(){I(t,"class","mb-2"),I(s,"type","number"),I(s,"min",n=window.TimelessJewelSeedRanges[l[0].value].min),I(s,"max",f=window.TimelessJewelSeedRanges[l[0].value].max),I(e,"class","mt-4")},m(_,S){O(_,e,S),w(e,t),w(t,i),w(e,r),w(e,s),Be(s,l[2]),w(e,o),u&&u.m(e,null),O(_,a,S),c&&c.m(_,S),O(_,h,S),m=!0,d||(g=[re(s,"input",l[47]),re(s,"blur",l[25])],d=!0)},p(_,S){(!m||S[0]&1&&n!==(n=window.TimelessJewelSeedRanges[_[0].value].min))&&I(s,"min",n),(!m||S[0]&1&&f!==(f=window.TimelessJewelSeedRanges[_[0].value].max))&&I(s,"max",f),S[0]&4&&Fe(s.value)!==_[2]&&Be(s,_[2]),_[2]<window.TimelessJewelSeedRanges[_[0].value].min||_[2]>window.TimelessJewelSeedRanges[_[0].value].max?u?u.p(_,S):(u=pl(_),u.c(),u.m(e,null)):u&&(u.d(1),u=null),_[2]>=window.TimelessJewelSeedRanges[_[0].value].min&&_[2]<=window.TimelessJewelSeedRanges[_[0].value].max?c?(c.p(_,S),S[0]&5&&q(c,1)):(c=bl(_),c.c(),q(c,1),c.m(h.parentNode,h)):c&&(De(),H(c,1,1,()=>{c=null}),Ve())},i(_){m||(q(c),m=!0)},o(_){H(c),m=!1},d(_){_&&b(e),u&&u.d(),_&&b(a),c&&c.d(_),_&&b(h),d=!1,tt(g)}}}function _l(l){let e,t,i,r,s,n,f,o,a,h,m,d,g,u,c,_,S,y,P,R,v,E,k,T,F,Y,fe,X,V,le,se,x=Object.keys(l[4]),Q=[];for(let D=0;D<x.length;D+=1)Q[D]=gl(al(l,x,D));function me(D,K){return D[13]?zs:Ps}let ve=me(l),oe=ve(l);return{c(){e=z("div");for(let D=0;D<Q.length;D+=1)Q[D].c();t=j(),i=z("div"),r=z("div"),s=z("div"),n=J("Min Total Weight:"),f=j(),o=z("input"),a=j(),h=z("div"),m=z("div"),d=z("button"),g=J("Select All"),c=j(),_=z("button"),S=J("Notables"),P=j(),R=z("button"),v=J("Passives"),k=j(),T=z("button"),F=J("Deselect"),fe=j(),X=z("div"),V=z("button"),oe.c(),this.h()},l(D){e=C(D,"DIV",{class:!0});var K=N(e);for(let Ue=0;Ue<Q.length;Ue+=1)Q[Ue].l(K);K.forEach(b),t=U(D),i=C(D,"DIV",{class:!0});var Z=N(i);r=C(Z,"DIV",{class:!0});var M=N(r);s=C(M,"DIV",{class:!0});var $=N(s);n=L($,"Min Total Weight:"),$.forEach(b),f=U(M),o=C(M,"INPUT",{type:!0,min:!0}),M.forEach(b),Z.forEach(b),a=U(D),h=C(D,"DIV",{class:!0});var ce=N(h);m=C(ce,"DIV",{class:!0});var ae=N(m);d=C(ae,"BUTTON",{class:!0});var _e=N(d);g=L(_e,"Select All"),_e.forEach(b),c=U(ae),_=C(ae,"BUTTON",{class:!0});var Te=N(_);S=L(Te,"Notables"),Te.forEach(b),P=U(ae),R=C(ae,"BUTTON",{class:!0});var de=N(R);v=L(de,"Passives"),de.forEach(b),k=U(ae),T=C(ae,"BUTTON",{class:!0});var Je=N(T);F=L(Je,"Deselect"),Je.forEach(b),ae.forEach(b),fe=U(ce),X=C(ce,"DIV",{class:!0});var Ge=N(X);V=C(Ge,"BUTTON",{class:!0});var Ke=N(V);oe.l(Ke),Ke.forEach(b),Ge.forEach(b),ce.forEach(b),this.h()},h(){I(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),I(s,"class","mr-2 min-w-fit"),I(o,"type","number"),I(o,"min","0"),I(r,"class","flex flex-row items-center"),I(i,"class","flex flex-col mt-2"),I(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=u=l[13]||l[9].size==0,I(_,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),_.disabled=y=l[13]||l[9].size==0,I(R,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),R.disabled=E=l[13]||l[9].size==0,I(T,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),T.disabled=Y=l[13]||l[9].size>=l[8].length,I(m,"class","flex flex-row"),I(V,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),V.disabled=l[13],I(X,"class","flex flex-row mt-2"),I(h,"class","flex flex-col mt-4")},m(D,K){O(D,e,K);for(let Z=0;Z<Q.length;Z+=1)Q[Z].m(e,null);O(D,t,K),O(D,i,K),w(i,r),w(r,s),w(s,n),w(r,f),w(r,o),Be(o,l[12]),O(D,a,K),O(D,h,K),w(h,m),w(m,d),w(d,g),w(m,c),w(m,_),w(_,S),w(m,P),w(m,R),w(R,v),w(m,k),w(m,T),w(T,F),w(h,fe),w(h,X),w(X,V),oe.m(V,null),le||(se=[re(o,"input",l[55]),re(d,"click",l[32]),re(_,"click",l[33]),re(R,"click",l[34]),re(T,"click",l[35]),re(V,"click",l[56])],le=!0)},p(D,K){if(K[0]&268435472){x=Object.keys(D[4]);let Z;for(Z=0;Z<x.length;Z+=1){const M=al(D,x,Z);Q[Z]?Q[Z].p(M,K):(Q[Z]=gl(M),Q[Z].c(),Q[Z].m(e,null))}for(;Z<Q.length;Z+=1)Q[Z].d(1);Q.length=x.length}K[0]&4096&&Fe(o.value)!==D[12]&&Be(o,D[12]),K[0]&8704&&u!==(u=D[13]||D[9].size==0)&&(d.disabled=u),K[0]&8704&&y!==(y=D[13]||D[9].size==0)&&(_.disabled=y),K[0]&8704&&E!==(E=D[13]||D[9].size==0)&&(R.disabled=E),K[0]&8960&&Y!==(Y=D[13]||D[9].size>=D[8].length)&&(T.disabled=Y),ve===(ve=me(D))&&oe?oe.p(D,K):(oe.d(1),oe=ve(D),oe&&(oe.c(),oe.m(V,null))),K[0]&8192&&(V.disabled=D[13])},d(D){D&&b(e),ht(Q,D),D&&b(t),D&&b(i),D&&b(a),D&&b(h),oe.d(),le=!1,tt(se)}}}function gl(l){let e,t,i,r,s,n,f=it(l[4][l[64]].id)+"",o,a,h,m,d,g,u,c,_,S,y,P,R,v,E,k,T;function F(){return l[52](l[64])}function Y(){l[53].call(c,l[64])}function fe(){l[54].call(v,l[64])}return{c(){e=z("div"),t=z("div"),i=z("button"),r=J("-"),s=j(),n=z("span"),o=J(f),a=j(),h=z("div"),m=z("div"),d=z("div"),g=J("Min:"),u=j(),c=z("input"),_=j(),S=z("div"),y=z("div"),P=J("Weight:"),R=j(),v=z("input"),E=j(),this.h()},l(X){e=C(X,"DIV",{class:!0});var V=N(e);t=C(V,"DIV",{});var le=N(t);i=C(le,"BUTTON",{class:!0});var se=N(i);r=L(se,"-"),se.forEach(b),s=U(le),n=C(le,"SPAN",{});var x=N(n);o=L(x,f),x.forEach(b),le.forEach(b),a=U(V),h=C(V,"DIV",{class:!0});var Q=N(h);m=C(Q,"DIV",{class:!0});var me=N(m);d=C(me,"DIV",{class:!0});var ve=N(d);g=L(ve,"Min:"),ve.forEach(b),u=U(me),c=C(me,"INPUT",{type:!0,min:!0}),me.forEach(b),_=U(Q),S=C(Q,"DIV",{class:!0});var oe=N(S);y=C(oe,"DIV",{class:!0});var D=N(y);P=L(D,"Weight:"),D.forEach(b),R=U(oe),v=C(oe,"INPUT",{type:!0,min:!0}),oe.forEach(b),Q.forEach(b),E=U(V),V.forEach(b),this.h()},h(){I(i,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),I(d,"class","mr-2"),I(c,"type","number"),I(c,"min","0"),I(m,"class","mr-4 flex flex-row items-center"),I(y,"class","mr-2"),I(v,"type","number"),I(v,"min","0"),I(S,"class","flex flex-row items-center"),I(h,"class","mt-2 flex flex-row"),I(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(X,V){O(X,e,V),w(e,t),w(t,i),w(i,r),w(t,s),w(t,n),w(n,o),w(e,a),w(e,h),w(h,m),w(m,d),w(d,g),w(m,u),w(m,c),Be(c,l[4][l[64]].min),w(h,_),w(h,S),w(S,y),w(y,P),w(S,R),w(S,v),Be(v,l[4][l[64]].weight),w(e,E),k||(T=[re(i,"click",F),re(c,"input",Y),re(v,"input",fe)],k=!0)},p(X,V){l=X,V[0]&16&&f!==(f=it(l[4][l[64]].id)+"")&&Se(o,f),V[0]&16&&Fe(c.value)!==l[4][l[64]].min&&Be(c,l[4][l[64]].min),V[0]&16&&Fe(v.value)!==l[4][l[64]].weight&&Be(v,l[4][l[64]].weight)},d(X){X&&b(e),k=!1,tt(T)}}}function Ps(l){let e;return{c(){e=J("Search")},l(t){e=L(t,"Search")},m(t,i){O(t,e,i)},p:st,d(t){t&&b(e)}}}function zs(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].max+"",r;return{c(){e=J(l[14]),t=J(" / "),r=J(i)},l(s){e=L(s,l[14]),t=L(s," / "),r=L(s,i)},m(s,n){O(s,e,n),O(s,t,n),O(s,r,n)},p(s,n){n[0]&16384&&Se(e,s[14]),n[0]&1&&i!==(i=window.TimelessJewelSeedRanges[s[0].value].max+"")&&Se(r,i)},d(s){s&&b(e),s&&b(t),s&&b(r)}}}function pl(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].min+"",r,s,n=window.TimelessJewelSeedRanges[l[0].value].max+"",f;return{c(){e=z("div"),t=J("Seed must be between "),r=J(i),s=J(`
                    and `),f=J(n),this.h()},l(o){e=C(o,"DIV",{class:!0});var a=N(e);t=L(a,"Seed must be between "),r=L(a,i),s=L(a,`
                    and `),f=L(a,n),a.forEach(b),this.h()},h(){I(e,"class","mt-2")},m(o,a){O(o,e,a),w(e,t),w(e,r),w(e,s),w(e,f)},p(o,a){a[0]&1&&i!==(i=window.TimelessJewelSeedRanges[o[0].value].min+"")&&Se(r,i),a[0]&1&&n!==(n=window.TimelessJewelSeedRanges[o[0].value].max+"")&&Se(f,n)},d(o){o&&b(e)}}}function bl(l){let e,t,i,r,s,n,f,o,a,h,m,d,g,u,c,_;function S(v){l[48](v)}let y={items:l[37]};l[6]!==void 0&&(y.value=l[6]),n=new Tt({props:y}),Ze.push(()=>Dt(n,"value",S));let P=l[36](l[21],l[6].value,l[7]),R=[];for(let v=0;v<P.length;v+=1)R[v]=wl(fl(l,P,v));return{c(){e=z("div"),t=z("div"),i=z("h3"),r=J("Sort Order"),s=j(),Ce(n.$$.fragment),o=j(),a=z("div"),h=z("button"),m=J("Colors"),d=j(),g=z("ul");for(let v=0;v<R.length;v+=1)R[v].c();this.h()},l(v){e=C(v,"DIV",{class:!0});var E=N(e);t=C(E,"DIV",{class:!0});var k=N(t);i=C(k,"H3",{class:!0});var T=N(i);r=L(T,"Sort Order"),T.forEach(b),s=U(k),Ne(n.$$.fragment,k),k.forEach(b),o=U(E),a=C(E,"DIV",{class:!0});var F=N(a);h=C(F,"BUTTON",{class:!0});var Y=N(h);m=L(Y,"Colors"),Y.forEach(b),F.forEach(b),E.forEach(b),d=U(v),g=C(v,"UL",{class:!0});var fe=N(g);for(let X=0;X<R.length;X+=1)R[X].l(fe);fe.forEach(b),this.h()},h(){I(i,"class","mb-2"),I(t,"class","flex-grow"),I(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-lpk64y"),ze(h,"selected",l[7]),I(a,"class","ml-2"),I(e,"class","flex flex-row mt-4 items-end"),I(g,"class","mt-4 overflow-auto svelte-lpk64y"),ze(g,"rainbow",l[7])},m(v,E){O(v,e,E),w(e,t),w(t,i),w(i,r),w(t,s),Me(n,t,null),w(e,o),w(e,a),w(a,h),w(h,m),O(v,d,E),O(v,g,E);for(let k=0;k<R.length;k+=1)R[k].m(g,null);u=!0,c||(_=re(h,"click",l[49]),c=!0)},p(v,E){const k={};if(!f&&E[0]&64&&(f=!0,k.value=v[6],Ot(()=>f=!1)),n.$set(k),E[0]&128&&ze(h,"selected",v[7]),E[0]&2097348|E[1]&33){P=v[36](v[21],v[6].value,v[7]);let T;for(T=0;T<P.length;T+=1){const F=fl(v,P,T);R[T]?R[T].p(F,E):(R[T]=wl(F),R[T].c(),R[T].m(g,null))}for(;T<R.length;T+=1)R[T].d(1);R.length=P.length}E[0]&128&&ze(g,"rainbow",v[7])},i(v){u||(q(n.$$.fragment,v),u=!0)},o(v){H(n.$$.fragment,v),u=!1},d(v){v&&b(e),Oe(n),v&&b(d),v&&b(g),ht(R,v),c=!1,_()}}}function wl(l){let e,t,i,r=l[61].passives.length+"",s,n,f,o,a=l[61].stat+"",h,m,d;function g(){return l[50](l[61])}return{c(){e=z("li"),t=z("span"),i=J("("),s=J(r),n=J(")"),f=j(),o=z("span"),h=j(),this.h()},l(u){e=C(u,"LI",{class:!0});var c=N(e);t=C(c,"SPAN",{class:!0});var _=N(t);i=L(_,"("),s=L(_,r),n=L(_,")"),_.forEach(b),f=U(c),o=C(c,"SPAN",{class:!0});var S=N(o);S.forEach(b),h=U(c),c.forEach(b),this.h()},h(){I(t,"class","font-bold"),ze(t,"text-white",(Et[l[61].id]||0)<3),I(o,"class","text-white"),I(e,"class","cursor-pointer")},m(u,c){O(u,e,c),w(e,t),w(t,i),w(t,s),w(t,n),w(e,f),w(e,o),o.innerHTML=a,w(e,h),m||(d=re(e,"click",g),m=!0)},p(u,c){l=u,c[0]&2097344&&r!==(r=l[61].passives.length+"")&&Se(s,r),c[0]&2097344|c[1]&32&&ze(t,"text-white",(Et[l[61].id]||0)<3),c[0]&2097344&&a!==(a=l[61].stat+"")&&(o.innerHTML=a)},d(u){u&&b(e),m=!1,d()}}}function vl(l){let e,t;return{c(){e=z("h2"),t=J("Click on a jewel socket"),this.h()},l(i){e=C(i,"H2",{class:!0});var r=N(e);t=L(r,"Click on a jewel socket"),r.forEach(b),this.h()},h(){I(e,"class","mt-4")},m(i,r){O(i,e,r),w(e,t)},d(i){i&&b(e)}}}function Sl(l){let e,t;return e=new Ts({props:{searchResults:l[15],groupResults:l[5],highlight:l[31],jewel:l[16],conqueror:l[17]}}),{c(){Ce(e.$$.fragment)},l(i){Ne(e.$$.fragment,i)},m(i,r){Me(e,i,r),t=!0},p(i,r){const s={};r[0]&32768&&(s.searchResults=i[15]),r[0]&32&&(s.groupResults=i[5]),r[0]&65536&&(s.jewel=i[16]),r[0]&131072&&(s.conqueror=i[17]),e.$set(s)},i(i){t||(q(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){Oe(e,i)}}}function Cs(l){let e,t,i,r,s=l[19]?"Results":"Timeless Jewel",n,f,o,a,h,m,d,g,u,c=l[15]&&ul(l),_=!l[19]&&dl(l),S=l[15]&&l[19]&&Sl(l);return{c(){e=z("div"),t=z("div"),i=z("div"),r=z("h3"),n=J(s),f=j(),c&&c.c(),o=j(),_&&_.c(),a=j(),S&&S.c(),h=j(),m=z("div"),d=z("a"),g=J("Source (Github)"),this.h()},l(y){e=C(y,"DIV",{class:!0});var P=N(e);t=C(P,"DIV",{class:!0});var R=N(t);i=C(R,"DIV",{class:!0});var v=N(i);r=C(v,"H3",{class:!0});var E=N(r);n=L(E,s),E.forEach(b),f=U(v),c&&c.l(v),v.forEach(b),o=U(R),_&&_.l(R),a=U(R),S&&S.l(R),R.forEach(b),P.forEach(b),h=U(y),m=C(y,"DIV",{class:!0});var k=N(m);d=C(k,"A",{href:!0,target:!0,rel:!0});var T=N(d);g=L(T,"Source (Github)"),T.forEach(b),k.forEach(b),this.h()},h(){I(r,"class","flex-grow"),I(i,"class","flex flex-row justify-between mb-2"),I(t,"class","p-4 max-h-screen flex flex-col"),I(e,"class","w-1/2 xl:w-1/3 2xl:w-1/4 3xl:w-1/5 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen"),I(d,"href","https://github.com/Vilsol/timeless-jewels"),I(d,"target","_blank"),I(d,"rel","noopener"),I(m,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(y,P){O(y,e,P),w(e,t),w(t,i),w(i,r),w(r,n),w(i,f),c&&c.m(i,null),w(t,o),_&&_.m(t,null),w(t,a),S&&S.m(t,null),O(y,h,P),O(y,m,P),w(m,d),w(d,g),u=!0},p(y,P){(!u||P[0]&524288)&&s!==(s=y[19]?"Results":"Timeless Jewel")&&Se(n,s),y[15]?c?c.p(y,P):(c=ul(y),c.c(),c.m(i,null)):c&&(c.d(1),c=null),y[19]?_&&(De(),H(_,1,1,()=>{_=null}),Ve()):_?(_.p(y,P),P[0]&524288&&q(_,1)):(_=dl(y),_.c(),q(_,1),_.m(t,a)),y[15]&&y[19]?S?(S.p(y,P),P[0]&557056&&q(S,1)):(S=Sl(y),S.c(),q(S,1),S.m(t,null)):S&&(De(),H(S,1,1,()=>{S=null}),Ve())},i(y){u||(q(_),q(S),u=!0)},o(y){H(_),H(S),u=!1},d(y){y&&b(e),c&&c.d(),_&&_.d(),S&&S.d(),y&&b(h),y&&b(m)}}}function Ns(l){var i,r;let e,t;return e=new fs({props:{clickNode:l[24],circledNode:l[3],selectedJewel:(i=l[0])==null?void 0:i.value,selectedConqueror:(r=l[1])==null?void 0:r.value,highlighted:l[18],seed:l[2],disabled:[...l[9]],$$slots:{default:[Cs]},$$scope:{ctx:l}}}),{c(){Ce(e.$$.fragment)},l(s){Ne(e.$$.fragment,s)},m(s,n){Me(e,s,n),t=!0},p(s,n){var o,a;const f={};n[0]&8&&(f.circledNode=s[3]),n[0]&1&&(f.selectedJewel=(o=s[0])==null?void 0:o.value),n[0]&2&&(f.selectedConqueror=(a=s[1])==null?void 0:a.value),n[0]&262144&&(f.highlighted=s[18]),n[0]&4&&(f.seed=s[2]),n[0]&512&&(f.disabled=[...s[9]]),n[0]&8126463|n[2]&32&&(f.$$scope={dirty:n,ctx:s}),e.$set(f)},i(s){t||(q(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){Oe(e,s)}}}function Ms(l,e,t){let i,r,s,n,f,o;Ee(l,Yl,A=>t(57,o=A));const a=o.url.searchParams,h=Object.keys(window.TimelessJewels).map(A=>({value:parseInt(A),label:window.TimelessJewels[A]}));let m=a.has("jewel")?h.find(A=>A.value==a.get("jewel")):void 0,d=a.has("conqueror")?{value:a.get("conqueror"),label:a.get("conqueror")}:void 0,g=a.has("seed")?parseInt(a.get("seed")):0,u=a.has("location")?parseInt(a.get("location")):void 0,c=new Set;const _=A=>{A.isJewelSocket?(t(3,u=A.skill),S()):A.isMastery||(c.has(A.skill)?c.delete(A.skill):c.add(A.skill),t(9,c))},S=()=>{const A=new URL(window.location.origin+window.location.pathname);m&&A.searchParams.append("jewel",m.value.toString()),d&&A.searchParams.append("conqueror",d.value),g&&A.searchParams.append("seed",g.toString()),u&&A.searchParams.append("location",u.toString()),y&&A.searchParams.append("mode",y),Object.keys(v).forEach(ee=>{A.searchParams.append("stat",ee.toString())}),Wl(A.toString())};let y=a.has("mode")?a.get("mode"):"";const P=A=>{t(10,y=A),S()};let R=JSON.parse(window.PossibleStats),v={};a.has("stat")&&a.getAll("stat").map(A=>{const ee=parseInt(A);t(4,v[ee]={weight:1,min:0,id:ee},v)});let E;const k=A=>{t(4,v[A.detail.value]={weight:1,min:0,id:A.detail.value},v),t(4,v),E.handleClear(),S()},T=A=>{delete v[A],t(4,v),S()},F=()=>{t(4,v={}),S()};let Y=0,fe=!1,X=0,V,le=1,se="";const x=()=>{if(!u)return;t(16,le=m.value),t(17,se=d.value),t(13,fe=!0),t(15,V=void 0);const A={jewel:m.value,conqueror:d.value,nodes:r.filter(ee=>!c.has(ee.skill)).map(ee=>window.TreeToPassive[ee.skill]),stats:Object.keys(v).map(ee=>v[ee]),minTotalWeight:Y};Kl.search(A,Hl(ee=>t(14,X=ee))).then(ee=>{t(15,V=ee),t(13,fe=!1),t(19,M=!0)})};let Q=[];const me=(A,ee)=>{t(2,g=A),t(18,Q=ee),S()},ve=()=>{c.clear(),t(9,c)},oe=()=>{r.forEach(A=>{A.isNotable&&c.delete(A.skill)}),t(9,c)},D=()=>{r.forEach(A=>{A.isNotable||c.delete(A.skill)}),t(9,c)},K=()=>{r.filter(A=>!A.isJewelSocket&&!A.isMastery).forEach(A=>c.add(A.skill)),t(9,c)};let Z=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true",M=!1;const $={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},ce=A=>(Object.keys($).forEach(ee=>{const p=$[ee];A=A.replace(new RegExp(`(${ee}(?:$|\\s))|((?:^|\\s)${ee})`,"gi"),`<span style='color: ${p}; font-weight: bold'>$1$2</span>`)}),A),ae=(A,ee,p)=>{const ie={};A.forEach(G=>{if("alternatePassiveSkill"in G.result){const B=GetAlternatePassiveSkillByIndex(G.result.alternatePassiveSkill);"statsKeys"in B&&B.statsKeys.forEach(te=>{ie[te]=[...ie[te]||[],G.node]})}"alternatePassiveAdditionInformations"in G.result&&G.result.alternatePassiveAdditionInformations.forEach(B=>{const te=GetAlternatePassiveAdditionByIndex(B.alternatePassiveSkillAddition);"statsKeys"in te&&te.statsKeys.forEach(he=>{ie[he]=[...ie[he]||[],G.node]})})});const ge=Object.keys(ie).map(G=>{const B=it(parseInt(G));return{stat:p?ce(B):B,rawStat:B,id:G,passives:ie[G]}});switch(ee){case"alphabet":return ge.sort((G,B)=>G.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(B.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return ge.sort((G,B)=>B.passives.length-G.passives.length);case"rarity":return ge.sort((G,B)=>R[m.value][G.id]-R[m.value][B.id]);case"value":return ge.sort((G,B)=>{const te=Et[G.id]||0,he=Et[B.id]||0;return te!=he?he-te:R[m.value][G.id]-R[m.value][B.id]})}return ge},_e=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let Te=_e.find(A=>A.value===(localStorage.getItem("sortOrder")||"count")),de=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true";const Je=()=>Il(le,se,V.raw),Ge=()=>t(5,Z=!Z),Ke=()=>t(19,M=!M);function Ue(A){m=A,t(0,m)}function mt(A){d=A,t(1,d)}const Ie=()=>P("seed"),_t=()=>P("stats");function gt(){g=Fe(this.value),t(2,g)}function pt(A){Te=A,t(6,Te)}const bt=()=>t(7,de=!de),nt=A=>me(g,A.passives);function At(A){Ze[A?"unshift":"push"](()=>{E=A,t(11,E)})}const Rt=A=>T(v[A].id);function Pt(A){v[A].min=Fe(this.value),t(4,v)}function zt(A){v[A].weight=Fe(this.value),t(4,v)}function wt(){Y=Fe(this.value),t(12,Y)}const vt=()=>x();return l.$$.update=()=>{l.$$.dirty[0]&1&&t(22,i=m?window.TimelessJewelConquerors[m.value].map(A=>({value:A,label:A})):[]),l.$$.dirty[0]&8&&t(8,r=u?Gl(Qe.nodes[u]).filter(A=>!A.isJewelSocket&&!A.isMastery):[]),l.$$.dirty[0]&263&&t(21,s=!g||!m||!d||window.TimelessJewelConquerors[m.value].indexOf(d.value)<0?[]:r.map(A=>({node:A.skill,result:Calculate(TreeToPassive[A.skill],g,m.value,d.value)}))),l.$$.dirty[0]&1&&t(39,n=m?Object.keys(R[m.value]):[]),l.$$.dirty[0]&16|l.$$.dirty[1]&256&&t(20,f=n.map(A=>{const ee=parseInt(A);return{label:it(ee),value:ee}}).filter(A=>!(A.value in v))),l.$$.dirty[0]&32&&localStorage.setItem("groupResults",Z?"true":"false"),l.$$.dirty[0]&64&&localStorage.setItem("sortOrder",Te.value),l.$$.dirty[0]&128&&localStorage.setItem("colored",de?"true":"false")},[m,d,g,u,v,Z,Te,de,r,c,y,E,Y,fe,X,V,le,se,Q,M,f,s,i,h,_,S,P,k,T,F,x,me,ve,oe,D,K,ae,_e,$,n,Je,Ge,Ke,Ue,mt,Ie,_t,gt,pt,bt,nt,At,Rt,Pt,zt,wt,vt]}class js extends xe{constructor(e){super(),$e(this,e,Ms,Ns,et,{colorKeys:38},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[38]}}export{js as default};
