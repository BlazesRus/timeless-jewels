import{a9 as Al,R as se,aa as Pl,S as Qe,i as Ze,s as xe,I as rt,e as T,k as B,c as A,a as z,d as w,m as q,b as v,f as gt,g as C,ab as zl,J as ot,K as at,L as ft,q as F,o as H,r as Rl,v as hl,ac as kt,N as tt,E as Ge,a8 as Nl,w as ze,x as Re,y as Ne,M as b,B as Ce,l as be,n as Ve,p as Je,G as lt,V as ye,ad as Cl,t as J,h as L,j as we,U as pt,a2 as Ml,a3 as Ol,X as Dl,W as et,P as ml,T as Be,O as _l,Q as qe}from"../chunks/index-7969860d.js";import{r as Vl,d as Jl}from"../chunks/index-3d8bec42.js";import{g as Pe,b as Ll,a as De,d as vt,t as Ct,c as Xe,o as Mt,e as ht,f as Ot,i as Dt,h as Vt,j as Fl,k as Jt,m as ut,n as mt,s as Ul,p as jl,q as Bl}from"../chunks/worker-d829d87f.js";import{g as ql,S as It,p as Gl}from"../chunks/stores-0b2c0e1d.js";import"../chunks/singletons-cdeec3fd.js";const Hl=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function Wl(){const l=Al();return e=>{const t=Hl.map(i=>se(e,i,n=>Pl(l,n)));return{destroy:()=>t.forEach(i=>i())}}}class Yl{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:t}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,t),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:t,context:i,width:n,height:s}){const r={context:i,width:n,height:s};if(this.needsResize&&(i.setTransform(t,0,0,t,0,0),this.needsResize=!1),this.needsSetup){for(const[f,o]of this.setups)o(r),this.setups.delete(f);this.needsSetup=!1}if(this.needsRedraw){e&&i.clearRect(0,0,n,s);for(const f of this.layerSequence)this.renderers.get(f)(r);this.needsRedraw=!1}}}function Kl(l){let e,t,i,n,s,r,f,o,a;const h=l[13].default,m=rt(h,l,l[12],null);return{c(){e=T("canvas"),s=B(),r=T("div"),m&&m.c(),this.h()},l(d){e=A(d,"CANVAS",{style:!0,width:!0,height:!0}),z(e).forEach(w),s=q(d),r=A(d,"DIV",{style:!0});var c=z(r);m&&m.l(c),c.forEach(w),this.h()},h(){v(e,"style",t="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")),v(e,"width",i=l[1]*l[0]),v(e,"height",n=l[2]*l[0]),gt(r,"display","none")},m(d,c){C(d,e,c),l[14](e),C(d,s,c),C(d,r,c),m&&m.m(r,null),l[15](r),f=!0,o||(a=zl(l[6].call(null,e)),o=!0)},p(d,[c]){(!f||c&14&&t!==(t="display: block; width: "+d[1]+"px; height: "+d[2]+"px;"+(d[3]?` ${d[3]}`:"")))&&v(e,"style",t),(!f||c&3&&i!==(i=d[1]*d[0]))&&v(e,"width",i),(!f||c&5&&n!==(n=d[2]*d[0]))&&v(e,"height",n),m&&m.p&&(!f||c&4096)&&ot(m,h,d,d[12],f?ft(h,d[12],c,null):at(d[12]),null)},i(d){f||(F(m,d),f=!0)},o(d){H(m,d),f=!1},d(d){d&&w(e),l[14](null),d&&w(s),d&&w(r),m&&m.d(d),l[15](null),o=!1,a()}}}const gl={};function Xl(l,e,t){let{$$slots:i={},$$scope:n}=e,{width:s=640,height:r=640,pixelRatio:f=void 0,style:o=null,autoclear:a=!0}=e,h,m,d,c,u;const g=Wl(),p=new Yl;function S(){p.redraw()}function R(){return h}function k(){return m}f===void 0&&(typeof window=="undefined"?f=2:f=window.devicePixelRatio);function N(){p.render({context:m,width:s,height:r,pixelRatio:f,autoclear:a}),d=window.requestAnimationFrame(N)}Rl(gl,{register:p.register,unregister:p.unregister,redraw:p.redraw}),hl(()=>{m=h.getContext("2d"),u=new MutationObserver(y),u.observe(c,{childList:!0}),y(),N();function y(){const V=[...c.children].map(W=>+W.dataset.layerId);t(11,p.layerSequence=V,p),p.redraw()}}),kt(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(d),u.disconnect())});function O(y){tt[y?"unshift":"push"](()=>{h=y,t(4,h)})}function D(y){tt[y?"unshift":"push"](()=>{c=y,t(5,c)})}return l.$$set=y=>{"width"in y&&t(1,s=y.width),"height"in y&&t(2,r=y.height),"pixelRatio"in y&&t(0,f=y.pixelRatio),"style"in y&&t(3,o=y.style),"autoclear"in y&&t(7,a=y.autoclear),"$$scope"in y&&t(12,n=y.$$scope)},l.$$.update=()=>{l.$$.dirty&2183&&p.resize()},[f,s,r,o,h,c,g,a,S,R,k,p,n,i,O,D]}class Ql extends Qe{constructor(e){super(),Ze(this,e,Xl,Kl,xe,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function Zl(l){let e;return{c(){e=T("div"),this.h()},l(t){e=A(t,"DIV",{"data-layer-id":!0}),z(e).forEach(w),this.h()},h(){v(e,"data-layer-id",l[0])},m(t,i){C(t,e,i)},p:Ge,i:Ge,o:Ge,d(t){t&&w(e)}}}function xl(l,e,t){const{register:i,unregister:n,redraw:s}=Nl(gl);let{setup:r=void 0,render:f=()=>{}}=e;if(typeof r!="function"&&r!==void 0)throw new Error("setup must be a function");if(typeof f!="function")throw new Error("render must be a function");const o=i({setup:r,render:f});return kt(()=>n(o)),l.$$set=a=>{"setup"in a&&t(1,r=a.setup),"render"in a&&t(2,f=a.render)},l.$$.update=()=>{l.$$.dirty&4&&s()},[o,r,f]}class $l extends Qe{constructor(e){super(),Ze(this,e,xl,Zl,xe,{setup:1,render:2})}}let Lt;const pl=Date.now();function wl(l){return l(Date.now()-pl),Lt=window.requestAnimationFrame(()=>wl(l)),()=>window.cancelAnimationFrame(Lt)}function es(){}var ts=Vl(Date.now()-pl,typeof window=="undefined"?es:wl);const{window:St}=Cl;function Ft(l){let e,t,i,n,s,r;t=new Ql({props:{width:l[0],height:l[1],$$slots:{default:[ls]},$$scope:{ctx:l}}}),t.$on("pointerdown",l[17]),t.$on("wheel",l[20]);const f=l[49].default,o=rt(f,l,l[50],null);return{c(){e=T("div"),ze(t.$$.fragment),i=B(),o&&o.c(),this.h()},l(a){e=A(a,"DIV",{style:!0});var h=z(e);Re(t.$$.fragment,h),i=q(h),o&&o.l(h),h.forEach(w),this.h()},h(){gt(e,"touch-action","none"),gt(e,"cursor",l[2])},m(a,h){C(a,e,h),Ne(t,e,null),b(e,i),o&&o.m(e,null),n=!0,s||(r=se(e,"resize",l[21]),s=!0)},p(a,h){const m={};h[0]&1&&(m.width=a[0]),h[0]&2&&(m.height=a[1]),h[0]&8|h[1]&524288&&(m.$$scope={dirty:h,ctx:a}),t.$set(m),o&&o.p&&(!n||h[1]&524288)&&ot(o,f,a,a[50],n?ft(f,a[50],h,null):at(a[50]),null),(!n||h[0]&4)&&gt(e,"cursor",a[2])},i(a){n||(F(t.$$.fragment,a),F(o,a),n=!0)},o(a){H(t.$$.fragment,a),H(o,a),n=!1},d(a){a&&w(e),Ce(t),o&&o.d(a),s=!1,r()}}}function ls(l){let e,t;return e=new $l({props:{render:l[3]}}),{c(){ze(e.$$.fragment)},l(i){Re(e.$$.fragment,i)},m(i,n){Ne(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.render=i[3]),e.$set(s)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function ss(l){let e,t,i,n,s=l[0]&&l[1]&&Ft(l);return{c(){s&&s.c(),e=be()},l(r){s&&s.l(r),e=be()},m(r,f){s&&s.m(r,f),C(r,e,f),t=!0,i||(n=[se(St,"pointerup",l[18]),se(St,"pointermove",l[19]),se(St,"resize",l[21])],i=!0)},p(r,f){r[0]&&r[1]?s?(s.p(r,f),f[0]&3&&F(s,1)):(s=Ft(r),s.c(),F(s,1),s.m(e.parentNode,e)):s&&(Ve(),H(s,1,1,()=>{s=null}),Je())},i(r){t||(F(s),t=!0)},o(r){H(s),t=!1},d(r){s&&s.d(r),r&&w(e),i=!1,lt(n)}}}const Ut="25px Roboto Mono",jt="17px Roboto Mono",$e=2.6;function is(l,e,t){let i,n,s,r,f,o,a,h,m,d,c,u,g,p,S,{$$slots:R={},$$scope:k}=e,{clickNode:N}=e,{circledNode:O}=e,{selectedJewel:D}=e,{selectedConqueror:y}=e,{seed:V}=e,{highlighted:W=[]}=e,{disabled:ne=[]}=e;const re=Jl(ts,_=>!W||!W.length?0:Math.round(_/40));ye(l,re,_=>t(36,s=_));const Q=[427,320,226,227,323,422,329];let M=10,$=0,X=0;const U=(_,fe,Ee)=>{const ae=fe.width/M*$e,le=fe.height/M*$e,ue=Ee.x-ae/2,ke=Ee.y-le/2;_.drawImage(fe,ue,ke,ae,le)},ve=(_,fe,Ee)=>{const ae=fe.width/M*$e,le=fe.height/M*$e,ue=Ee.x-ae/2,ke=Ee.y-le/2,We=ke-le/2;_.drawImage(fe,ue,We,ae,le),_.save(),_.translate(ue,ke),_.rotate(Math.PI),_.drawImage(fe,-ae,-(le/2),ae,-le),_.restore()},oe={},ee={},P=(_,fe,Ee,ae=!1)=>{let le=ae?Fl[fe]:Jt[fe];!le&&ae&&(le=Jt[fe]);const ue=le.filename;ue in(ae?ee:oe)||((ae?ee:oe)[ue]=new Image,(ae?ee:oe)[ue].src=ue);const ke=le.coords[fe],We=ke.w/M*$e,dt=ke.h/M*$e,Ie=Ee.x-We/2,G=Ee.y-dt/2;_.drawImage((ae?ee:oe)[ue],ke.x,ke.y,ke.w,ke.h,Ie,G,We,dt)},Y=(_,fe,Ee)=>{const ae=[];let le="";return _.split(" ").forEach(ue=>{fe.measureText(le+ue).width<Ee?le+=" "+ue:(ae.push(le.trim()),le=ue)}),le.length>0&&ae.push(le.trim()),ae};let j={x:Number.MIN_VALUE,y:Number.MIN_VALUE},Se="unset";const E=Pe("PSGroupBackground1");ye(l,E,_=>t(48,S=_));const K=Pe("PSGroupBackground2");ye(l,K,_=>t(47,p=_));const te=Pe("PSGroupBackground3");ye(l,te,_=>t(46,g=_));const de=Pe("KeystoneFrameAllocated");ye(l,de,_=>t(45,u=_));const he=Pe("KeystoneFrameUnallocated");ye(l,he,_=>t(44,c=_));const Me=Pe("NotableFrameAllocated");ye(l,Me,_=>t(43,d=_));const _e=Pe("NotableFrameUnallocated");ye(l,_e,_=>t(42,m=_));const Oe=Pe("JewelSocketAltNormal");ye(l,Oe,_=>t(41,h=_));const He=Pe("JewelFrameAllocated");ye(l,He,_=>t(40,a=_));const Ue=Pe("JewelFrameUnallocated");ye(l,Ue,_=>t(39,o=_));const ct=Pe("PSSkillFrameActive");ye(l,ct,_=>t(38,f=_));const I=Pe("PSSkillFrame");ye(l,I,_=>t(37,r=_));let x,ge=0,yt=0,Et=0,Tt=0,wt=!1;const Sl=_=>{wt=!0,ge=_.offsetX,yt=_.offsetY,Et=$,Tt=X,t(32,j={x:_.offsetX,y:_.offsetY}),x&&N(x)},kl=_=>{_.type==="pointerup"&&(wt=!1),t(32,j={x:_.offsetX,y:_.offsetY})},Il=_=>{wt&&(t(30,$=Et-(ge-_.offsetX)*M),t(31,X=Tt-(yt-_.offsetY)*M)),t(32,j={x:_.offsetX,y:_.offsetY})},yl=_=>{_.deltaY>0?M<30&&(t(30,$+=_.offsetX),t(31,X+=_.offsetY)):M>3&&(t(30,$-=_.offsetX),t(31,X-=_.offsetY)),t(29,M=Math.min(30,Math.max(3,M+_.deltaY/100))),_.preventDefault(),_.stopPropagation(),_.stopImmediatePropagation()};let At=0,Pt=0;const zt=()=>{t(0,At=window.innerWidth),t(1,Pt=window.innerHeight)};let bt=!1;return l.$$set=_=>{"clickNode"in _&&t(22,N=_.clickNode),"circledNode"in _&&t(23,O=_.circledNode),"selectedJewel"in _&&t(24,D=_.selectedJewel),"selectedConqueror"in _&&t(25,y=_.selectedConqueror),"seed"in _&&t(26,V=_.seed),"highlighted"in _&&t(27,W=_.highlighted),"disabled"in _&&t(28,ne=_.disabled),"$$scope"in _&&t(50,k=_.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&536870912&&t(35,i=Ll/M),l.$$.dirty[0]&536870912|l.$$.dirty[1]&8&&(!bt&&De&&(t(34,bt=!0),t(30,$=De.min_x+window.innerWidth/2*M),t(31,X=De.min_y+window.innerHeight/2*M)),zt()),l.$$.dirty[0]&2139095040|l.$$.dirty[1]&262135&&t(3,n=({context:_,width:fe,height:Ee})=>{const ae=window.performance.now();_.clearRect(0,0,fe,Ee),_.fillStyle="#080c11",_.fillRect(0,0,fe,Ee);const le={};Object.keys(vt).forEach(Ie=>{const G=vt[Ie],Z=Ct(G.x,G.y,$,X,M),me=Math.max(...G.orbits);Q.indexOf(parseInt(Ie))>=0||(me==1?U(_,S,Z):me==2?U(_,p,Z):(me==3||G.orbits.length>1)&&ve(_,g,Z))}),Object.keys(Xe).forEach(Ie=>{var ie;const G=Xe[Ie],Z=Mt(G.orbit,G.orbitIndex),me=ht(G,$,X,M);(ie=G.out)==null||ie.forEach(Ye=>{if(!Xe[parseInt(Ye)])return;const Le=Math.min(parseInt(Ye),parseInt(Ie)),st=Math.max(parseInt(Ye),parseInt(Ie)),ce=Le+":"+st;if(ce in le)return;le[ce]=!0;const pe=Xe[parseInt(Ye)];if(!pe||pe.isMastery)return;const Ke=Mt(pe.orbit,pe.orbitIndex),je=ht(pe,$,X,M);if(_.beginPath(),G.group!=pe.group||G.orbit!=pe.orbit)_.moveTo(me.x,me.y),_.lineTo(je.x,je.y);else{let Ae=Math.PI/180-Math.PI/180*Z,Te=Math.PI/180-Math.PI/180*Ke;Ae-=Math.PI/2,Te-=Math.PI/2;const it=Math.abs(Math.max(Ae,Te)-Math.min(Ae,Te)),El=it>Math.PI?Math.max(Ae,Te):Math.min(Ae,Te),Tl=it>Math.PI?Math.min(Ae,Te):Math.max(Ae,Te),Rt=vt[G.group],Nt=Ct(Rt.x,Rt.y,$,X,M);_.arc(Nt.x,Nt.y,De.constants.orbitRadii[G.orbit]/M+1,El,Tl)}_.lineWidth=6/M,_.strokeStyle="#524518",_.stroke()})});let ue;O&&(ue=ht(Xe[O],$,X,M),_.strokeStyle="#ad2b2b");let ke=!1,We;if(Object.keys(Xe).forEach(Ie=>{const G=Xe[Ie],Z=ht(G,$,X,M);let me=0,ie=!1;O&&Ot(Z,ue)<i&&(ie=!0),ne.indexOf(G.skill)>=0&&(ie=!1),G.isKeystone?(me=110,P(_,G.icon,Z,ie),ie?U(_,u,Z):U(_,c,Z)):G.isNotable?(me=70,P(_,G.icon,Z,ie),ie?U(_,d,Z):U(_,m,Z)):G.isJewelSocket?(me=70,G.expansionJewel?U(_,h,Z):ie?U(_,a,Z):U(_,o,Z)):G.isMastery?P(_,G.inactiveIcon,Z,ie):(me=50,P(_,G.icon,Z,ie),ie?U(_,f,Z):U(_,r,Z)),W.indexOf(G.skill)>=0&&(_.strokeStyle=`hsl(${s}, 100%, 50%)`,_.lineWidth=3,_.beginPath(),_.arc(Z.x,Z.y,(me+30)/M,0,Math.PI*2),_.stroke()),Ot(Z,j)<me/M&&(We=G,ke=ie)}),t(33,x=We),O&&(_.strokeStyle="#ad2b2b",_.lineWidth=1,_.beginPath(),_.arc(ue.x,ue.y,i,0,Math.PI*2),_.stroke()),x){let Ie=x.name,G=(x.stats||[]).map(ce=>({text:ce,special:!1}));if(!x.isJewelSocket&&ke&&x.skill&&V&&D&&y){const ce=Calculate(TreeToPassive[x.skill],V,D,y);if(ce){if("alternatePassiveSkill"in ce){const pe=GetAlternatePassiveSkillByIndex(ce.alternatePassiveSkill);G=[],Ie=pe.name,"statsKeys"in pe&&pe.statsKeys.forEach((Ke,je)=>{const Ae=GetStatByIndex(Ke),Te=Dt[Ae.id]||"";Te&&G.push({text:Vt(Te,ce.statRolls[je])||Ae.id,special:!0})})}"alternatePassiveAdditionInformations"in ce&&ce.alternatePassiveAdditionInformations.length>0&&ce.alternatePassiveAdditionInformations.forEach(pe=>{const Ke=GetAlternatePassiveAdditionByIndex(pe.alternatePassiveSkillAddition);"statsKeys"in Ke&&Ke.statsKeys.forEach((je,Ae)=>{const Te=GetStatByIndex(je),it=Dt[Te.id]||"";it&&G.push({text:Vt(it,pe.statRolls[Ae])||Te.id,special:!0})})})}}_.font=Ut;const Z=_.measureText(Ie),me=Math.max(Z.width+50,600);_.font=jt;const ie=[],Ye=30;let Le=85;G&&G.length>0?G.forEach(ce=>{ie.length>0&&(Le+=5),ce.text.split(`
`).forEach(pe=>{ie.length>0&&(Le+=10),Y(pe,_,me-Ye).forEach(je=>{ie.push({text:je,offset:Le,special:ce.special}),Le+=20})})}):x.isJewelSocket&&(ie.push({text:"Click to select this socket",offset:Le,special:!0}),Le+=20);const st=55;_.fillStyle="rgba(75,63,24,0.9)",_.fillRect(j.x,j.y,me,st),_.fillStyle="#ffffff",_.font=Ut,_.textAlign="center",_.fillText(Ie,j.x+me/2,j.y+35),_.fillStyle="rgba(0,0,0,0.8)",_.fillRect(j.x,j.y+st,me,Le-st),_.font=jt,_.textAlign="left",ie.forEach(ce=>{ce.special?_.fillStyle="#8cf34c":_.fillStyle="#ffffff",_.fillText(ce.text,j.x+Ye/2,j.y+ce.offset)})}x&&x.isJewelSocket?t(2,Se="pointer"):t(2,Se="unset"),_.fillStyle="#ffffff",_.textAlign="right",_.font="12px Roboto Mono";const dt=window.performance.now();_.fillText(`${(dt-ae).toFixed(1)}ms`,fe-5,17)})},[At,Pt,Se,n,re,E,K,te,de,he,Me,_e,Oe,He,Ue,ct,I,Sl,kl,Il,yl,zt,N,O,D,y,V,W,ne,M,$,X,j,x,bt,i,s,r,f,o,a,h,m,d,c,u,g,p,S,R,k]}class ns extends Qe{constructor(e){super(),Ze(this,e,is,ss,xe,{clickNode:22,circledNode:23,selectedJewel:24,selectedConqueror:25,seed:26,highlighted:27,disabled:28},null,[-1,-1,-1])}}function Bt(l,e,t){const i=l.slice();return i[3]=e[t],i}function qt(l,e,t){const i=l.slice();return i[6]=e[t],i}function Gt(l){let e,t=ut(l[6],l[3].stats[l[6]])+"",i;return{c(){e=T("li"),i=J(t)},l(n){e=A(n,"LI",{});var s=z(e);i=L(s,t),s.forEach(w)},m(n,s){C(n,e,s),b(e,i)},p(n,s){s&2&&t!==(t=ut(n[6],n[3].stats[n[6]])+"")&&we(i,t)},d(n){n&&w(e)}}}function Ht(l){let e,t,i=De.nodes[l[3].passive].name+"",n,s,r=l[3].passive+"",f,o,a,h,m,d=Object.keys(l[3].stats),c=[];for(let u=0;u<d.length;u+=1)c[u]=Gt(qt(l,d,u));return{c(){e=T("div"),t=T("span"),n=J(i),s=J(" ("),f=J(r),o=J(")"),a=B(),h=T("ul");for(let u=0;u<c.length;u+=1)c[u].c();m=B(),this.h()},l(u){e=A(u,"DIV",{class:!0});var g=z(e);t=A(g,"SPAN",{});var p=z(t);n=L(p,i),s=L(p," ("),f=L(p,r),o=L(p,")"),p.forEach(w),a=q(g),h=A(g,"UL",{class:!0});var S=z(h);for(let R=0;R<c.length;R+=1)c[R].l(S);S.forEach(w),m=q(g),g.forEach(w),this.h()},h(){v(h,"class","list-disc pl-6 font-bold"),v(e,"class","mt-2")},m(u,g){C(u,e,g),b(e,t),b(t,n),b(t,s),b(t,f),b(t,o),b(e,a),b(e,h);for(let p=0;p<c.length;p+=1)c[p].m(h,null);b(e,m)},p(u,g){if(g&2&&i!==(i=De.nodes[u[3].passive].name+"")&&we(n,i),g&2&&r!==(r=u[3].passive+"")&&we(f,r),g&2){d=Object.keys(u[3].stats);let p;for(p=0;p<d.length;p+=1){const S=qt(u,d,p);c[p]?c[p].p(S,g):(c[p]=Gt(S),c[p].c(),c[p].m(h,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=d.length}},d(u){u&&w(e),pt(c,u)}}}function rs(l){let e,t,i,n=l[1].seed+"",s,r,f=l[1].weight+"",o,a,h,m,d,c=l[1].skills,u=[];for(let g=0;g<c.length;g+=1)u[g]=Ht(Bt(l,c,g));return{c(){e=T("div"),t=T("div"),i=J("Seed "),s=J(n),r=J(" (weight "),o=J(f),a=J(")"),h=B();for(let g=0;g<u.length;g+=1)u[g].c();this.h()},l(g){e=A(g,"DIV",{class:!0});var p=z(e);t=A(p,"DIV",{class:!0});var S=z(t);i=L(S,"Seed "),s=L(S,n),r=L(S," (weight "),o=L(S,f),a=L(S,")"),S.forEach(w),h=q(p);for(let R=0;R<u.length;R+=1)u[R].l(p);p.forEach(w),this.h()},h(){v(t,"class","font-bold text-orange-500 text-center"),v(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(g,p){C(g,e,p),b(e,t),b(t,i),b(t,s),b(t,r),b(t,o),b(t,a),b(e,h);for(let S=0;S<u.length;S+=1)u[S].m(e,null);m||(d=se(e,"click",l[2]),m=!0)},p(g,[p]){if(p&2&&n!==(n=g[1].seed+"")&&we(s,n),p&2&&f!==(f=g[1].weight+"")&&we(o,f),p&2){c=g[1].skills;let S;for(S=0;S<c.length;S+=1){const R=Bt(g,c,S);u[S]?u[S].p(R,p):(u[S]=Ht(R),u[S].c(),u[S].m(e,null))}for(;S<u.length;S+=1)u[S].d(1);u.length=c.length}},i:Ge,o:Ge,d(g){g&&w(e),pt(u,g),m=!1,d()}}}function os(l,e,t){let{highlight:i}=e,{set:n}=e;const s=()=>i(n.seed,n.skills);return l.$$set=r=>{"highlight"in r&&t(0,i=r.highlight),"set"in r&&t(1,n=r.set)},[i,n,s]}class bl extends Qe{constructor(e){super(),Ze(this,e,os,rs,xe,{highlight:0,set:1})}}const _t={AUTO:"auto",START:"start",CENTER:"center",END:"end"},Fe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},nt={OBSERVED:0,REQUESTED:1},as={[Fe.VERTICAL]:"top",[Fe.HORIZONTAL]:"left"},Wt={[Fe.VERTICAL]:"scrollTop",[Fe.HORIZONTAL]:"scrollLeft"};class fs{constructor({itemSize:e,itemCount:t,estimatedItemSize:i}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:i}){t!=null&&(this.itemCount=t),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const i=this.getSize(t),n=e;e+=i,this.itemSizeAndPositionData[t]={offset:n,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let i=t.offset+t.size;for(let n=this.lastMeasuredIndex+1;n<=e;n++){const s=this.getSize(n);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${n} of value ${s}`);this.itemSizeAndPositionData[n]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=_t.START,containerSize:t,currentOffset:i,targetIndex:n}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(n),r=s.offset,f=r-t+s.size;let o;switch(e){case _t.END:o=f;break;case _t.CENTER:o=r-(t-s.size)/2;break;case _t.START:o=r;break;default:o=Math.max(f,Math.min(r,i))}const a=this.getTotalSize();return Math.max(0,Math.min(a-t,o))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=t+e;let r=this.findNearestItem(t);if(r===void 0)throw Error(`Invalid offset ${t} specified`);const f=this.getSizeAndPositionForIndex(r);t=f.offset+f.size;let o=r;for(;t<s&&o<this.itemCount-1;)o++,t+=this.getSizeAndPositionForIndex(o).size;return i&&(r=Math.max(0,r-i),o=Math.min(o+i,this.itemCount-1)),{start:r,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:t,offset:i}){let n=0,s=0;for(;e<=t;){if(n=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(n).offset,s===i)return n;s<i?e=n+1:s>i&&(t=n-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const us=l=>({}),Yt=l=>({});function Kt(l,e,t){const i=l.slice();return i[37]=e[t],i}const cs=l=>({style:l[0]&4,index:l[0]&4}),Xt=l=>({style:l[37].style,index:l[37].index}),ds=l=>({}),Qt=l=>({});function Zt(l,e){let t,i;const n=e[21].item,s=rt(n,e,e[20],Xt);return{key:l,first:null,c(){t=be(),s&&s.c(),this.h()},l(r){t=be(),s&&s.l(r),this.h()},h(){this.first=t},m(r,f){C(r,t,f),s&&s.m(r,f),i=!0},p(r,f){e=r,s&&s.p&&(!i||f[0]&1048580)&&ot(s,n,e,e[20],i?ft(n,e[20],f,cs):at(e[20]),Xt)},i(r){i||(F(s,r),i=!0)},o(r){H(s,r),i=!1},d(r){r&&w(t),s&&s.d(r)}}}function hs(l){let e,t,i,n=[],s=new Map,r,f;const o=l[21].header,a=rt(o,l,l[20],Qt);let h=l[2];const m=u=>u[0]?u[0](u[37].index):u[37].index;for(let u=0;u<h.length;u+=1){let g=Kt(l,h,u),p=m(g);s.set(p,n[u]=Zt(p,g))}const d=l[21].footer,c=rt(d,l,l[20],Yt);return{c(){e=T("div"),a&&a.c(),t=B(),i=T("div");for(let u=0;u<n.length;u+=1)n[u].c();r=B(),c&&c.c(),this.h()},l(u){e=A(u,"DIV",{class:!0,style:!0});var g=z(e);a&&a.l(g),t=q(g),i=A(g,"DIV",{class:!0,style:!0});var p=z(i);for(let S=0;S<n.length;S+=1)n[S].l(p);p.forEach(w),r=q(g),c&&c.l(g),g.forEach(w),this.h()},h(){v(i,"class","virtual-list-inner svelte-1d4hv8l"),v(i,"style",l[4]),v(e,"class","virtual-list-wrapper svelte-1d4hv8l"),v(e,"style",l[3])},m(u,g){C(u,e,g),a&&a.m(e,null),b(e,t),b(e,i);for(let p=0;p<n.length;p+=1)n[p].m(i,null);b(e,r),c&&c.m(e,null),l[22](e),f=!0},p(u,g){a&&a.p&&(!f||g[0]&1048576)&&ot(a,o,u,u[20],f?ft(o,u[20],g,ds):at(u[20]),Qt),g[0]&1048581&&(h=u[2],Ve(),n=Ml(n,g,m,1,u,h,s,i,Ol,Zt,null,Kt),Je()),(!f||g[0]&16)&&v(i,"style",u[4]),c&&c.p&&(!f||g[0]&1048576)&&ot(c,d,u,u[20],f?ft(d,u[20],g,us):at(u[20]),Yt),(!f||g[0]&8)&&v(e,"style",u[3])},i(u){if(!f){F(a,u);for(let g=0;g<h.length;g+=1)F(n[g]);F(c,u),f=!0}},o(u){H(a,u);for(let g=0;g<n.length;g+=1)H(n[g]);H(c,u),f=!1},d(u){u&&w(e),a&&a.d(u);for(let g=0;g<n.length;g+=1)n[g].d();c&&c.d(u),l[22](null)}}}const ms=(()=>{let l=!1;try{const e=Object.defineProperty({},"passive",{get(){return l={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return l})();function _s(l,e,t){let{$$slots:i={},$$scope:n}=e,{height:s}=e,{width:r="100%"}=e,{itemCount:f}=e,{itemSize:o}=e,{estimatedItemSize:a=null}=e,{stickyIndices:h=null}=e,{getKey:m=null}=e,{scrollDirection:d=Fe.VERTICAL}=e,{scrollOffset:c=null}=e,{scrollToIndex:u=null}=e,{scrollToAlignment:g=null}=e,{scrollToBehaviour:p="instant"}=e,{overscanCount:S=3}=e;const R=Dl(),k=new fs({itemCount:f,itemSize:o,estimatedItemSize:Y()});let N=!1,O,D=[],y={offset:c||u!=null&&D.length&&oe(u)||0,scrollChangeReason:nt.REQUESTED},V=y,W={scrollToIndex:u,scrollToAlignment:g,scrollOffset:c,itemCount:f,itemSize:o,estimatedItemSize:a},ne={},re="",Q="";X(),hl(()=>{t(18,N=!0),O.addEventListener("scroll",ee,ms),c!=null?U(c):u!=null&&U(oe(u))}),kt(()=>{N&&O.removeEventListener("scroll",ee)});function M(){if(!N)return;const E=W.scrollToIndex!==u||W.scrollToAlignment!==g,K=W.itemCount!==f||W.itemSize!==o||W.estimatedItemSize!==a;K&&(k.updateConfig({itemSize:o,itemCount:f,estimatedItemSize:Y()}),ve()),W.scrollOffset!==c?t(19,y={offset:c||0,scrollChangeReason:nt.REQUESTED}):typeof u=="number"&&(E||K)&&t(19,y={offset:oe(u,g,f),scrollChangeReason:nt.REQUESTED}),W={scrollToIndex:u,scrollToAlignment:g,scrollOffset:c,itemCount:f,itemSize:o,estimatedItemSize:a}}function $(){if(!N)return;const{offset:E,scrollChangeReason:K}=y;(V.offset!==E||V.scrollChangeReason!==K)&&X(),V.offset!==E&&K===nt.REQUESTED&&U(E),V=y}function X(){const{offset:E}=y,{start:K,stop:te}=k.getVisibleRange({containerSize:d===Fe.VERTICAL?s:r,offset:E,overscanCount:S});let de=[];const he=k.getTotalSize();d===Fe.VERTICAL?(t(3,re=`height:${s}px;width:${r};`),t(4,Q=`flex-direction:column;height:${he}px;`)):(t(3,re=`height:${s};width:${r}px`),t(4,Q=`min-height:100%;width:${he}px;`));const Me=h!=null&&h.length!==0;if(Me)for(let _e=0;_e<h.length;_e++){const Oe=h[_e];de.push({index:Oe,style:j(Oe,!0)})}if(K!==void 0&&te!==void 0){for(let _e=K;_e<=te;_e++)Me&&h.includes(_e)||de.push({index:_e,style:j(_e,!1)});R("itemsUpdated",{start:K,end:te})}t(2,D=de)}function U(E){"scroll"in O?O.scroll({[as[d]]:E,behavior:p}):t(1,O[Wt[d]]=E,O)}function ve(E=0){ne={},k.resetItem(E),X()}function oe(E,K=g,te=f){return(E<0||E>=te)&&(E=0),k.getUpdatedOffsetForIndex({align:K,containerSize:d===Fe.VERTICAL?s:r,currentOffset:y.offset||0,targetIndex:E})}function ee(E){const K=P();K<0||y.offset===K||E.target!==O||(t(19,y={offset:K,scrollChangeReason:nt.OBSERVED}),R("afterScroll",{offset:K,event:E}))}function P(){return O[Wt[d]]}function Y(){return a||typeof o=="number"&&o||50}function j(E,K){if(ne[E])return ne[E];const{size:te,offset:de}=k.getSizeAndPositionForIndex(E);let he;return d===Fe.VERTICAL?(he=`left:0;width:100%;height:${te}px;`,K?he+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${de}px;margin-bottom:${-(de+te)}px;`:he+=`position:absolute;top:${de}px;`):(he=`top:0;width:${te}px;`,K?he+=`position:sticky;z-index:1;left:0;margin-left:${de}px;margin-right:${-(de+te)}px;`:he+=`position:absolute;height:100%;left:${de}px;`),ne[E]=he}function Se(E){tt[E?"unshift":"push"](()=>{O=E,t(1,O)})}return l.$$set=E=>{"height"in E&&t(5,s=E.height),"width"in E&&t(6,r=E.width),"itemCount"in E&&t(7,f=E.itemCount),"itemSize"in E&&t(8,o=E.itemSize),"estimatedItemSize"in E&&t(9,a=E.estimatedItemSize),"stickyIndices"in E&&t(10,h=E.stickyIndices),"getKey"in E&&t(0,m=E.getKey),"scrollDirection"in E&&t(11,d=E.scrollDirection),"scrollOffset"in E&&t(12,c=E.scrollOffset),"scrollToIndex"in E&&t(13,u=E.scrollToIndex),"scrollToAlignment"in E&&t(14,g=E.scrollToAlignment),"scrollToBehaviour"in E&&t(15,p=E.scrollToBehaviour),"overscanCount"in E&&t(16,S=E.overscanCount),"$$scope"in E&&t(20,n=E.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&29568&&M(),l.$$.dirty[0]&524288&&$(),l.$$.dirty[0]&263264&&N&&ve(0)},[m,O,D,re,Q,s,r,f,o,a,h,d,c,u,g,p,S,ve,N,y,n,i,Se]}class vl extends Qe{constructor(e){super(),Ze(this,e,_s,hs,xe,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function xt(l,e,t){const i=l.slice();return i[7]=e[t],i}function gs(l){let e,t,i;return t=new vl({props:{height:"auto",overscanCount:15,itemCount:l[0].raw.length,itemSize:l[0].raw.map(l[4]),$$slots:{item:[ws,({style:n,index:s})=>({10:n,11:s}),({style:n,index:s})=>(n?1024:0)|(s?2048:0)]},$$scope:{ctx:l}}}),{c(){e=T("div"),ze(t.$$.fragment),this.h()},l(n){e=A(n,"DIV",{class:!0});var s=z(e);Re(t.$$.fragment,s),s.forEach(w),this.h()},h(){v(e,"class","mt-4 flex flex-col overflow-auto")},m(n,s){C(n,e,s),Ne(t,e,null),i=!0},p(n,s){const r={};s&1&&(r.itemCount=n[0].raw.length),s&1&&(r.itemSize=n[0].raw.map(n[4])),s&7171&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){H(t.$$.fragment,n),i=!1},d(n){n&&w(e),Ce(t)}}}function ps(l){let e,t,i=Object.keys(l[0].grouped).map(l[5]).sort(tl).reverse(),n=[];for(let r=0;r<i.length;r+=1)n[r]=el(xt(l,i,r));const s=r=>H(n[r],1,1,()=>{n[r]=null});return{c(){e=T("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=A(r,"DIV",{class:!0});var f=z(e);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(w),this.h()},h(){v(e,"class","flex flex-col overflow-auto")},m(r,f){C(r,e,f);for(let o=0;o<n.length;o+=1)n[o].m(e,null);t=!0},p(r,f){if(f&3099){i=Object.keys(r[0].grouped).map(r[5]).sort(tl).reverse();let o;for(o=0;o<i.length;o+=1){const a=xt(r,i,o);n[o]?(n[o].p(a,f),F(n[o],1)):(n[o]=el(a),n[o].c(),F(n[o],1),n[o].m(e,null))}for(Ve(),o=i.length;o<n.length;o+=1)s(o);Je()}},i(r){if(!t){for(let f=0;f<i.length;f+=1)F(n[f]);t=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)H(n[f]);t=!1},d(r){r&&w(e),pt(n,r)}}}function ws(l){let e,t,i,n;return t=new bl({props:{set:l[0].raw[l[11]],highlight:l[1]}}),{c(){e=T("div"),ze(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{slot:!0,style:!0});var r=z(e);Re(t.$$.fragment,r),r.forEach(w),this.h()},h(){v(e,"slot","item"),v(e,"style",i=l[10])},m(s,r){C(s,e,r),Ne(t,e,null),n=!0},p(s,r){const f={};r&2049&&(f.set=s[0].raw[s[11]]),r&2&&(f.highlight=s[1]),t.$set(f),(!n||r&1024&&i!==(i=s[10]))&&v(e,"style",i)},i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){H(t.$$.fragment,s),n=!1},d(s){s&&w(e),Ce(t)}}}function $t(l){let e,t,i,n;return t=new vl({props:{height:"auto",overscanCount:10,itemCount:l[0].grouped[l[7]].length,itemSize:l[0].grouped[l[7]].map(l[4]),$$slots:{item:[bs,({style:s,index:r})=>({10:s,11:r}),({style:s,index:r})=>(s?1024:0)|(r?2048:0)]},$$scope:{ctx:l}}}),{c(){e=T("div"),ze(t.$$.fragment),i=B(),this.h()},l(s){e=A(s,"DIV",{class:!0});var r=z(e);Re(t.$$.fragment,r),i=q(r),r.forEach(w),this.h()},h(){v(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(s,r){C(s,e,r),Ne(t,e,null),b(e,i),n=!0},p(s,r){const f={};r&1&&(f.itemCount=s[0].grouped[s[7]].length),r&1&&(f.itemSize=s[0].grouped[s[7]].map(s[4])),r&7171&&(f.$$scope={dirty:r,ctx:s}),t.$set(f)},i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){H(t.$$.fragment,s),n=!1},d(s){s&&w(e),Ce(t)}}}function bs(l){let e,t,i,n;return t=new bl({props:{set:l[0].grouped[l[7]][l[11]],highlight:l[1]}}),{c(){e=T("div"),ze(t.$$.fragment),this.h()},l(s){e=A(s,"DIV",{slot:!0,style:!0});var r=z(e);Re(t.$$.fragment,r),r.forEach(w),this.h()},h(){v(e,"slot","item"),v(e,"style",i=l[10])},m(s,r){C(s,e,r),Ne(t,e,null),n=!0},p(s,r){const f={};r&2049&&(f.set=s[0].grouped[s[7]][s[11]]),r&2&&(f.highlight=s[1]),t.$set(f),(!n||r&1024&&i!==(i=s[10]))&&v(e,"style",i)},i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){H(t.$$.fragment,s),n=!1},d(s){s&&w(e),Ce(t)}}}function el(l){let e,t,i=l[7]+"",n,s,r=l[7]>1?"es":"",f,o,a=l[0].grouped[l[7]].length+"",h,m,d,c,u=l[3]===l[7]?"^":"V",g,p,S,R,k,N;function O(){return l[6](l[7])}let D=l[3]===l[7]&&$t(l);return{c(){e=T("button"),t=T("span"),n=J(i),s=J(" Match"),f=J(r),o=J(" ["),h=J(a),m=J("]"),d=B(),c=T("span"),g=J(u),p=B(),D&&D.c(),S=be(),this.h()},l(y){e=A(y,"BUTTON",{class:!0});var V=z(e);t=A(V,"SPAN",{});var W=z(t);n=L(W,i),s=L(W," Match"),f=L(W,r),o=L(W," ["),h=L(W,a),m=L(W,"]"),W.forEach(w),d=q(V),c=A(V,"SPAN",{});var ne=z(c);g=L(ne,u),ne.forEach(w),V.forEach(w),p=q(y),D&&D.l(y),S=be(),this.h()},h(){v(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(y,V){C(y,e,V),b(e,t),b(t,n),b(t,s),b(t,f),b(t,o),b(t,h),b(t,m),b(e,d),b(e,c),b(c,g),C(y,p,V),D&&D.m(y,V),C(y,S,V),R=!0,k||(N=se(e,"click",O),k=!0)},p(y,V){l=y,(!R||V&1)&&i!==(i=l[7]+"")&&we(n,i),(!R||V&1)&&r!==(r=l[7]>1?"es":"")&&we(f,r),(!R||V&1)&&a!==(a=l[0].grouped[l[7]].length+"")&&we(h,a),(!R||V&9)&&u!==(u=l[3]===l[7]?"^":"V")&&we(g,u),l[3]===l[7]?D?(D.p(l,V),V&9&&F(D,1)):(D=$t(l),D.c(),F(D,1),D.m(S.parentNode,S)):D&&(Ve(),H(D,1,1,()=>{D=null}),Je())},i(y){R||(F(D),R=!0)},o(y){H(D),R=!1},d(y){y&&w(e),y&&w(p),D&&D.d(y),y&&w(S),k=!1,N()}}}function vs(l){let e,t,i,n;const s=[ps,gs],r=[];function f(o,a){return o[2]?0:1}return e=f(l),t=r[e]=s[e](l),{c(){t.c(),i=be()},l(o){t.l(o),i=be()},m(o,a){r[e].m(o,a),C(o,i,a),n=!0},p(o,[a]){let h=e;e=f(o),e===h?r[e].p(o,a):(Ve(),H(r[h],1,1,()=>{r[h]=null}),Je(),t=r[e],t?t.p(o,a):(t=r[e]=s[e](o),t.c()),F(t,1),t.m(i.parentNode,i))},i(o){n||(F(t),n=!0)},o(o){H(t),n=!1},d(o){r[e].d(o),o&&w(i)}}}const tl=(l,e)=>l-e;function Ss(l,e,t){let{searchResults:i}=e,{highlight:n}=e,{groupResults:s=!0}=e;const r=h=>8+48+h.skills.reduce((m,d)=>m+32+Object.keys(d.stats).length*24,0);let f="";const o=h=>parseInt(h),a=h=>t(3,f=f===h?"":h);return l.$$set=h=>{"searchResults"in h&&t(0,i=h.searchResults),"highlight"in h&&t(1,n=h.highlight),"groupResults"in h&&t(2,s=h.groupResults)},[i,n,s,f,r,o,a]}class ks extends Qe{constructor(e){super(),Ze(this,e,Ss,vs,xe,{searchResults:0,highlight:1,groupResults:2})}}function ll(l,e,t){const i=l.slice();return i[48]=e[t],i[49]=e,i[50]=t,i}function sl(l){let e,t,i,n=l[14]?"Config":"Results",s,r,f,o=l[14]&&il(l);return{c(){e=T("div"),o&&o.c(),t=B(),i=T("button"),s=J(n),this.h()},l(a){e=A(a,"DIV",{class:!0});var h=z(e);o&&o.l(h),t=q(h),i=A(h,"BUTTON",{class:!0});var m=z(i);s=L(m,n),m.forEach(w),h.forEach(w),this.h()},h(){v(i,"class","bg-neutral-100/20 px-4 p-1 rounded"),v(e,"class","flex flex-row")},m(a,h){C(a,e,h),o&&o.m(e,null),b(e,t),b(e,i),b(i,s),r||(f=se(i,"click",l[33]),r=!0)},p(a,h){a[14]?o?o.p(a,h):(o=il(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h[0]&16384&&n!==(n=a[14]?"Config":"Results")&&we(s,n)},d(a){a&&w(e),o&&o.d(),r=!1,f()}}}function il(l){let e,t,i,n,s,r,f,o,a;return{c(){e=T("button"),t=J("Trade"),n=B(),s=T("button"),r=J("Grouped"),this.h()},l(h){e=A(h,"BUTTON",{class:!0});var m=z(e);t=L(m,"Trade"),m.forEach(w),n=q(h),s=A(h,"BUTTON",{class:!0});var d=z(s);r=L(d,"Grouped"),d.forEach(w),this.h()},h(){v(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!l[11],v(s,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-cwnj7u"),s.disabled=f=!l[11],et(s,"grouped",l[13])},m(h,m){C(h,e,m),b(e,t),C(h,n,m),C(h,s,m),b(s,r),o||(a=[se(e,"click",l[30]),se(s,"click",l[32])],o=!0)},p(h,m){m[0]&2048&&i!==(i=!h[11])&&(e.disabled=i),m[0]&2048&&f!==(f=!h[11])&&(s.disabled=f),m[0]&8192&&et(s,"grouped",h[13])},d(h){h&&w(e),h&&w(n),h&&w(s),o=!1,lt(a)}}}function nl(l){let e,t,i,n,s;function r(a){l[34](a)}let f={items:l[17]};l[0]!==void 0&&(f.value=l[0]),e=new It({props:f}),tt.push(()=>_l(e,"value",r)),e.$on("select",l[23]);let o=l[0]&&rl(l);return{c(){ze(e.$$.fragment),i=B(),o&&o.c(),n=be()},l(a){Re(e.$$.fragment,a),i=q(a),o&&o.l(a),n=be()},m(a,h){Ne(e,a,h),C(a,i,h),o&&o.m(a,h),C(a,n,h),s=!0},p(a,h){const m={};!t&&h[0]&1&&(t=!0,m.value=a[0],ml(()=>t=!1)),e.$set(m),a[0]?o?(o.p(a,h),h[0]&1&&F(o,1)):(o=rl(a),o.c(),F(o,1),o.m(n.parentNode,n)):o&&(Ve(),H(o,1,1,()=>{o=null}),Je())},i(a){s||(F(e.$$.fragment,a),F(o),s=!0)},o(a){H(e.$$.fragment,a),H(o),s=!1},d(a){Ce(e,a),a&&w(i),o&&o.d(a),a&&w(n)}}}function rl(l){let e,t,i,n,s,r,f,o=l[2]&&window.TimelessJewelConquerors[l[0].value].indexOf(l[2].value)>=0,a,h;function m(u){l[35](u)}let d={items:l[16]};l[2]!==void 0&&(d.value=l[2]),s=new It({props:d}),tt.push(()=>_l(s,"value",m)),s.$on("select",l[19]);let c=o&&ol(l);return{c(){e=T("div"),t=T("h3"),i=J("Conqueror"),n=B(),ze(s.$$.fragment),f=B(),c&&c.c(),a=be(),this.h()},l(u){e=A(u,"DIV",{class:!0});var g=z(e);t=A(g,"H3",{class:!0});var p=z(t);i=L(p,"Conqueror"),p.forEach(w),n=q(g),Re(s.$$.fragment,g),g.forEach(w),f=q(u),c&&c.l(u),a=be(),this.h()},h(){v(t,"class","mb-2"),v(e,"class","mt-4")},m(u,g){C(u,e,g),b(e,t),b(t,i),b(e,n),Ne(s,e,null),C(u,f,g),c&&c.m(u,g),C(u,a,g),h=!0},p(u,g){const p={};g[0]&65536&&(p.items=u[16]),!r&&g[0]&4&&(r=!0,p.value=u[2],ml(()=>r=!1)),s.$set(p),g[0]&5&&(o=u[2]&&window.TimelessJewelConquerors[u[0].value].indexOf(u[2].value)>=0),o?c?(c.p(u,g),g[0]&5&&F(c,1)):(c=ol(u),c.c(),F(c,1),c.m(a.parentNode,a)):c&&(Ve(),H(c,1,1,()=>{c=null}),Je())},i(u){h||(F(s.$$.fragment,u),F(c),h=!0)},o(u){H(s.$$.fragment,u),H(c),h=!1},d(u){u&&w(e),Ce(s),u&&w(f),c&&c.d(u),u&&w(a)}}}function ol(l){let e,t,i,n,s,r,f,o,a,h,m,d,c,u;const g=[ys,Is],p=[];function S(k,N){return k[6]==="seed"?0:k[6]==="stats"?1:-1}~(o=S(l))&&(a=p[o]=g[o](l));let R=!l[4]&&cl();return{c(){e=T("div"),t=T("button"),i=J("Enter Seed"),n=B(),s=T("button"),r=J("Select Stats"),f=B(),a&&a.c(),h=B(),R&&R.c(),m=be(),this.h()},l(k){e=A(k,"DIV",{class:!0});var N=z(e);t=A(N,"BUTTON",{class:!0});var O=z(t);i=L(O,"Enter Seed"),O.forEach(w),n=q(N),s=A(N,"BUTTON",{class:!0});var D=z(s);r=L(D,"Select Stats"),D.forEach(w),N.forEach(w),f=q(k),a&&a.l(k),h=q(k),R&&R.l(k),m=be(),this.h()},h(){v(t,"class","selection-button svelte-cwnj7u"),et(t,"selected",l[6]==="seed"),v(s,"class","selection-button svelte-cwnj7u"),et(s,"selected",l[6]==="stats"),v(e,"class","mt-4 w-full flex flex-row")},m(k,N){C(k,e,N),b(e,t),b(t,i),b(e,n),b(e,s),b(s,r),C(k,f,N),~o&&p[o].m(k,N),C(k,h,N),R&&R.m(k,N),C(k,m,N),d=!0,c||(u=[se(t,"click",l[36]),se(s,"click",l[37])],c=!0)},p(k,N){N[0]&64&&et(t,"selected",k[6]==="seed"),N[0]&64&&et(s,"selected",k[6]==="stats");let O=o;o=S(k),o===O?~o&&p[o].p(k,N):(a&&(Ve(),H(p[O],1,1,()=>{p[O]=null}),Je()),~o?(a=p[o],a?a.p(k,N):(a=p[o]=g[o](k),a.c()),F(a,1),a.m(h.parentNode,h)):a=null),k[4]?R&&(R.d(1),R=null):R||(R=cl(),R.c(),R.m(m.parentNode,m))},i(k){d||(F(a),d=!0)},o(k){H(a),d=!1},d(k){k&&w(e),k&&w(f),~o&&p[o].d(k),k&&w(h),R&&R.d(k),k&&w(m),c=!1,lt(u)}}}function Is(l){let e,t,i,n,s,r,f=Object.keys(l[1]).length>0,o,a,h={items:l[15]};s=new It({props:h}),l[39](s),s.$on("select",l[21]);let m=f&&al(l);return{c(){e=T("div"),t=T("h3"),i=J("Add Stat"),n=B(),ze(s.$$.fragment),r=B(),m&&m.c(),o=be(),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=z(e);t=A(c,"H3",{class:!0});var u=z(t);i=L(u,"Add Stat"),u.forEach(w),n=q(c),Re(s.$$.fragment,c),c.forEach(w),r=q(d),m&&m.l(d),o=be(),this.h()},h(){v(t,"class","mb-2"),v(e,"class","mt-4")},m(d,c){C(d,e,c),b(e,t),b(t,i),b(e,n),Ne(s,e,null),C(d,r,c),m&&m.m(d,c),C(d,o,c),a=!0},p(d,c){const u={};c[0]&32768&&(u.items=d[15]),s.$set(u),c[0]&2&&(f=Object.keys(d[1]).length>0),f?m?m.p(d,c):(m=al(d),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},i(d){a||(F(s.$$.fragment,d),a=!0)},o(d){H(s.$$.fragment,d),a=!1},d(d){d&&w(e),l[39](null),Ce(s),d&&w(r),m&&m.d(d),d&&w(o)}}}function ys(l){let e,t,i,n,s,r,f,o,a,h,m=(l[3]<window.TimelessJewelSeedRanges[l[0].value].min||l[3]>window.TimelessJewelSeedRanges[l[0].value].max)&&ul(l);return{c(){e=T("div"),t=T("h3"),i=J("Seed"),n=B(),s=T("input"),o=B(),m&&m.c(),this.h()},l(d){e=A(d,"DIV",{class:!0});var c=z(e);t=A(c,"H3",{class:!0});var u=z(t);i=L(u,"Seed"),u.forEach(w),n=q(c),s=A(c,"INPUT",{type:!0,min:!0,max:!0}),o=q(c),m&&m.l(c),c.forEach(w),this.h()},h(){v(t,"class","mb-2"),v(s,"type","number"),v(s,"min",r=window.TimelessJewelSeedRanges[l[0].value].min),v(s,"max",f=window.TimelessJewelSeedRanges[l[0].value].max),v(e,"class","mt-4")},m(d,c){C(d,e,c),b(e,t),b(t,i),b(e,n),b(e,s),qe(s,l[3]),b(e,o),m&&m.m(e,null),a||(h=[se(s,"input",l[38]),se(s,"blur",l[19])],a=!0)},p(d,c){c[0]&1&&r!==(r=window.TimelessJewelSeedRanges[d[0].value].min)&&v(s,"min",r),c[0]&1&&f!==(f=window.TimelessJewelSeedRanges[d[0].value].max)&&v(s,"max",f),c[0]&8&&Be(s.value)!==d[3]&&qe(s,d[3]),d[3]<window.TimelessJewelSeedRanges[d[0].value].min||d[3]>window.TimelessJewelSeedRanges[d[0].value].max?m?m.p(d,c):(m=ul(d),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},i:Ge,o:Ge,d(d){d&&w(e),m&&m.d(),a=!1,lt(h)}}}function al(l){let e,t,i,n,s,r,f,o,a,h,m,d,c,u,g,p,S,R,k,N,O,D,y,V,W,ne,re,Q,M,$,X=Object.keys(l[1]),U=[];for(let P=0;P<X.length;P+=1)U[P]=fl(ll(l,X,P));function ve(P,Y){return P[9]?Ts:Es}let oe=ve(l),ee=oe(l);return{c(){e=T("div");for(let P=0;P<U.length;P+=1)U[P].c();t=B(),i=T("div"),n=T("div"),s=T("div"),r=J("Min Total Weight:"),f=B(),o=T("input"),a=B(),h=T("div"),m=T("div"),d=T("button"),c=J("Select All"),g=B(),p=T("button"),S=J("Notables"),k=B(),N=T("button"),O=J("Passives"),y=B(),V=T("button"),W=J("Deselect"),ne=B(),re=T("div"),Q=T("button"),ee.c(),this.h()},l(P){e=A(P,"DIV",{class:!0});var Y=z(e);for(let Ue=0;Ue<U.length;Ue+=1)U[Ue].l(Y);Y.forEach(w),t=q(P),i=A(P,"DIV",{class:!0});var j=z(i);n=A(j,"DIV",{class:!0});var Se=z(n);s=A(Se,"DIV",{class:!0});var E=z(s);r=L(E,"Min Total Weight:"),E.forEach(w),f=q(Se),o=A(Se,"INPUT",{type:!0,min:!0}),Se.forEach(w),j.forEach(w),a=q(P),h=A(P,"DIV",{class:!0});var K=z(h);m=A(K,"DIV",{class:!0});var te=z(m);d=A(te,"BUTTON",{class:!0});var de=z(d);c=L(de,"Select All"),de.forEach(w),g=q(te),p=A(te,"BUTTON",{class:!0});var he=z(p);S=L(he,"Notables"),he.forEach(w),k=q(te),N=A(te,"BUTTON",{class:!0});var Me=z(N);O=L(Me,"Passives"),Me.forEach(w),y=q(te),V=A(te,"BUTTON",{class:!0});var _e=z(V);W=L(_e,"Deselect"),_e.forEach(w),te.forEach(w),ne=q(K),re=A(K,"DIV",{class:!0});var Oe=z(re);Q=A(Oe,"BUTTON",{class:!0});var He=z(Q);ee.l(He),He.forEach(w),Oe.forEach(w),K.forEach(w),this.h()},h(){v(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),v(s,"class","mr-2 min-w-fit"),v(o,"type","number"),v(o,"min","0"),v(n,"class","flex flex-row items-center"),v(i,"class","flex flex-col mt-2"),v(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=u=l[9]||l[5].size==0,v(p,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),p.disabled=R=l[9]||l[5].size==0,v(N,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),N.disabled=D=l[9]||l[5].size==0,v(V,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),V.disabled=l[9],v(m,"class","flex flex-row"),v(Q,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),Q.disabled=l[9],v(re,"class","flex flex-row mt-2"),v(h,"class","flex flex-col mt-4")},m(P,Y){C(P,e,Y);for(let j=0;j<U.length;j+=1)U[j].m(e,null);C(P,t,Y),C(P,i,Y),b(i,n),b(n,s),b(s,r),b(n,f),b(n,o),qe(o,l[8]),C(P,a,Y),C(P,h,Y),b(h,m),b(m,d),b(d,c),b(m,g),b(m,p),b(p,S),b(m,k),b(m,N),b(N,O),b(m,y),b(m,V),b(V,W),b(h,ne),b(h,re),b(re,Q),ee.m(Q,null),M||($=[se(o,"input",l[43]),se(d,"click",l[26]),se(p,"click",l[27]),se(N,"click",l[28]),se(V,"click",l[29]),se(Q,"click",l[44])],M=!0)},p(P,Y){if(Y[0]&4194306){X=Object.keys(P[1]);let j;for(j=0;j<X.length;j+=1){const Se=ll(P,X,j);U[j]?U[j].p(Se,Y):(U[j]=fl(Se),U[j].c(),U[j].m(e,null))}for(;j<U.length;j+=1)U[j].d(1);U.length=X.length}Y[0]&256&&Be(o.value)!==P[8]&&qe(o,P[8]),Y[0]&544&&u!==(u=P[9]||P[5].size==0)&&(d.disabled=u),Y[0]&544&&R!==(R=P[9]||P[5].size==0)&&(p.disabled=R),Y[0]&544&&D!==(D=P[9]||P[5].size==0)&&(N.disabled=D),Y[0]&512&&(V.disabled=P[9]),oe===(oe=ve(P))&&ee?ee.p(P,Y):(ee.d(1),ee=oe(P),ee&&(ee.c(),ee.m(Q,null))),Y[0]&512&&(Q.disabled=P[9])},d(P){P&&w(e),pt(U,P),P&&w(t),P&&w(i),P&&w(a),P&&w(h),ee.d(),M=!1,lt($)}}}function fl(l){let e,t,i,n,s,r,f=ut(l[1][l[48]].id)+"",o,a,h,m,d,c,u,g,p,S,R,k,N,O,D,y,V;function W(){return l[40](l[48])}function ne(){l[41].call(g,l[48])}function re(){l[42].call(O,l[48])}return{c(){e=T("div"),t=T("div"),i=T("button"),n=J("-"),s=B(),r=T("span"),o=J(f),a=B(),h=T("div"),m=T("div"),d=T("div"),c=J("Min:"),u=B(),g=T("input"),p=B(),S=T("div"),R=T("div"),k=J("Weight:"),N=B(),O=T("input"),D=B(),this.h()},l(Q){e=A(Q,"DIV",{class:!0});var M=z(e);t=A(M,"DIV",{});var $=z(t);i=A($,"BUTTON",{class:!0});var X=z(i);n=L(X,"-"),X.forEach(w),s=q($),r=A($,"SPAN",{});var U=z(r);o=L(U,f),U.forEach(w),$.forEach(w),a=q(M),h=A(M,"DIV",{class:!0});var ve=z(h);m=A(ve,"DIV",{class:!0});var oe=z(m);d=A(oe,"DIV",{class:!0});var ee=z(d);c=L(ee,"Min:"),ee.forEach(w),u=q(oe),g=A(oe,"INPUT",{type:!0,min:!0}),oe.forEach(w),p=q(ve),S=A(ve,"DIV",{class:!0});var P=z(S);R=A(P,"DIV",{class:!0});var Y=z(R);k=L(Y,"Weight:"),Y.forEach(w),N=q(P),O=A(P,"INPUT",{type:!0,min:!0}),P.forEach(w),ve.forEach(w),D=q(M),M.forEach(w),this.h()},h(){v(i,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),v(d,"class","mr-2"),v(g,"type","number"),v(g,"min","0"),v(m,"class","mr-4 flex flex-row items-center"),v(R,"class","mr-2"),v(O,"type","number"),v(O,"min","0"),v(S,"class","flex flex-row items-center"),v(h,"class","mt-2 flex flex-row"),v(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(Q,M){C(Q,e,M),b(e,t),b(t,i),b(i,n),b(t,s),b(t,r),b(r,o),b(e,a),b(e,h),b(h,m),b(m,d),b(d,c),b(m,u),b(m,g),qe(g,l[1][l[48]].min),b(h,p),b(h,S),b(S,R),b(R,k),b(S,N),b(S,O),qe(O,l[1][l[48]].weight),b(e,D),y||(V=[se(i,"click",W),se(g,"input",ne),se(O,"input",re)],y=!0)},p(Q,M){l=Q,M[0]&2&&f!==(f=ut(l[1][l[48]].id)+"")&&we(o,f),M[0]&2&&Be(g.value)!==l[1][l[48]].min&&qe(g,l[1][l[48]].min),M[0]&2&&Be(O.value)!==l[1][l[48]].weight&&qe(O,l[1][l[48]].weight)},d(Q){Q&&w(e),y=!1,lt(V)}}}function Es(l){let e;return{c(){e=J("Search")},l(t){e=L(t,"Search")},m(t,i){C(t,e,i)},p:Ge,d(t){t&&w(e)}}}function Ts(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].max+"",n;return{c(){e=J(l[10]),t=J(" / "),n=J(i)},l(s){e=L(s,l[10]),t=L(s," / "),n=L(s,i)},m(s,r){C(s,e,r),C(s,t,r),C(s,n,r)},p(s,r){r[0]&1024&&we(e,s[10]),r[0]&1&&i!==(i=window.TimelessJewelSeedRanges[s[0].value].max+"")&&we(n,i)},d(s){s&&w(e),s&&w(t),s&&w(n)}}}function ul(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].min+"",n,s,r=window.TimelessJewelSeedRanges[l[0].value].max+"",f;return{c(){e=T("div"),t=J("Seed must be between "),n=J(i),s=J(`
                    and `),f=J(r),this.h()},l(o){e=A(o,"DIV",{class:!0});var a=z(e);t=L(a,"Seed must be between "),n=L(a,i),s=L(a,`
                    and `),f=L(a,r),a.forEach(w),this.h()},h(){v(e,"class","mt-2")},m(o,a){C(o,e,a),b(e,t),b(e,n),b(e,s),b(e,f)},p(o,a){a[0]&1&&i!==(i=window.TimelessJewelSeedRanges[o[0].value].min+"")&&we(n,i),a[0]&1&&r!==(r=window.TimelessJewelSeedRanges[o[0].value].max+"")&&we(f,r)},d(o){o&&w(e)}}}function cl(l){let e,t;return{c(){e=T("h2"),t=J("Click on a jewel socket"),this.h()},l(i){e=A(i,"H2",{class:!0});var n=z(e);t=L(n,"Click on a jewel socket"),n.forEach(w),this.h()},h(){v(e,"class","mt-4")},m(i,n){C(i,e,n),b(e,t)},d(i){i&&w(e)}}}function dl(l){let e,t;return e=new ks({props:{searchResults:l[11],groupResults:l[13],highlight:l[25]}}),{c(){ze(e.$$.fragment)},l(i){Re(e.$$.fragment,i)},m(i,n){Ne(e,i,n),t=!0},p(i,n){const s={};n[0]&2048&&(s.searchResults=i[11]),n[0]&8192&&(s.groupResults=i[13]),e.$set(s)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function As(l){let e,t,i,n,s=l[14]?"Results":"Timeless Jewel",r,f,o,a,h,m=l[11]&&sl(l),d=!l[14]&&nl(l),c=l[11]&&l[14]&&dl(l);return{c(){e=T("div"),t=T("div"),i=T("div"),n=T("h3"),r=J(s),f=B(),m&&m.c(),o=B(),d&&d.c(),a=B(),c&&c.c(),this.h()},l(u){e=A(u,"DIV",{class:!0});var g=z(e);t=A(g,"DIV",{class:!0});var p=z(t);i=A(p,"DIV",{class:!0});var S=z(i);n=A(S,"H3",{class:!0});var R=z(n);r=L(R,s),R.forEach(w),f=q(S),m&&m.l(S),S.forEach(w),o=q(p),d&&d.l(p),a=q(p),c&&c.l(p),p.forEach(w),g.forEach(w),this.h()},h(){v(n,"class","flex-grow"),v(i,"class","flex flex-row justify-between mb-2"),v(t,"class","p-4 max-h-screen flex flex-col"),v(e,"class","w-1/2 xl:w-1/3 2xl:w-1/4 3xl:w-1/5 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(u,g){C(u,e,g),b(e,t),b(t,i),b(i,n),b(n,r),b(i,f),m&&m.m(i,null),b(t,o),d&&d.m(t,null),b(t,a),c&&c.m(t,null),h=!0},p(u,g){(!h||g[0]&16384)&&s!==(s=u[14]?"Results":"Timeless Jewel")&&we(r,s),u[11]?m?m.p(u,g):(m=sl(u),m.c(),m.m(i,null)):m&&(m.d(1),m=null),u[14]?d&&(Ve(),H(d,1,1,()=>{d=null}),Je()):d?(d.p(u,g),g[0]&16384&&F(d,1)):(d=nl(u),d.c(),F(d,1),d.m(t,a)),u[11]&&u[14]?c?(c.p(u,g),g[0]&18432&&F(c,1)):(c=dl(u),c.c(),F(c,1),c.m(t,null)):c&&(Ve(),H(c,1,1,()=>{c=null}),Je())},i(u){h||(F(d),F(c),h=!0)},o(u){H(d),H(c),h=!1},d(u){u&&w(e),m&&m.d(),d&&d.d(),c&&c.d()}}}function Ps(l){var i,n;let e,t;return e=new ns({props:{clickNode:l[18],circledNode:l[4],selectedJewel:(i=l[0])==null?void 0:i.value,selectedConqueror:(n=l[2])==null?void 0:n.value,highlighted:l[12],seed:l[3],disabled:[...l[5]],$$slots:{default:[As]},$$scope:{ctx:l}}}),{c(){ze(e.$$.fragment)},l(s){Re(e.$$.fragment,s)},m(s,r){Ne(e,s,r),t=!0},p(s,r){var o,a;const f={};r[0]&16&&(f.circledNode=s[4]),r[0]&1&&(f.selectedJewel=(o=s[0])==null?void 0:o.value),r[0]&4&&(f.selectedConqueror=(a=s[2])==null?void 0:a.value),r[0]&4096&&(f.highlighted=s[12]),r[0]&8&&(f.seed=s[3]),r[0]&32&&(f.disabled=[...s[5]]),r[0]&126975|r[1]&1048576&&(f.$$scope={dirty:r,ctx:s}),e.$set(f)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){Ce(e,s)}}}function zs(l,e,t){let i,n,s,r;ye(l,Gl,I=>t(45,r=I));const f=r.url.searchParams,o=Object.keys(window.TimelessJewels).map(I=>({value:parseInt(I),label:window.TimelessJewels[I]}));let a=f.has("jewel")?o.find(I=>I.value==f.get("jewel")):void 0,h=f.has("conqueror")?{value:f.get("conqueror"),label:f.get("conqueror")}:void 0,m=f.has("seed")?parseInt(f.get("seed")):0,d=f.has("location")?parseInt(f.get("location")):void 0,c=new Set;const u=I=>{I.isJewelSocket?(t(4,d=I.skill),g()):I.isMastery||(c.has(I.skill)?c.delete(I.skill):c.add(I.skill),t(5,c))},g=()=>{const I=new URL(window.location.origin+window.location.pathname);a&&I.searchParams.append("jewel",a.value.toString()),h&&I.searchParams.append("conqueror",h.value),m&&I.searchParams.append("seed",m.toString()),d&&I.searchParams.append("location",d.toString()),p&&I.searchParams.append("mode",p),Object.keys(k).forEach(x=>{I.searchParams.append("stat",x.toString())}),ql(I.toString())};let p=f.has("mode")?f.get("mode"):"";const S=I=>{t(6,p=I),g()};let R=JSON.parse(window.PossibleStats),k={};f.has("stat")&&f.getAll("stat").map(I=>{const x=parseInt(I);t(1,k[x]={weight:1,min:0,id:x},k)});let N;const O=I=>{t(1,k[I.detail.value]={weight:1,min:0,id:I.detail.value},k),t(1,k),N.handleClear(),g()},D=I=>{delete k[I],t(1,k),g()},y=()=>{t(1,k={}),g()};let V=0,W=!1,ne=0,re;const Q=()=>{if(!d)return;t(9,W=!0),t(11,re=void 0);const I=mt(De.nodes[d]).filter(ge=>!ge.isJewelSocket&&!ge.isMastery).filter(ge=>!c.has(ge.skill)).map(ge=>window.TreeToPassive[ge.skill]),x={jewel:a.value,conqueror:h.value,nodes:I,stats:Object.keys(k).map(ge=>k[ge]),minTotalWeight:V};Ul.search(x,jl(ge=>t(10,ne=ge))).then(ge=>{t(11,re=ge),t(9,W=!1),t(14,Y=!0)})};let M=[];const $=(I,x)=>{t(3,m=I),t(12,M=x.map(ge=>ge.passive)),g()},X=()=>{c.clear(),t(5,c)},U=()=>{mt(De.nodes[d]).forEach(I=>{I.isNotable&&c.delete(I.skill)}),t(5,c)},ve=()=>{mt(De.nodes[d]).forEach(I=>{I.isNotable||c.delete(I.skill)}),t(5,c)},oe=()=>{mt(De.nodes[d]).filter(I=>!I.isJewelSocket&&!I.isMastery).forEach(I=>c.add(I.skill)),t(5,c)},ee=()=>{const I=new URL("https://www.pathofexile.com/trade/search/Sentinel");I.searchParams.set("q",JSON.stringify(Bl(a.value,h.value,re.raw))),window.open(I,"_blank")};let P=!0,Y=!1;const j=()=>t(13,P=!P),Se=()=>t(14,Y=!Y);function E(I){a=I,t(0,a)}function K(I){h=I,t(2,h)}const te=()=>S("seed"),de=()=>S("stats");function he(){m=Be(this.value),t(3,m)}function Me(I){tt[I?"unshift":"push"](()=>{N=I,t(7,N)})}const _e=I=>D(k[I].id);function Oe(I){k[I].min=Be(this.value),t(1,k)}function He(I){k[I].weight=Be(this.value),t(1,k)}function Ue(){V=Be(this.value),t(8,V)}const ct=()=>Q();return l.$$.update=()=>{l.$$.dirty[0]&1&&t(16,i=a?window.TimelessJewelConquerors[a.value].map(I=>({value:I,label:I})):[]),l.$$.dirty[0]&1&&t(31,n=a?Object.keys(R[a.value]):[]),l.$$.dirty[0]&2|l.$$.dirty[1]&1&&t(15,s=n.map(I=>{const x=parseInt(I);return{label:ut(x),value:x}}).filter(I=>!(I.value in k)))},[a,k,h,m,d,c,p,N,V,W,ne,re,M,P,Y,s,i,o,u,g,S,O,D,y,Q,$,X,U,ve,oe,ee,n,j,Se,E,K,te,de,he,Me,_e,Oe,He,Ue,ct]}class Ds extends Qe{constructor(e){super(),Ze(this,e,zs,Ps,xe,{},null,[-1,-1])}}export{Ds as default};
