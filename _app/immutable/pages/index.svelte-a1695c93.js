import{S as $e,i as je,s as Je,N as Q,O as M,e as E,t as g,k as J,w as z,l as D,c as I,a as P,h as S,d as p,m as A,x as F,b as R,g as $,M as d,y as W,P as X,q as N,Q as oe,R as fe,T as Ee,j as q,U as Y,G as Ae,o as L,B as Z,p as Ie,V as Oe,n as Pe}from"../chunks/index-7969860d.js";import{S as x,g as Ve,p as qe}from"../chunks/stores-0b2c0e1d.js";import{b as Ce}from"../chunks/paths-1c47712a.js";import"../chunks/singletons-cdeec3fd.js";function re(n,e,i){const t=n.slice();t[15]=e[i];const s=GetAlternatePassiveAdditionByIndex(t[15].alternatePassiveSkillAddition);return t[16]=s,t}function ue(n,e,i){const t=n.slice();t[19]=e[i],t[22]=i;const s=GetStatByIndex(t[16].statsKeys[t[22]]);return t[20]=s,t}function ce(n,e,i){const t=n.slice();t[19]=e[i],t[22]=i;const s=GetStatByIndex(t[23].statsKeys[t[22]]);return t[20]=s,t}function K(n){const e=n.slice(),i=GetAlternatePassiveSkillByIndex(e[4].alternatePassiveSkill);return e[23]=i,e}function _e(n){let e,i,t,s,l,a,r,u=n[1]&&TimelessJewelConquerors[n[0].value].indexOf(n[1].value)>=0,m,c;function h(f){n[10](f)}let v={items:n[5]};n[1]!==void 0&&(v.value=n[1]),l=new x({props:v}),Q.push(()=>M(l,"value",h)),l.$on("select",n[8]);let o=u&&he(n);return{c(){e=E("div"),i=E("h3"),t=g("Conqueror"),s=J(),z(l.$$.fragment),r=J(),o&&o.c(),m=D(),this.h()},l(f){e=I(f,"DIV",{class:!0});var _=P(e);i=I(_,"H3",{class:!0});var k=P(i);t=S(k,"Conqueror"),k.forEach(p),s=A(_),F(l.$$.fragment,_),_.forEach(p),r=A(f),o&&o.l(f),m=D(),this.h()},h(){R(i,"class","mb-2"),R(e,"class","mt-4")},m(f,_){$(f,e,_),d(e,i),d(i,t),d(e,s),W(l,e,null),$(f,r,_),o&&o.m(f,_),$(f,m,_),c=!0},p(f,_){const k={};_&32&&(k.items=f[5]),!a&&_&2&&(a=!0,k.value=f[1],X(()=>a=!1)),l.$set(k),_&3&&(u=f[1]&&TimelessJewelConquerors[f[0].value].indexOf(f[1].value)>=0),u?o?(o.p(f,_),_&3&&N(o,1)):(o=he(f),o.c(),N(o,1),o.m(m.parentNode,m)):o&&(Pe(),L(o,1,1,()=>{o=null}),Ie())},i(f){c||(N(l.$$.fragment,f),N(o),c=!0)},o(f){L(l.$$.fragment,f),L(o),c=!1},d(f){f&&p(e),Z(l),f&&p(r),o&&o.d(f),f&&p(m)}}}function he(n){let e,i,t,s,l,a,r,u,m;function c(o){n[11](o)}let h={items:n[7]};n[2]!==void 0&&(h.value=n[2]),l=new x({props:h}),Q.push(()=>M(l,"value",c)),l.$on("select",n[8]);let v=n[2]&&me(n);return{c(){e=E("div"),i=E("h3"),t=g("Passive Skill"),s=J(),z(l.$$.fragment),r=J(),v&&v.c(),u=D(),this.h()},l(o){e=I(o,"DIV",{class:!0});var f=P(e);i=I(f,"H3",{class:!0});var _=P(i);t=S(_,"Passive Skill"),_.forEach(p),s=A(f),F(l.$$.fragment,f),f.forEach(p),r=A(o),v&&v.l(o),u=D(),this.h()},h(){R(i,"class","mb-2"),R(e,"class","mt-4")},m(o,f){$(o,e,f),d(e,i),d(i,t),d(e,s),W(l,e,null),$(o,r,f),v&&v.m(o,f),$(o,u,f),m=!0},p(o,f){const _={};!a&&f&4&&(a=!0,_.value=o[2],X(()=>a=!1)),l.$set(_),o[2]?v?v.p(o,f):(v=me(o),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null)},i(o){m||(N(l.$$.fragment,o),m=!0)},o(o){L(l.$$.fragment,o),m=!1},d(o){o&&p(e),Z(l),o&&p(r),v&&v.d(o),o&&p(u)}}}function me(n){let e,i,t,s,l,a,r,u,m,c,h,v,o=(n[3]<TimelessJewelSeedRanges[n[0].value].min||n[3]>TimelessJewelSeedRanges[n[0].value].max)&&de(n),f=n[4]&&ve(n);return{c(){e=E("div"),i=E("h3"),t=g("Seed"),s=J(),l=E("input"),u=J(),o&&o.c(),m=J(),f&&f.c(),c=D(),this.h()},l(_){e=I(_,"DIV",{class:!0});var k=P(e);i=I(k,"H3",{class:!0});var V=P(i);t=S(V,"Seed"),V.forEach(p),s=A(k),l=I(k,"INPUT",{type:!0,class:!0,min:!0,max:!0}),u=A(k),o&&o.l(k),k.forEach(p),m=A(_),f&&f.l(_),c=D(),this.h()},h(){R(i,"class","mb-2"),R(l,"type","number"),R(l,"class","seed"),R(l,"min",a=TimelessJewelSeedRanges[n[0].value].min),R(l,"max",r=TimelessJewelSeedRanges[n[0].value].max),R(e,"class","mt-4")},m(_,k){$(_,e,k),d(e,i),d(i,t),d(e,s),d(e,l),oe(l,n[3]),d(e,u),o&&o.m(e,null),$(_,m,k),f&&f.m(_,k),$(_,c,k),h||(v=[fe(l,"input",n[12]),fe(l,"blur",n[8])],h=!0)},p(_,k){k&1&&a!==(a=TimelessJewelSeedRanges[_[0].value].min)&&R(l,"min",a),k&1&&r!==(r=TimelessJewelSeedRanges[_[0].value].max)&&R(l,"max",r),k&8&&Ee(l.value)!==_[3]&&oe(l,_[3]),_[3]<TimelessJewelSeedRanges[_[0].value].min||_[3]>TimelessJewelSeedRanges[_[0].value].max?o?o.p(_,k):(o=de(_),o.c(),o.m(e,null)):o&&(o.d(1),o=null),_[4]?f?f.p(_,k):(f=ve(_),f.c(),f.m(c.parentNode,c)):f&&(f.d(1),f=null)},d(_){_&&p(e),o&&o.d(),_&&p(m),f&&f.d(_),_&&p(c),h=!1,Ae(v)}}}function de(n){let e,i,t=TimelessJewelSeedRanges[n[0].value].min+"",s,l,a=TimelessJewelSeedRanges[n[0].value].max+"",r;return{c(){e=E("div"),i=g("Seed must be between "),s=g(t),l=g(" and "),r=g(a),this.h()},l(u){e=I(u,"DIV",{class:!0});var m=P(e);i=S(m,"Seed must be between "),s=S(m,t),l=S(m," and "),r=S(m,a),m.forEach(p),this.h()},h(){R(e,"class","mt-2")},m(u,m){$(u,e,m),d(e,i),d(e,s),d(e,l),d(e,r)},p(u,m){m&1&&t!==(t=TimelessJewelSeedRanges[u[0].value].min+"")&&q(s,t),m&1&&a!==(a=TimelessJewelSeedRanges[u[0].value].max+"")&&q(r,a)},d(u){u&&p(e)}}}function ve(n){let e,i,t="alternatePassiveSkill"in n[4]&&pe(K(n)),s="alternatePassiveAdditionInformations"in n[4]&&n[4].alternatePassiveAdditionInformations.length>0&&ge(n);return{c(){t&&t.c(),e=J(),s&&s.c(),i=D()},l(l){t&&t.l(l),e=A(l),s&&s.l(l),i=D()},m(l,a){t&&t.m(l,a),$(l,e,a),s&&s.m(l,a),$(l,i,a)},p(l,a){"alternatePassiveSkill"in l[4]?t?t.p(K(l),a):(t=pe(K(l)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),"alternatePassiveAdditionInformations"in l[4]&&l[4].alternatePassiveAdditionInformations.length>0?s?s.p(l,a):(s=ge(l),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(l){t&&t.d(l),l&&p(e),s&&s.d(l),l&&p(i)}}}function pe(n){let e,i,t,s,l,a=n[23].name+"",r,u,m=n[23].id+"",c,h,v=n[4].alternatePassiveSkill+"",o,f,_,k="statRolls"in n[4]&&Object.keys(n[4].statRolls).length>0,V,b=k&&be(n);return{c(){e=E("div"),i=E("h3"),t=g("Alternate Passive Skill"),s=J(),l=E("span"),r=g(a),u=g(" ("),c=g(m),h=g(") ("),o=g(v),f=g(")"),_=J(),b&&b.c(),V=D(),this.h()},l(w){e=I(w,"DIV",{class:!0});var T=P(e);i=I(T,"H3",{});var B=P(i);t=S(B,"Alternate Passive Skill"),B.forEach(p),s=A(T),l=I(T,"SPAN",{});var C=P(l);r=S(C,a),u=S(C," ("),c=S(C,m),h=S(C,") ("),o=S(C,v),f=S(C,")"),C.forEach(p),T.forEach(p),_=A(w),b&&b.l(w),V=D(),this.h()},h(){R(e,"class","mt-4")},m(w,T){$(w,e,T),d(e,i),d(i,t),d(e,s),d(e,l),d(l,r),d(l,u),d(l,c),d(l,h),d(l,o),d(l,f),$(w,_,T),b&&b.m(w,T),$(w,V,T)},p(w,T){T&16&&a!==(a=w[23].name+"")&&q(r,a),T&16&&m!==(m=w[23].id+"")&&q(c,m),T&16&&v!==(v=w[4].alternatePassiveSkill+"")&&q(o,v),T&16&&(k="statRolls"in w[4]&&Object.keys(w[4].statRolls).length>0),k?b?b.p(w,T):(b=be(w),b.c(),b.m(V.parentNode,V)):b&&(b.d(1),b=null)},d(w){w&&p(e),w&&p(_),b&&b.d(w),w&&p(V)}}}function be(n){let e,i=Object.keys(n[4].statRolls),t=[];for(let s=0;s<i.length;s+=1)t[s]=ke(ce(n,i,s));return{c(){e=E("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=I(s,"OL",{class:!0});var l=P(e);for(let a=0;a<t.length;a+=1)t[a].l(l);l.forEach(p),this.h()},h(){R(e,"class","mt-4 list-decimal pl-8")},m(s,l){$(s,e,l);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,l){if(l&16){i=Object.keys(s[4].statRolls);let a;for(a=0;a<i.length;a+=1){const r=ce(s,i,a);t[a]?t[a].p(r,l):(t[a]=ke(r),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(s){s&&p(e),Y(t,s)}}}function ke(n){let e,i=(n[20].text||"<no name>")+"",t,s,l=n[20].id+"",a,r,u=n[4].statRolls[n[19]]+"",m;return{c(){e=E("li"),t=g(i),s=g(" ("),a=g(l),r=g(") - "),m=g(u)},l(c){e=I(c,"LI",{});var h=P(e);t=S(h,i),s=S(h," ("),a=S(h,l),r=S(h,") - "),m=S(h,u),h.forEach(p)},m(c,h){$(c,e,h),d(e,t),d(e,s),d(e,a),d(e,r),d(e,m)},p(c,h){h&16&&i!==(i=(c[20].text||"<no name>")+"")&&q(t,i),h&16&&l!==(l=c[20].id+"")&&q(a,l),h&16&&u!==(u=c[4].statRolls[c[19]]+"")&&q(m,u)},d(c){c&&p(e)}}}function ge(n){let e,i,t,s,l,a=n[4].alternatePassiveAdditionInformations,r=[];for(let u=0;u<a.length;u+=1)r[u]=Re(re(n,a,u));return{c(){e=E("div"),i=E("h3"),t=g("Additions"),s=J(),l=E("ul");for(let u=0;u<r.length;u+=1)r[u].c();this.h()},l(u){e=I(u,"DIV",{class:!0});var m=P(e);i=I(m,"H3",{});var c=P(i);t=S(c,"Additions"),c.forEach(p),s=A(m),l=I(m,"UL",{class:!0});var h=P(l);for(let v=0;v<r.length;v+=1)r[v].l(h);h.forEach(p),m.forEach(p),this.h()},h(){R(l,"class","list-disc pl-8"),R(e,"class","mt-4")},m(u,m){$(u,e,m),d(e,i),d(i,t),d(e,s),d(e,l);for(let c=0;c<r.length;c+=1)r[c].m(l,null)},p(u,m){if(m&16){a=u[4].alternatePassiveAdditionInformations;let c;for(c=0;c<a.length;c+=1){const h=re(u,a,c);r[c]?r[c].p(h,m):(r[c]=Re(h),r[c].c(),r[c].m(l,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=a.length}},d(u){u&&p(e),Y(r,u)}}}function Se(n){let e,i=Object.keys(n[15].statRolls),t=[];for(let s=0;s<i.length;s+=1)t[s]=we(ue(n,i,s));return{c(){e=E("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=I(s,"OL",{class:!0});var l=P(e);for(let a=0;a<t.length;a+=1)t[a].l(l);l.forEach(p),this.h()},h(){R(e,"class","list-decimal pl-8")},m(s,l){$(s,e,l);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,l){if(l&16){i=Object.keys(s[15].statRolls);let a;for(a=0;a<i.length;a+=1){const r=ue(s,i,a);t[a]?t[a].p(r,l):(t[a]=we(r),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(s){s&&p(e),Y(t,s)}}}function we(n){let e,i=(n[20].text||"<no name>")+"",t,s,l=n[20].id+"",a,r,u=n[15].statRolls[n[19]]+"",m;return{c(){e=E("li"),t=g(i),s=g(" ("),a=g(l),r=g(") - "),m=g(u)},l(c){e=I(c,"LI",{});var h=P(e);t=S(h,i),s=S(h," ("),a=S(h,l),r=S(h,") - "),m=S(h,u),h.forEach(p)},m(c,h){$(c,e,h),d(e,t),d(e,s),d(e,a),d(e,r),d(e,m)},p(c,h){h&16&&i!==(i=(c[20].text||"<no name>")+"")&&q(t,i),h&16&&l!==(l=c[20].id+"")&&q(a,l),h&16&&u!==(u=c[15].statRolls[c[19]]+"")&&q(m,u)},d(c){c&&p(e)}}}function Re(n){let e,i,t=n[16].id+"",s,l,a=n[16].index+"",r,u,m,c="statRolls"in n[15]&&Object.keys(n[15].statRolls).length>0,h,v=c&&Se(n);return{c(){e=E("li"),i=E("span"),s=g(t),l=g(" ("),r=g(a),u=g(")"),m=J(),v&&v.c(),h=J(),this.h()},l(o){e=I(o,"LI",{class:!0});var f=P(e);i=I(f,"SPAN",{});var _=P(i);s=S(_,t),l=S(_," ("),r=S(_,a),u=S(_,")"),_.forEach(p),m=A(f),v&&v.l(f),h=A(f),f.forEach(p),this.h()},h(){R(e,"class","mt-4")},m(o,f){$(o,e,f),d(e,i),d(i,s),d(i,l),d(i,r),d(i,u),d(e,m),v&&v.m(e,null),d(e,h)},p(o,f){f&16&&t!==(t=o[16].id+"")&&q(s,t),f&16&&a!==(a=o[16].index+"")&&q(r,a),f&16&&(c="statRolls"in o[15]&&Object.keys(o[15].statRolls).length>0),c?v?v.p(o,f):(v=Se(o),v.c(),v.m(e,h)):v&&(v.d(1),v=null)},d(o){o&&p(e),v&&v.d()}}}function De(n){let e,i,t,s,l,a,r,u,m,c,h,v,o,f,_,k,V,b,w,T,B,C;function Te(O){n[9](O)}let ee={items:n[6]};n[0]!==void 0&&(ee.value=n[0]),_=new x({props:ee}),Q.push(()=>M(_,"value",Te)),_.$on("select",n[8]);let j=n[0]&&_e(n);return{c(){e=E("div"),i=E("div"),t=E("div"),s=E("h1"),l=g("Timeless Calculator"),a=J(),r=E("a"),u=E("h2"),m=g("Skill Tree View"),c=J(),h=E("div"),v=E("h3"),o=g("Timeless Jewel"),f=J(),z(_.$$.fragment),V=J(),j&&j.c(),b=J(),w=E("div"),T=E("a"),B=g("Source (Github)"),this.h()},l(O){e=I(O,"DIV",{class:!0});var H=P(e);i=I(H,"DIV",{class:!0});var G=P(i);t=I(G,"DIV",{});var U=P(t);s=I(U,"H1",{class:!0});var le=P(s);l=S(le,"Timeless Calculator"),le.forEach(p),a=A(U),r=I(U,"A",{href:!0});var te=P(r);u=I(te,"H2",{class:!0});var se=P(u);m=S(se,"Skill Tree View"),se.forEach(p),te.forEach(p),c=A(U),h=I(U,"DIV",{class:!0});var y=P(h);v=I(y,"H3",{class:!0});var ie=P(v);o=S(ie,"Timeless Jewel"),ie.forEach(p),f=A(y),F(_.$$.fragment,y),V=A(y),j&&j.l(y),y.forEach(p),U.forEach(p),b=A(G),w=I(G,"DIV",{class:!0});var ae=P(w);T=I(ae,"A",{href:!0,target:!0,rel:!0});var ne=P(T);B=S(ne,"Source (Github)"),ne.forEach(p),ae.forEach(p),G.forEach(p),H.forEach(p),this.h()},h(){R(s,"class","text-white mb-10 text-center"),R(u,"class","text-white mb-10 text-center underline text-orange-500"),R(r,"href",Ce+"/tree"),R(v,"class","mb-2"),R(h,"class","themed"),R(T,"href","https://github.com/Vilsol/timeless-jewels"),R(T,"target","_blank"),R(T,"rel","noopener"),R(w,"class","text-right text-orange-500"),R(i,"class","flex flex-col justify-between w-1/3"),R(e,"class","py-10 flex flex-row justify-center w-screen h-screen")},m(O,H){$(O,e,H),d(e,i),d(i,t),d(t,s),d(s,l),d(t,a),d(t,r),d(r,u),d(u,m),d(t,c),d(t,h),d(h,v),d(v,o),d(h,f),W(_,h,null),d(h,V),j&&j.m(h,null),d(i,b),d(i,w),d(w,T),d(T,B),C=!0},p(O,[H]){const G={};!k&&H&1&&(k=!0,G.value=O[0],X(()=>k=!1)),_.$set(G),O[0]?j?(j.p(O,H),H&1&&N(j,1)):(j=_e(O),j.c(),N(j,1),j.m(h,null)):j&&(Pe(),L(j,1,1,()=>{j=null}),Ie())},i(O){C||(N(_.$$.fragment,O),N(j),C=!0)},o(O){L(_.$$.fragment,O),L(j),C=!1},d(O){O&&p(e),Z(_),j&&j.d()}}}function Ne(n,e,i){let t,s;Oe(n,qe,b=>i(13,s=b));const l=s.url.searchParams,a=Object.keys(TimelessJewels).map(b=>({value:parseInt(b),label:TimelessJewels[b]}));let r=l.has("jewel")?a.find(b=>b.value==l.get("jewel")):void 0,u=l.has("conqueror")?{value:l.get("conqueror"),label:l.get("conqueror")}:void 0;const m=Object.keys(PassiveSkills).map(b=>({value:PassiveSkills[b],label:b}));let c=l.has("passive_skill")?m.find(b=>b.value==l.get("passive_skill")):void 0,h=l.has("seed")?l.get("seed"):0,v;const o=()=>{{const b={};r&&(b.jewel=r.value),u&&(b.conqueror=u.value),c&&(b.passive_skill=c.value),h&&(b.seed=h);const w=Object.keys(b).map(T=>T+"="+encodeURIComponent(b[T])).join("&");Ve(s.url.pathname+"?"+w)}};function f(b){r=b,i(0,r)}function _(b){u=b,i(1,u)}function k(b){c=b,i(2,c)}function V(){h=Ee(this.value),i(3,h)}return n.$$.update=()=>{n.$$.dirty&1&&i(5,t=r?TimelessJewelConquerors[r.value].map(b=>({value:b,label:b})):[]),n.$$.dirty&15&&c&&h&&r&&u&&i(4,v=Calculate(c.value,typeof h=="string"?parseInt(h):h,r.value,u.value))},[r,u,c,h,v,t,a,m,o,f,_,k,V]}class Ue extends $e{constructor(e){super(),je(this,e,Ne,De,Je,{})}}export{Ue as default};
