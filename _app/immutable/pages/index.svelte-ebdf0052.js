import{S as je,i as Re,s as Ae,K as Q,L as M,e as g,t as w,k as A,w as z,l as D,c as S,a as I,h as E,d as p,m as O,x as F,b as $,g as j,J as d,y as W,M as X,q as J,N as oe,O as re,P as Ee,j as N,Q as Y,R as Oe,o as L,B as Z,p as Ie,T as Te,n as Pe}from"../chunks/index-40c9b43b.js";import{S as x,g as qe,p as Ve}from"../chunks/stores-5cbfde2c.js";import{b as Ce}from"../chunks/paths-396f020f.js";import"../chunks/singletons-d1fb5791.js";function fe(r,e,i){const t=r.slice();t[16]=e[i];const s=GetAlternatePassiveAdditionByIndex(t[16].alternatePassiveSkillAddition);return t[17]=s,t}function ue(r,e,i){const t=r.slice();t[20]=e[i],t[23]=i;const s=GetStatByIndex(t[17].statsKeys[t[23]]);return t[21]=s,t}function ce(r,e,i){const t=r.slice();t[20]=e[i],t[23]=i;const s=GetStatByIndex(t[24].statsKeys[t[23]]);return t[21]=s,t}function K(r){const e=r.slice(),i=GetAlternatePassiveSkillByIndex(e[4].alternatePassiveSkill);return e[24]=i,e}function _e(r){let e,i,t,s,l,a,f,_=r[1]&&TimelessJewelConquerors[r[0].value].indexOf(r[1].value)>=0,v,o;function n(h){r[10](h)}let c={items:r[5]};r[1]!==void 0&&(c.value=r[1]),l=new x({props:c}),Q.push(()=>M(l,"value",n)),l.$on("select",r[8]);let u=_&&he(r);return{c(){e=g("div"),i=g("h3"),t=w("Conqueror"),s=A(),z(l.$$.fragment),f=A(),u&&u.c(),v=D(),this.h()},l(h){e=S(h,"DIV",{class:!0});var b=I(e);i=S(b,"H3",{class:!0});var T=I(i);t=E(T,"Conqueror"),T.forEach(p),s=O(b),F(l.$$.fragment,b),b.forEach(p),f=O(h),u&&u.l(h),v=D(),this.h()},h(){$(i,"class","mb-2"),$(e,"class","mt-4")},m(h,b){j(h,e,b),d(e,i),d(i,t),d(e,s),W(l,e,null),j(h,f,b),u&&u.m(h,b),j(h,v,b),o=!0},p(h,b){const T={};b&32&&(T.items=h[5]),!a&&b&2&&(a=!0,T.value=h[1],X(()=>a=!1)),l.$set(T),b&3&&(_=h[1]&&TimelessJewelConquerors[h[0].value].indexOf(h[1].value)>=0),_?u?(u.p(h,b),b&3&&J(u,1)):(u=he(h),u.c(),J(u,1),u.m(v.parentNode,v)):u&&(Pe(),L(u,1,1,()=>{u=null}),Ie())},i(h){o||(J(l.$$.fragment,h),J(u),o=!0)},o(h){L(l.$$.fragment,h),L(u),o=!1},d(h){h&&p(e),Z(l),h&&p(f),u&&u.d(h),h&&p(v)}}}function he(r){let e,i,t,s,l,a,f,_,v;function o(u){r[11](u)}let n={items:r[7]};r[2]!==void 0&&(n.value=r[2]),l=new x({props:n}),Q.push(()=>M(l,"value",o)),l.$on("select",r[8]);let c=r[2]&&de(r);return{c(){e=g("div"),i=g("h3"),t=w("Passive Skill"),s=A(),z(l.$$.fragment),f=A(),c&&c.c(),_=D(),this.h()},l(u){e=S(u,"DIV",{class:!0});var h=I(e);i=S(h,"H3",{class:!0});var b=I(i);t=E(b,"Passive Skill"),b.forEach(p),s=O(h),F(l.$$.fragment,h),h.forEach(p),f=O(u),c&&c.l(u),_=D(),this.h()},h(){$(i,"class","mb-2"),$(e,"class","mt-4")},m(u,h){j(u,e,h),d(e,i),d(i,t),d(e,s),W(l,e,null),j(u,f,h),c&&c.m(u,h),j(u,_,h),v=!0},p(u,h){const b={};!a&&h&4&&(a=!0,b.value=u[2],X(()=>a=!1)),l.$set(b),u[2]?c?c.p(u,h):(c=de(u),c.c(),c.m(_.parentNode,_)):c&&(c.d(1),c=null)},i(u){v||(J(l.$$.fragment,u),v=!0)},o(u){L(l.$$.fragment,u),v=!1},d(u){u&&p(e),Z(l),u&&p(f),c&&c.d(u),u&&p(_)}}}function de(r){let e,i,t,s,l,a,f,_,v,o=r[4]&&ve(r);return{c(){e=g("div"),i=g("h3"),t=w("Seed"),s=A(),l=g("input"),a=A(),o&&o.c(),f=D(),this.h()},l(n){e=S(n,"DIV",{class:!0});var c=I(e);i=S(c,"H3",{class:!0});var u=I(i);t=E(u,"Seed"),u.forEach(p),s=O(c),l=S(c,"INPUT",{type:!0,class:!0}),c.forEach(p),a=O(n),o&&o.l(n),f=D(),this.h()},h(){$(i,"class","mb-2"),$(l,"type","number"),$(l,"class","seed"),$(e,"class","mt-4")},m(n,c){j(n,e,c),d(e,i),d(i,t),d(e,s),d(e,l),oe(l,r[3]),j(n,a,c),o&&o.m(n,c),j(n,f,c),_||(v=[re(l,"input",r[12]),re(l,"blur",r[8])],_=!0)},p(n,c){c&8&&Ee(l.value)!==n[3]&&oe(l,n[3]),n[4]?o?o.p(n,c):(o=ve(n),o.c(),o.m(f.parentNode,f)):o&&(o.d(1),o=null)},d(n){n&&p(e),n&&p(a),o&&o.d(n),n&&p(f),_=!1,Oe(v)}}}function ve(r){let e,i,t="alternatePassiveSkill"in r[4]&&me(K(r)),s="alternatePassiveAdditionInformations"in r[4]&&r[4].alternatePassiveAdditionInformations.length>0&&ke(r);return{c(){t&&t.c(),e=A(),s&&s.c(),i=D()},l(l){t&&t.l(l),e=O(l),s&&s.l(l),i=D()},m(l,a){t&&t.m(l,a),j(l,e,a),s&&s.m(l,a),j(l,i,a)},p(l,a){"alternatePassiveSkill"in l[4]?t?t.p(K(l),a):(t=me(K(l)),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),"alternatePassiveAdditionInformations"in l[4]&&l[4].alternatePassiveAdditionInformations.length>0?s?s.p(l,a):(s=ke(l),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(l){t&&t.d(l),l&&p(e),s&&s.d(l),l&&p(i)}}}function me(r){let e,i,t,s,l,a=r[24].name+"",f,_,v=r[24].id+"",o,n,c=r[4].alternatePassiveSkill+"",u,h,b,T="statRolls"in r[4]&&Object.keys(r[4].statRolls).length>0,V,m=T&&pe(r);return{c(){e=g("div"),i=g("h3"),t=w("Alternate Passive Skill"),s=A(),l=g("span"),f=w(a),_=w(" ("),o=w(v),n=w(") ("),u=w(c),h=w(")"),b=A(),m&&m.c(),V=D(),this.h()},l(k){e=S(k,"DIV",{class:!0});var P=I(e);i=S(P,"H3",{});var G=I(i);t=E(G,"Alternate Passive Skill"),G.forEach(p),s=O(P),l=S(P,"SPAN",{});var C=I(l);f=E(C,a),_=E(C," ("),o=E(C,v),n=E(C,") ("),u=E(C,c),h=E(C,")"),C.forEach(p),P.forEach(p),b=O(k),m&&m.l(k),V=D(),this.h()},h(){$(e,"class","mt-4")},m(k,P){j(k,e,P),d(e,i),d(i,t),d(e,s),d(e,l),d(l,f),d(l,_),d(l,o),d(l,n),d(l,u),d(l,h),j(k,b,P),m&&m.m(k,P),j(k,V,P)},p(k,P){P&16&&a!==(a=k[24].name+"")&&N(f,a),P&16&&v!==(v=k[24].id+"")&&N(o,v),P&16&&c!==(c=k[4].alternatePassiveSkill+"")&&N(u,c),P&16&&(T="statRolls"in k[4]&&Object.keys(k[4].statRolls).length>0),T?m?m.p(k,P):(m=pe(k),m.c(),m.m(V.parentNode,V)):m&&(m.d(1),m=null)},d(k){k&&p(e),k&&p(b),m&&m.d(k),k&&p(V)}}}function pe(r){let e,i=Object.keys(r[4].statRolls),t=[];for(let s=0;s<i.length;s+=1)t[s]=be(ce(r,i,s));return{c(){e=g("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=S(s,"OL",{class:!0});var l=I(e);for(let a=0;a<t.length;a+=1)t[a].l(l);l.forEach(p),this.h()},h(){$(e,"class","mt-4 list-decimal pl-8")},m(s,l){j(s,e,l);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,l){if(l&16){i=Object.keys(s[4].statRolls);let a;for(a=0;a<i.length;a+=1){const f=ce(s,i,a);t[a]?t[a].p(f,l):(t[a]=be(f),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(s){s&&p(e),Y(t,s)}}}function be(r){let e,i=(r[21].text||"<no name>")+"",t,s,l=r[21].id+"",a,f,_=r[4].statRolls[r[20]]+"",v;return{c(){e=g("li"),t=w(i),s=w(" ("),a=w(l),f=w(") - "),v=w(_)},l(o){e=S(o,"LI",{});var n=I(e);t=E(n,i),s=E(n," ("),a=E(n,l),f=E(n,") - "),v=E(n,_),n.forEach(p)},m(o,n){j(o,e,n),d(e,t),d(e,s),d(e,a),d(e,f),d(e,v)},p(o,n){n&16&&i!==(i=(o[21].text||"<no name>")+"")&&N(t,i),n&16&&l!==(l=o[21].id+"")&&N(a,l),n&16&&_!==(_=o[4].statRolls[o[20]]+"")&&N(v,_)},d(o){o&&p(e)}}}function ke(r){let e,i,t,s,l,a=r[4].alternatePassiveAdditionInformations,f=[];for(let _=0;_<a.length;_+=1)f[_]=we(fe(r,a,_));return{c(){e=g("div"),i=g("h3"),t=w("Additions"),s=A(),l=g("ul");for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){e=S(_,"DIV",{class:!0});var v=I(e);i=S(v,"H3",{});var o=I(i);t=E(o,"Additions"),o.forEach(p),s=O(v),l=S(v,"UL",{class:!0});var n=I(l);for(let c=0;c<f.length;c+=1)f[c].l(n);n.forEach(p),v.forEach(p),this.h()},h(){$(l,"class","list-disc pl-8"),$(e,"class","mt-4")},m(_,v){j(_,e,v),d(e,i),d(i,t),d(e,s),d(e,l);for(let o=0;o<f.length;o+=1)f[o].m(l,null)},p(_,v){if(v&16){a=_[4].alternatePassiveAdditionInformations;let o;for(o=0;o<a.length;o+=1){const n=fe(_,a,o);f[o]?f[o].p(n,v):(f[o]=we(n),f[o].c(),f[o].m(l,null))}for(;o<f.length;o+=1)f[o].d(1);f.length=a.length}},d(_){_&&p(e),Y(f,_)}}}function ge(r){let e,i=Object.keys(r[16].statRolls),t=[];for(let s=0;s<i.length;s+=1)t[s]=Se(ue(r,i,s));return{c(){e=g("ol");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=S(s,"OL",{class:!0});var l=I(e);for(let a=0;a<t.length;a+=1)t[a].l(l);l.forEach(p),this.h()},h(){$(e,"class","list-decimal pl-8")},m(s,l){j(s,e,l);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,l){if(l&16){i=Object.keys(s[16].statRolls);let a;for(a=0;a<i.length;a+=1){const f=ue(s,i,a);t[a]?t[a].p(f,l):(t[a]=Se(f),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=i.length}},d(s){s&&p(e),Y(t,s)}}}function Se(r){let e,i=(r[21].text||"<no name>")+"",t,s,l=r[21].id+"",a,f,_=r[16].statRolls[r[20]]+"",v;return{c(){e=g("li"),t=w(i),s=w(" ("),a=w(l),f=w(") - "),v=w(_)},l(o){e=S(o,"LI",{});var n=I(e);t=E(n,i),s=E(n," ("),a=E(n,l),f=E(n,") - "),v=E(n,_),n.forEach(p)},m(o,n){j(o,e,n),d(e,t),d(e,s),d(e,a),d(e,f),d(e,v)},p(o,n){n&16&&i!==(i=(o[21].text||"<no name>")+"")&&N(t,i),n&16&&l!==(l=o[21].id+"")&&N(a,l),n&16&&_!==(_=o[16].statRolls[o[20]]+"")&&N(v,_)},d(o){o&&p(e)}}}function we(r){let e,i,t=r[17].id+"",s,l,a=r[17].index+"",f,_,v,o="statRolls"in r[16]&&Object.keys(r[16].statRolls).length>0,n,c=o&&ge(r);return{c(){e=g("li"),i=g("span"),s=w(t),l=w(" ("),f=w(a),_=w(")"),v=A(),c&&c.c(),n=A(),this.h()},l(u){e=S(u,"LI",{class:!0});var h=I(e);i=S(h,"SPAN",{});var b=I(i);s=E(b,t),l=E(b," ("),f=E(b,a),_=E(b,")"),b.forEach(p),v=O(h),c&&c.l(h),n=O(h),h.forEach(p),this.h()},h(){$(e,"class","mt-4")},m(u,h){j(u,e,h),d(e,i),d(i,s),d(i,l),d(i,f),d(i,_),d(e,v),c&&c.m(e,null),d(e,n)},p(u,h){h&16&&t!==(t=u[17].id+"")&&N(s,t),h&16&&a!==(a=u[17].index+"")&&N(f,a),h&16&&(o="statRolls"in u[16]&&Object.keys(u[16].statRolls).length>0),o?c?c.p(u,h):(c=ge(u),c.c(),c.m(e,n)):c&&(c.d(1),c=null)},d(u){u&&p(e),c&&c.d()}}}function Ne(r){let e,i,t,s,l,a,f,_,v,o,n,c,u,h,b,T,V,m,k,P,G,C;function $e(q){r[9](q)}let ee={items:r[6]};r[0]!==void 0&&(ee.value=r[0]),b=new x({props:ee}),Q.push(()=>M(b,"value",$e)),b.$on("select",r[8]);let R=r[0]&&_e(r);return{c(){e=g("div"),i=g("div"),t=g("div"),s=g("h1"),l=w("Timeless Calculator"),a=A(),f=g("a"),_=g("h2"),v=w("Skill Tree View"),o=A(),n=g("div"),c=g("h3"),u=w("Timeless Jewel"),h=A(),z(b.$$.fragment),V=A(),R&&R.c(),m=A(),k=g("div"),P=g("a"),G=w("Source (Github)"),this.h()},l(q){e=S(q,"DIV",{class:!0});var y=I(e);i=S(y,"DIV",{class:!0});var H=I(i);t=S(H,"DIV",{});var B=I(t);s=S(B,"H1",{class:!0});var le=I(s);l=E(le,"Timeless Calculator"),le.forEach(p),a=O(B),f=S(B,"A",{href:!0});var te=I(f);_=S(te,"H2",{class:!0});var se=I(_);v=E(se,"Skill Tree View"),se.forEach(p),te.forEach(p),o=O(B),n=S(B,"DIV",{class:!0});var U=I(n);c=S(U,"H3",{class:!0});var ie=I(c);u=E(ie,"Timeless Jewel"),ie.forEach(p),h=O(U),F(b.$$.fragment,U),V=O(U),R&&R.l(U),U.forEach(p),B.forEach(p),m=O(H),k=S(H,"DIV",{class:!0});var ae=I(k);P=S(ae,"A",{href:!0,target:!0,rel:!0});var ne=I(P);G=E(ne,"Source (Github)"),ne.forEach(p),ae.forEach(p),H.forEach(p),y.forEach(p),this.h()},h(){$(s,"class","text-white mb-10 text-center"),$(_,"class","text-white mb-10 text-center underline text-orange-500"),$(f,"href",Ce+"/tree"),$(c,"class","mb-2"),$(n,"class","themed"),$(P,"href","https://github.com/Vilsol/timeless-jewels"),$(P,"target","_blank"),$(P,"rel","noopener"),$(k,"class","text-right text-orange-500"),$(i,"class","flex flex-col justify-between w-1/3"),$(e,"class","py-10 flex flex-row justify-center w-screen h-screen")},m(q,y){j(q,e,y),d(e,i),d(i,t),d(t,s),d(s,l),d(t,a),d(t,f),d(f,_),d(_,v),d(t,o),d(t,n),d(n,c),d(c,u),d(n,h),W(b,n,null),d(n,V),R&&R.m(n,null),d(i,m),d(i,k),d(k,P),d(P,G),C=!0},p(q,[y]){const H={};!T&&y&1&&(T=!0,H.value=q[0],X(()=>T=!1)),b.$set(H),q[0]?R?(R.p(q,y),y&1&&J(R,1)):(R=_e(q),R.c(),J(R,1),R.m(n,null)):R&&(Pe(),L(R,1,1,()=>{R=null}),Ie())},i(q){C||(J(b.$$.fragment,q),J(R),C=!0)},o(q){L(b.$$.fragment,q),L(R),C=!1},d(q){q&&p(e),Z(b),R&&R.d()}}}function De(r,e,i){let t,s;Te(r,Ve,m=>i(13,s=m));const l=s.url.searchParams,a=Object.keys(TimelessJewels).map(m=>({value:parseInt(m),label:TimelessJewels[m]}));let f=l.has("jewel")?a.find(m=>m.value==l.get("jewel")):void 0,_=l.has("conqueror")?{value:l.get("conqueror"),label:l.get("conqueror")}:void 0;JSON.parse(window.SkillTree);const v=Object.keys(PassiveSkills).map(m=>({value:PassiveSkills[m],label:m})).filter(m=>!0);let o=l.has("passive_skill")?v.find(m=>m.value==l.get("passive_skill")):void 0,n=l.has("seed")?l.get("seed"):0,c;const u=()=>{{const m={};f&&(m.jewel=f.value),_&&(m.conqueror=_.value),o&&(m.passive_skill=o.value),n&&(m.seed=n);const k=Object.keys(m).map(P=>P+"="+encodeURIComponent(m[P])).join("&");qe(s.url.pathname+"?"+k)}};function h(m){f=m,i(0,f)}function b(m){_=m,i(1,_)}function T(m){o=m,i(2,o)}function V(){n=Ee(this.value),i(3,n)}return r.$$.update=()=>{r.$$.dirty&1&&i(5,t=f?TimelessJewelConquerors[f.value].map(m=>({value:m,label:m})):[]),r.$$.dirty&15&&o&&n&&f&&_&&i(4,c=Calculate(o.value,typeof n=="string"?parseInt(n):n,f.value,_.value))},[f,_,o,n,c,t,a,v,u,h,b,T,V]}class Ge extends je{constructor(e){super(),Re(this,e,De,Ne,Ae,{})}}export{Ge as default};
