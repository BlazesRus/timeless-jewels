import{a9 as Rl,R as le,aa as zl,S as et,i as tt,s as lt,I as ct,e as y,k as U,c as E,a as P,d as w,m as j,b as k,f as It,g as M,ab as Nl,J as dt,K as ht,L as mt,q as F,o as G,r as Cl,v as wl,ac as At,N as nt,E as Ke,a8 as Ml,w as ze,x as Ne,y as Ce,M as b,B as Me,l as ge,n as Je,p as Ve,G as ot,V as Ee,ad as Ol,t as J,h as V,j as _e,U as _t,a2 as Dl,a3 as Jl,X as Vl,W as it,P as bl,T as qe,O as vl,Q as Ge}from"../chunks/index-7969860d.js";import{r as Ll,d as Fl}from"../chunks/index-3d8bec42.js";import{g as Re,b as Ul,a as $e,d as Et,t as Ot,c as xe,o as Dt,e as St,f as Jt,i as Vt,h as Lt,j as jl,k as Ft,m as rt,n as Bl,s as ql,p as Gl,q as Kl}from"../chunks/worker-d829d87f.js";import{g as Hl,S as Pt,p as Wl}from"../chunks/stores-0b2c0e1d.js";import"../chunks/singletons-cdeec3fd.js";const Yl=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function Xl(){const l=Rl();return e=>{const t=Yl.map(i=>le(e,i,n=>zl(l,n)));return{destroy:()=>t.forEach(i=>i())}}}class Ql{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:t}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,t),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:t,context:i,width:n,height:s}){const r={context:i,width:n,height:s};if(this.needsResize&&(i.setTransform(t,0,0,t,0,0),this.needsResize=!1),this.needsSetup){for(const[u,o]of this.setups)o(r),this.setups.delete(u);this.needsSetup=!1}if(this.needsRedraw){e&&i.clearRect(0,0,n,s);for(const u of this.layerSequence)this.renderers.get(u)(r);this.needsRedraw=!1}}}function Zl(l){let e,t,i,n,s,r,u,o,a;const h=l[13].default,_=ct(h,l,l[12],null);return{c(){e=y("canvas"),s=U(),r=y("div"),_&&_.c(),this.h()},l(m){e=E(m,"CANVAS",{style:!0,width:!0,height:!0}),P(e).forEach(w),s=j(m),r=E(m,"DIV",{style:!0});var d=P(r);_&&_.l(d),d.forEach(w),this.h()},h(){k(e,"style",t="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")),k(e,"width",i=l[1]*l[0]),k(e,"height",n=l[2]*l[0]),It(r,"display","none")},m(m,d){M(m,e,d),l[14](e),M(m,s,d),M(m,r,d),_&&_.m(r,null),l[15](r),u=!0,o||(a=Nl(l[6].call(null,e)),o=!0)},p(m,[d]){(!u||d&14&&t!==(t="display: block; width: "+m[1]+"px; height: "+m[2]+"px;"+(m[3]?` ${m[3]}`:"")))&&k(e,"style",t),(!u||d&3&&i!==(i=m[1]*m[0]))&&k(e,"width",i),(!u||d&5&&n!==(n=m[2]*m[0]))&&k(e,"height",n),_&&_.p&&(!u||d&4096)&&dt(_,h,m,m[12],u?mt(h,m[12],d,null):ht(m[12]),null)},i(m){u||(F(_,m),u=!0)},o(m){G(_,m),u=!1},d(m){m&&w(e),l[14](null),m&&w(s),m&&w(r),_&&_.d(m),l[15](null),o=!1,a()}}}const Sl={};function xl(l,e,t){let{$$slots:i={},$$scope:n}=e,{width:s=640,height:r=640,pixelRatio:u=void 0,style:o=null,autoclear:a=!0}=e,h,_,m,d,f;const c=Xl(),p=new Ql;function v(){p.redraw()}function R(){return h}function z(){return _}u===void 0&&(typeof window=="undefined"?u=2:u=window.devicePixelRatio);function O(){p.render({context:_,width:s,height:r,pixelRatio:u,autoclear:a}),m=window.requestAnimationFrame(O)}Cl(Sl,{register:p.register,unregister:p.unregister,redraw:p.redraw}),wl(()=>{_=h.getContext("2d"),f=new MutationObserver(T),f.observe(d,{childList:!0}),T(),O();function T(){const L=[...d.children].map(K=>+K.dataset.layerId);t(11,p.layerSequence=L,p),p.redraw()}}),At(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(m),f.disconnect())});function A(T){nt[T?"unshift":"push"](()=>{h=T,t(4,h)})}function D(T){nt[T?"unshift":"push"](()=>{d=T,t(5,d)})}return l.$$set=T=>{"width"in T&&t(1,s=T.width),"height"in T&&t(2,r=T.height),"pixelRatio"in T&&t(0,u=T.pixelRatio),"style"in T&&t(3,o=T.style),"autoclear"in T&&t(7,a=T.autoclear),"$$scope"in T&&t(12,n=T.$$scope)},l.$$.update=()=>{l.$$.dirty&2183&&p.resize()},[u,s,r,o,h,d,c,a,v,R,z,p,n,i,A,D]}class $l extends et{constructor(e){super(),tt(this,e,xl,Zl,lt,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function es(l){let e;return{c(){e=y("div"),this.h()},l(t){e=E(t,"DIV",{"data-layer-id":!0}),P(e).forEach(w),this.h()},h(){k(e,"data-layer-id",l[0])},m(t,i){M(t,e,i)},p:Ke,i:Ke,o:Ke,d(t){t&&w(e)}}}function ts(l,e,t){const{register:i,unregister:n,redraw:s}=Ml(Sl);let{setup:r=void 0,render:u=()=>{}}=e;if(typeof r!="function"&&r!==void 0)throw new Error("setup must be a function");if(typeof u!="function")throw new Error("render must be a function");const o=i({setup:r,render:u});return At(()=>n(o)),l.$$set=a=>{"setup"in a&&t(1,r=a.setup),"render"in a&&t(2,u=a.render)},l.$$.update=()=>{l.$$.dirty&4&&s()},[o,r,u]}class ls extends et{constructor(e){super(),tt(this,e,ts,es,lt,{setup:1,render:2})}}let Ut;const kl=Date.now();function Il(l){return l(Date.now()-kl),Ut=window.requestAnimationFrame(()=>Il(l)),()=>window.cancelAnimationFrame(Ut)}function ss(){}var is=Ll(Date.now()-kl,typeof window=="undefined"?ss:Il);const{window:Tt}=Ol;function jt(l){let e,t,i,n,s,r;t=new $l({props:{width:l[0],height:l[1],$$slots:{default:[ns]},$$scope:{ctx:l}}}),t.$on("pointerdown",l[17]),t.$on("wheel",l[20]);const u=l[49].default,o=ct(u,l,l[50],null);return{c(){e=y("div"),ze(t.$$.fragment),i=U(),o&&o.c(),this.h()},l(a){e=E(a,"DIV",{style:!0});var h=P(e);Ne(t.$$.fragment,h),i=j(h),o&&o.l(h),h.forEach(w),this.h()},h(){It(e,"touch-action","none"),It(e,"cursor",l[2])},m(a,h){M(a,e,h),Ce(t,e,null),b(e,i),o&&o.m(e,null),n=!0,s||(r=le(e,"resize",l[21]),s=!0)},p(a,h){const _={};h[0]&1&&(_.width=a[0]),h[0]&2&&(_.height=a[1]),h[0]&8|h[1]&524288&&(_.$$scope={dirty:h,ctx:a}),t.$set(_),o&&o.p&&(!n||h[1]&524288)&&dt(o,u,a,a[50],n?mt(u,a[50],h,null):ht(a[50]),null),(!n||h[0]&4)&&It(e,"cursor",a[2])},i(a){n||(F(t.$$.fragment,a),F(o,a),n=!0)},o(a){G(t.$$.fragment,a),G(o,a),n=!1},d(a){a&&w(e),Me(t),o&&o.d(a),s=!1,r()}}}function ns(l){let e,t;return e=new ls({props:{render:l[3]}}),{c(){ze(e.$$.fragment)},l(i){Ne(e.$$.fragment,i)},m(i,n){Ce(e,i,n),t=!0},p(i,n){const s={};n[0]&8&&(s.render=i[3]),e.$set(s)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){Me(e,i)}}}function rs(l){let e,t,i,n,s=l[0]&&l[1]&&jt(l);return{c(){s&&s.c(),e=ge()},l(r){s&&s.l(r),e=ge()},m(r,u){s&&s.m(r,u),M(r,e,u),t=!0,i||(n=[le(Tt,"pointerup",l[18]),le(Tt,"pointermove",l[19]),le(Tt,"resize",l[21])],i=!0)},p(r,u){r[0]&&r[1]?s?(s.p(r,u),u[0]&3&&F(s,1)):(s=jt(r),s.c(),F(s,1),s.m(e.parentNode,e)):s&&(Je(),G(s,1,1,()=>{s=null}),Ve())},i(r){t||(F(s),t=!0)},o(r){G(s),t=!1},d(r){s&&s.d(r),r&&w(e),i=!1,ot(n)}}}const Bt="25px Roboto Mono",qt="17px Roboto Mono",st=2.6;function os(l,e,t){let i,n,s,r,u,o,a,h,_,m,d,f,c,p,v,{$$slots:R={},$$scope:z}=e,{clickNode:O}=e,{circledNode:A}=e,{selectedJewel:D}=e,{selectedConqueror:T}=e,{seed:L}=e,{highlighted:K=[]}=e,{disabled:se=[]}=e;const be=Fl(is,g=>!K||!K.length?0:Math.round(g/40));Ee(l,be,g=>t(36,s=g));const ie=[427,320,226,227,323,422,329];let C=10,Z=0,$=0;const W=(g,fe,Te)=>{const ae=fe.width/C*st,ne=fe.height/C*st,ue=Te.x-ae/2,Ie=Te.y-ne/2;g.drawImage(fe,ue,Ie,ae,ne)},Y=(g,fe,Te)=>{const ae=fe.width/C*st,ne=fe.height/C*st,ue=Te.x-ae/2,Ie=Te.y-ne/2,Xe=Ie-ne/2;g.drawImage(fe,ue,Xe,ae,ne),g.save(),g.translate(ue,Ie),g.rotate(Math.PI),g.drawImage(fe,-ae,-(ne/2),ae,-ne),g.restore()},de={},pe={},ee=(g,fe,Te,ae=!1)=>{let ne=ae?jl[fe]:Ft[fe];!ne&&ae&&(ne=Ft[fe]);const ue=ne.filename;ue in(ae?pe:de)||((ae?pe:de)[ue]=new Image,(ae?pe:de)[ue].src=ue);const Ie=ne.coords[fe],Xe=Ie.w/C*st,vt=Ie.h/C*st,ye=Te.x-Xe/2,q=Te.y-vt/2;g.drawImage((ae?pe:de)[ue],Ie.x,Ie.y,Ie.w,Ie.h,ye,q,Xe,vt)},N=(g,fe,Te)=>{const ae=[];let ne="";return g.split(" ").forEach(ue=>{fe.measureText(ne+ue).width<Te?ne+=" "+ue:(ae.push(ne.trim()),ne=ue)}),ne.length>0&&ae.push(ne.trim()),ae};let B={x:Number.MIN_VALUE,y:Number.MIN_VALUE},H="unset";const I=Re("PSGroupBackground1");Ee(l,I,g=>t(48,v=g));const Q=Re("PSGroupBackground2");Ee(l,Q,g=>t(47,p=g));const oe=Re("PSGroupBackground3");Ee(l,oe,g=>t(46,c=g));const te=Re("KeystoneFrameAllocated");Ee(l,te,g=>t(45,f=g));const he=Re("KeystoneFrameUnallocated");Ee(l,he,g=>t(44,d=g));const Oe=Re("NotableFrameAllocated");Ee(l,Oe,g=>t(43,m=g));const we=Re("NotableFrameUnallocated");Ee(l,we,g=>t(42,_=g));const De=Re("JewelSocketAltNormal");Ee(l,De,g=>t(41,h=g));const He=Re("JewelFrameAllocated");Ee(l,He,g=>t(40,a=g));const We=Re("JewelFrameUnallocated");Ee(l,We,g=>t(39,o=g));const Ue=Re("PSSkillFrameActive");Ee(l,Ue,g=>t(38,u=g));const gt=Re("PSSkillFrame");Ee(l,gt,g=>t(37,r=g));let Se,pt=0,wt=0,S=0,X=0,ke=!1;const je=g=>{ke=!0,pt=g.offsetX,wt=g.offsetY,S=Z,X=$,t(32,B={x:g.offsetX,y:g.offsetY}),Se&&O(Se)},Ye=g=>{g.type==="pointerup"&&(ke=!1),t(32,B={x:g.offsetX,y:g.offsetY})},bt=g=>{ke&&(t(30,Z=S-(pt-g.offsetX)*C),t(31,$=X-(wt-g.offsetY)*C)),t(32,B={x:g.offsetX,y:g.offsetY})},Tl=g=>{g.deltaY>0?C<30&&(t(30,Z+=g.offsetX),t(31,$+=g.offsetY)):C>3&&(t(30,Z-=g.offsetX),t(31,$-=g.offsetY)),t(29,C=Math.min(30,Math.max(3,C+g.deltaY/100))),g.preventDefault(),g.stopPropagation(),g.stopImmediatePropagation()};let Rt=0,zt=0;const Nt=()=>{t(0,Rt=window.innerWidth),t(1,zt=window.innerHeight)};let yt=!1;return l.$$set=g=>{"clickNode"in g&&t(22,O=g.clickNode),"circledNode"in g&&t(23,A=g.circledNode),"selectedJewel"in g&&t(24,D=g.selectedJewel),"selectedConqueror"in g&&t(25,T=g.selectedConqueror),"seed"in g&&t(26,L=g.seed),"highlighted"in g&&t(27,K=g.highlighted),"disabled"in g&&t(28,se=g.disabled),"$$scope"in g&&t(50,z=g.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&536870912&&t(35,i=Ul/C),l.$$.dirty[0]&536870912|l.$$.dirty[1]&8&&(!yt&&$e&&(t(34,yt=!0),t(30,Z=$e.min_x+window.innerWidth/2*C),t(31,$=$e.min_y+window.innerHeight/2*C)),Nt()),l.$$.dirty[0]&2139095040|l.$$.dirty[1]&262135&&t(3,n=({context:g,width:fe,height:Te})=>{const ae=window.performance.now();g.clearRect(0,0,fe,Te),g.fillStyle="#080c11",g.fillRect(0,0,fe,Te);const ne={};Object.keys(Et).forEach(ye=>{const q=Et[ye],x=Ot(q.x,q.y,Z,$,C),me=Math.max(...q.orbits);ie.indexOf(parseInt(ye))>=0||(me==1?W(g,v,x):me==2?W(g,p,x):(me==3||q.orbits.length>1)&&Y(g,c,x))}),Object.keys(xe).forEach(ye=>{var re;const q=xe[ye],x=Dt(q.orbit,q.orbitIndex),me=St(q,Z,$,C);(re=q.out)==null||re.forEach(Qe=>{if(!xe[parseInt(Qe)])return;const Le=Math.min(parseInt(Qe),parseInt(ye)),at=Math.max(parseInt(Qe),parseInt(ye)),ce=Le+":"+at;if(ce in ne)return;ne[ce]=!0;const ve=xe[parseInt(Qe)];if(!ve||ve.isMastery)return;const Ze=Dt(ve.orbit,ve.orbitIndex),Be=St(ve,Z,$,C);if(g.beginPath(),q.group!=ve.group||q.orbit!=ve.orbit)g.moveTo(me.x,me.y),g.lineTo(Be.x,Be.y);else{let Pe=Math.PI/180-Math.PI/180*x,Ae=Math.PI/180-Math.PI/180*Ze;Pe-=Math.PI/2,Ae-=Math.PI/2;const ft=Math.abs(Math.max(Pe,Ae)-Math.min(Pe,Ae)),Al=ft>Math.PI?Math.max(Pe,Ae):Math.min(Pe,Ae),Pl=ft>Math.PI?Math.min(Pe,Ae):Math.max(Pe,Ae),Ct=Et[q.group],Mt=Ot(Ct.x,Ct.y,Z,$,C);g.arc(Mt.x,Mt.y,$e.constants.orbitRadii[q.orbit]/C+1,Al,Pl)}g.lineWidth=6/C,g.strokeStyle="#524518",g.stroke()})});let ue;A&&(ue=St(xe[A],Z,$,C),g.strokeStyle="#ad2b2b");let Ie=!1,Xe;if(Object.keys(xe).forEach(ye=>{const q=xe[ye],x=St(q,Z,$,C);let me=0,re=!1;A&&Jt(x,ue)<i&&(re=!0),se.indexOf(q.skill)>=0&&(re=!1),q.isKeystone?(me=110,ee(g,q.icon,x,re),re?W(g,f,x):W(g,d,x)):q.isNotable?(me=70,ee(g,q.icon,x,re),re?W(g,m,x):W(g,_,x)):q.isJewelSocket?(me=70,q.expansionJewel?W(g,h,x):re?W(g,a,x):W(g,o,x)):q.isMastery?ee(g,q.inactiveIcon,x,re):(me=50,ee(g,q.icon,x,re),re?W(g,u,x):W(g,r,x)),K.indexOf(q.skill)>=0&&(g.strokeStyle=`hsl(${s}, 100%, 50%)`,g.lineWidth=3,g.beginPath(),g.arc(x.x,x.y,(me+30)/C,0,Math.PI*2),g.stroke()),Jt(x,B)<me/C&&(Xe=q,Ie=re)}),t(33,Se=Xe),A&&(g.strokeStyle="#ad2b2b",g.lineWidth=1,g.beginPath(),g.arc(ue.x,ue.y,i,0,Math.PI*2),g.stroke()),Se){let ye=Se.name,q=(Se.stats||[]).map(ce=>({text:ce,special:!1}));if(!Se.isJewelSocket&&Ie&&Se.skill&&L&&D&&T){const ce=Calculate(TreeToPassive[Se.skill],L,D,T);if(ce){if("alternatePassiveSkill"in ce){const ve=GetAlternatePassiveSkillByIndex(ce.alternatePassiveSkill);q=[],ye=ve.name,"statsKeys"in ve&&ve.statsKeys.forEach((Ze,Be)=>{const Pe=GetStatByIndex(Ze),Ae=Vt[Pe.id]||"";Ae&&q.push({text:Lt(Ae,ce.statRolls[Be])||Pe.id,special:!0})})}"alternatePassiveAdditionInformations"in ce&&ce.alternatePassiveAdditionInformations.length>0&&ce.alternatePassiveAdditionInformations.forEach(ve=>{const Ze=GetAlternatePassiveAdditionByIndex(ve.alternatePassiveSkillAddition);"statsKeys"in Ze&&Ze.statsKeys.forEach((Be,Pe)=>{const Ae=GetStatByIndex(Be),ft=Vt[Ae.id]||"";ft&&q.push({text:Lt(ft,ve.statRolls[Pe])||Ae.id,special:!0})})})}}g.font=Bt;const x=g.measureText(ye),me=Math.max(x.width+50,600);g.font=qt;const re=[],Qe=30;let Le=85;q&&q.length>0?q.forEach(ce=>{re.length>0&&(Le+=5),ce.text.split(`
`).forEach(ve=>{re.length>0&&(Le+=10),N(ve,g,me-Qe).forEach(Be=>{re.push({text:Be,offset:Le,special:ce.special}),Le+=20})})}):Se.isJewelSocket&&(re.push({text:"Click to select this socket",offset:Le,special:!0}),Le+=20);const at=55;g.fillStyle="rgba(75,63,24,0.9)",g.fillRect(B.x,B.y,me,at),g.fillStyle="#ffffff",g.font=Bt,g.textAlign="center",g.fillText(ye,B.x+me/2,B.y+35),g.fillStyle="rgba(0,0,0,0.8)",g.fillRect(B.x,B.y+at,me,Le-at),g.font=qt,g.textAlign="left",re.forEach(ce=>{ce.special?g.fillStyle="#8cf34c":g.fillStyle="#ffffff",g.fillText(ce.text,B.x+Qe/2,B.y+ce.offset)})}Se&&Se.isJewelSocket?t(2,H="pointer"):t(2,H="unset"),g.fillStyle="#ffffff",g.textAlign="right",g.font="12px Roboto Mono";const vt=window.performance.now();g.fillText(`${(vt-ae).toFixed(1)}ms`,fe-5,17)})},[Rt,zt,H,n,be,I,Q,oe,te,he,Oe,we,De,He,We,Ue,gt,je,Ye,bt,Tl,Nt,O,A,D,T,L,K,se,C,Z,$,B,Se,yt,i,s,r,u,o,a,h,_,m,d,f,c,p,v,R,z]}class as extends et{constructor(e){super(),tt(this,e,os,rs,lt,{clickNode:22,circledNode:23,selectedJewel:24,selectedConqueror:25,seed:26,highlighted:27,disabled:28},null,[-1,-1,-1])}}function Gt(l,e,t){const i=l.slice();return i[3]=e[t],i}function Kt(l,e,t){const i=l.slice();return i[6]=e[t],i}function Ht(l){let e,t=rt(l[6],l[3].stats[l[6]])+"",i;return{c(){e=y("li"),i=J(t)},l(n){e=E(n,"LI",{});var s=P(e);i=V(s,t),s.forEach(w)},m(n,s){M(n,e,s),b(e,i)},p(n,s){s&2&&t!==(t=rt(n[6],n[3].stats[n[6]])+"")&&_e(i,t)},d(n){n&&w(e)}}}function Wt(l){let e,t,i=$e.nodes[l[3].passive].name+"",n,s,r=l[3].passive+"",u,o,a,h,_,m=Object.keys(l[3].stats),d=[];for(let f=0;f<m.length;f+=1)d[f]=Ht(Kt(l,m,f));return{c(){e=y("div"),t=y("span"),n=J(i),s=J(" ("),u=J(r),o=J(")"),a=U(),h=y("ul");for(let f=0;f<d.length;f+=1)d[f].c();_=U(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=P(e);t=E(c,"SPAN",{});var p=P(t);n=V(p,i),s=V(p," ("),u=V(p,r),o=V(p,")"),p.forEach(w),a=j(c),h=E(c,"UL",{class:!0});var v=P(h);for(let R=0;R<d.length;R+=1)d[R].l(v);v.forEach(w),_=j(c),c.forEach(w),this.h()},h(){k(h,"class","list-disc pl-6 font-bold"),k(e,"class","mt-2")},m(f,c){M(f,e,c),b(e,t),b(t,n),b(t,s),b(t,u),b(t,o),b(e,a),b(e,h);for(let p=0;p<d.length;p+=1)d[p].m(h,null);b(e,_)},p(f,c){if(c&2&&i!==(i=$e.nodes[f[3].passive].name+"")&&_e(n,i),c&2&&r!==(r=f[3].passive+"")&&_e(u,r),c&2){m=Object.keys(f[3].stats);let p;for(p=0;p<m.length;p+=1){const v=Kt(f,m,p);d[p]?d[p].p(v,c):(d[p]=Ht(v),d[p].c(),d[p].m(h,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=m.length}},d(f){f&&w(e),_t(d,f)}}}function fs(l){let e,t,i,n=l[1].seed+"",s,r,u=l[1].weight+"",o,a,h,_,m,d=l[1].skills,f=[];for(let c=0;c<d.length;c+=1)f[c]=Wt(Gt(l,d,c));return{c(){e=y("div"),t=y("div"),i=J("Seed "),s=J(n),r=J(" (weight "),o=J(u),a=J(")"),h=U();for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=E(c,"DIV",{class:!0});var p=P(e);t=E(p,"DIV",{class:!0});var v=P(t);i=V(v,"Seed "),s=V(v,n),r=V(v," (weight "),o=V(v,u),a=V(v,")"),v.forEach(w),h=j(p);for(let R=0;R<f.length;R+=1)f[R].l(p);p.forEach(w),this.h()},h(){k(t,"class","font-bold text-orange-500 text-center"),k(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(c,p){M(c,e,p),b(e,t),b(t,i),b(t,s),b(t,r),b(t,o),b(t,a),b(e,h);for(let v=0;v<f.length;v+=1)f[v].m(e,null);_||(m=le(e,"click",l[2]),_=!0)},p(c,[p]){if(p&2&&n!==(n=c[1].seed+"")&&_e(s,n),p&2&&u!==(u=c[1].weight+"")&&_e(o,u),p&2){d=c[1].skills;let v;for(v=0;v<d.length;v+=1){const R=Gt(c,d,v);f[v]?f[v].p(R,p):(f[v]=Wt(R),f[v].c(),f[v].m(e,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=d.length}},i:Ke,o:Ke,d(c){c&&w(e),_t(f,c),_=!1,m()}}}function us(l,e,t){let{highlight:i}=e,{set:n}=e;const s=()=>i(n.seed,n.skills.map(r=>r.passive));return l.$$set=r=>{"highlight"in r&&t(0,i=r.highlight),"set"in r&&t(1,n=r.set)},[i,n,s]}class yl extends et{constructor(e){super(),tt(this,e,us,fs,lt,{highlight:0,set:1})}}const kt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},Fe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ut={OBSERVED:0,REQUESTED:1},cs={[Fe.VERTICAL]:"top",[Fe.HORIZONTAL]:"left"},Yt={[Fe.VERTICAL]:"scrollTop",[Fe.HORIZONTAL]:"scrollLeft"};class ds{constructor({itemSize:e,itemCount:t,estimatedItemSize:i}){this.itemSize=e,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:t,estimatedItemSize:i}){t!=null&&(this.itemCount=t),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:t}=this;return typeof t=="function"?t(e):Array.isArray(t)?t[e]:t}computeTotalSizeAndPositionData(){let e=0;for(let t=0;t<this.itemCount;t++){const i=this.getSize(t),n=e;e+=i,this.itemSizeAndPositionData[t]={offset:n,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const t=this.getSizeAndPositionOfLastMeasuredItem();let i=t.offset+t.size;for(let n=this.lastMeasuredIndex+1;n<=e;n++){const s=this.getSize(n);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${n} of value ${s}`);this.itemSizeAndPositionData[n]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=kt.START,containerSize:t,currentOffset:i,targetIndex:n}){if(t<=0)return 0;const s=this.getSizeAndPositionForIndex(n),r=s.offset,u=r-t+s.size;let o;switch(e){case kt.END:o=u;break;case kt.CENTER:o=r-(t-s.size)/2;break;case kt.START:o=r;break;default:o=Math.max(u,Math.min(r,i))}const a=this.getTotalSize();return Math.max(0,Math.min(a-t,o))}getVisibleRange({containerSize:e=0,offset:t,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=t+e;let r=this.findNearestItem(t);if(r===void 0)throw Error(`Invalid offset ${t} specified`);const u=this.getSizeAndPositionForIndex(r);t=u.offset+u.size;let o=r;for(;t<s&&o<this.itemCount-1;)o++,t+=this.getSizeAndPositionForIndex(o).size;return i&&(r=Math.max(0,r-i),o=Math.min(o+i,this.itemCount-1)),{start:r,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const t=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:t,offset:i}){let n=0,s=0;for(;e<=t;){if(n=e+Math.floor((t-e)/2),s=this.getSizeAndPositionForIndex(n).offset,s===i)return n;s<i?e=n+1:s>i&&(t=n-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:t}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<t;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:t})}}const hs=l=>({}),Xt=l=>({});function Qt(l,e,t){const i=l.slice();return i[37]=e[t],i}const ms=l=>({style:l[0]&4,index:l[0]&4}),Zt=l=>({style:l[37].style,index:l[37].index}),_s=l=>({}),xt=l=>({});function $t(l,e){let t,i;const n=e[21].item,s=ct(n,e,e[20],Zt);return{key:l,first:null,c(){t=ge(),s&&s.c(),this.h()},l(r){t=ge(),s&&s.l(r),this.h()},h(){this.first=t},m(r,u){M(r,t,u),s&&s.m(r,u),i=!0},p(r,u){e=r,s&&s.p&&(!i||u[0]&1048580)&&dt(s,n,e,e[20],i?mt(n,e[20],u,ms):ht(e[20]),Zt)},i(r){i||(F(s,r),i=!0)},o(r){G(s,r),i=!1},d(r){r&&w(t),s&&s.d(r)}}}function gs(l){let e,t,i,n=[],s=new Map,r,u;const o=l[21].header,a=ct(o,l,l[20],xt);let h=l[2];const _=f=>f[0]?f[0](f[37].index):f[37].index;for(let f=0;f<h.length;f+=1){let c=Qt(l,h,f),p=_(c);s.set(p,n[f]=$t(p,c))}const m=l[21].footer,d=ct(m,l,l[20],Xt);return{c(){e=y("div"),a&&a.c(),t=U(),i=y("div");for(let f=0;f<n.length;f+=1)n[f].c();r=U(),d&&d.c(),this.h()},l(f){e=E(f,"DIV",{class:!0,style:!0});var c=P(e);a&&a.l(c),t=j(c),i=E(c,"DIV",{class:!0,style:!0});var p=P(i);for(let v=0;v<n.length;v+=1)n[v].l(p);p.forEach(w),r=j(c),d&&d.l(c),c.forEach(w),this.h()},h(){k(i,"class","virtual-list-inner svelte-1d4hv8l"),k(i,"style",l[4]),k(e,"class","virtual-list-wrapper svelte-1d4hv8l"),k(e,"style",l[3])},m(f,c){M(f,e,c),a&&a.m(e,null),b(e,t),b(e,i);for(let p=0;p<n.length;p+=1)n[p].m(i,null);b(e,r),d&&d.m(e,null),l[22](e),u=!0},p(f,c){a&&a.p&&(!u||c[0]&1048576)&&dt(a,o,f,f[20],u?mt(o,f[20],c,_s):ht(f[20]),xt),c[0]&1048581&&(h=f[2],Je(),n=Dl(n,c,_,1,f,h,s,i,Jl,$t,null,Qt),Ve()),(!u||c[0]&16)&&k(i,"style",f[4]),d&&d.p&&(!u||c[0]&1048576)&&dt(d,m,f,f[20],u?mt(m,f[20],c,hs):ht(f[20]),Xt),(!u||c[0]&8)&&k(e,"style",f[3])},i(f){if(!u){F(a,f);for(let c=0;c<h.length;c+=1)F(n[c]);F(d,f),u=!0}},o(f){G(a,f);for(let c=0;c<n.length;c+=1)G(n[c]);G(d,f),u=!1},d(f){f&&w(e),a&&a.d(f);for(let c=0;c<n.length;c+=1)n[c].d();d&&d.d(f),l[22](null)}}}const ps=(()=>{let l=!1;try{const e=Object.defineProperty({},"passive",{get(){return l={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return l})();function ws(l,e,t){let{$$slots:i={},$$scope:n}=e,{height:s}=e,{width:r="100%"}=e,{itemCount:u}=e,{itemSize:o}=e,{estimatedItemSize:a=null}=e,{stickyIndices:h=null}=e,{getKey:_=null}=e,{scrollDirection:m=Fe.VERTICAL}=e,{scrollOffset:d=null}=e,{scrollToIndex:f=null}=e,{scrollToAlignment:c=null}=e,{scrollToBehaviour:p="instant"}=e,{overscanCount:v=3}=e;const R=Vl(),z=new ds({itemCount:u,itemSize:o,estimatedItemSize:N()});let O=!1,A,D=[],T={offset:d||f!=null&&D.length&&de(f)||0,scrollChangeReason:ut.REQUESTED},L=T,K={scrollToIndex:f,scrollToAlignment:c,scrollOffset:d,itemCount:u,itemSize:o,estimatedItemSize:a},se={},be="",ie="";$(),wl(()=>{t(18,O=!0),A.addEventListener("scroll",pe,ps),d!=null?W(d):f!=null&&W(de(f))}),At(()=>{O&&A.removeEventListener("scroll",pe)});function C(){if(!O)return;const I=K.scrollToIndex!==f||K.scrollToAlignment!==c,Q=K.itemCount!==u||K.itemSize!==o||K.estimatedItemSize!==a;Q&&(z.updateConfig({itemSize:o,itemCount:u,estimatedItemSize:N()}),Y()),K.scrollOffset!==d?t(19,T={offset:d||0,scrollChangeReason:ut.REQUESTED}):typeof f=="number"&&(I||Q)&&t(19,T={offset:de(f,c,u),scrollChangeReason:ut.REQUESTED}),K={scrollToIndex:f,scrollToAlignment:c,scrollOffset:d,itemCount:u,itemSize:o,estimatedItemSize:a}}function Z(){if(!O)return;const{offset:I,scrollChangeReason:Q}=T;(L.offset!==I||L.scrollChangeReason!==Q)&&$(),L.offset!==I&&Q===ut.REQUESTED&&W(I),L=T}function $(){const{offset:I}=T,{start:Q,stop:oe}=z.getVisibleRange({containerSize:m===Fe.VERTICAL?s:r,offset:I,overscanCount:v});let te=[];const he=z.getTotalSize();m===Fe.VERTICAL?(t(3,be=`height:${s}px;width:${r};`),t(4,ie=`flex-direction:column;height:${he}px;`)):(t(3,be=`height:${s};width:${r}px`),t(4,ie=`min-height:100%;width:${he}px;`));const Oe=h!=null&&h.length!==0;if(Oe)for(let we=0;we<h.length;we++){const De=h[we];te.push({index:De,style:B(De,!0)})}if(Q!==void 0&&oe!==void 0){for(let we=Q;we<=oe;we++)Oe&&h.includes(we)||te.push({index:we,style:B(we,!1)});R("itemsUpdated",{start:Q,end:oe})}t(2,D=te)}function W(I){"scroll"in A?A.scroll({[cs[m]]:I,behavior:p}):t(1,A[Yt[m]]=I,A)}function Y(I=0){se={},z.resetItem(I),$()}function de(I,Q=c,oe=u){return(I<0||I>=oe)&&(I=0),z.getUpdatedOffsetForIndex({align:Q,containerSize:m===Fe.VERTICAL?s:r,currentOffset:T.offset||0,targetIndex:I})}function pe(I){const Q=ee();Q<0||T.offset===Q||I.target!==A||(t(19,T={offset:Q,scrollChangeReason:ut.OBSERVED}),R("afterScroll",{offset:Q,event:I}))}function ee(){return A[Yt[m]]}function N(){return a||typeof o=="number"&&o||50}function B(I,Q){if(se[I])return se[I];const{size:oe,offset:te}=z.getSizeAndPositionForIndex(I);let he;return m===Fe.VERTICAL?(he=`left:0;width:100%;height:${oe}px;`,Q?he+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${te}px;margin-bottom:${-(te+oe)}px;`:he+=`position:absolute;top:${te}px;`):(he=`top:0;width:${oe}px;`,Q?he+=`position:sticky;z-index:1;left:0;margin-left:${te}px;margin-right:${-(te+oe)}px;`:he+=`position:absolute;height:100%;left:${te}px;`),se[I]=he}function H(I){nt[I?"unshift":"push"](()=>{A=I,t(1,A)})}return l.$$set=I=>{"height"in I&&t(5,s=I.height),"width"in I&&t(6,r=I.width),"itemCount"in I&&t(7,u=I.itemCount),"itemSize"in I&&t(8,o=I.itemSize),"estimatedItemSize"in I&&t(9,a=I.estimatedItemSize),"stickyIndices"in I&&t(10,h=I.stickyIndices),"getKey"in I&&t(0,_=I.getKey),"scrollDirection"in I&&t(11,m=I.scrollDirection),"scrollOffset"in I&&t(12,d=I.scrollOffset),"scrollToIndex"in I&&t(13,f=I.scrollToIndex),"scrollToAlignment"in I&&t(14,c=I.scrollToAlignment),"scrollToBehaviour"in I&&t(15,p=I.scrollToBehaviour),"overscanCount"in I&&t(16,v=I.overscanCount),"$$scope"in I&&t(20,n=I.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&29568&&C(),l.$$.dirty[0]&524288&&Z(),l.$$.dirty[0]&263264&&O&&Y(0)},[_,A,D,be,ie,s,r,u,o,a,h,m,d,f,c,p,v,Y,O,T,n,i,H]}class El extends et{constructor(e){super(),tt(this,e,ws,gs,lt,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function el(l,e,t){const i=l.slice();return i[7]=e[t],i}function bs(l){let e,t,i;return t=new El({props:{height:"auto",overscanCount:15,itemCount:l[0].raw.length,itemSize:l[0].raw.map(l[4]),$$slots:{item:[Ss,({style:n,index:s})=>({10:n,11:s}),({style:n,index:s})=>(n?1024:0)|(s?2048:0)]},$$scope:{ctx:l}}}),{c(){e=y("div"),ze(t.$$.fragment),this.h()},l(n){e=E(n,"DIV",{class:!0});var s=P(e);Ne(t.$$.fragment,s),s.forEach(w),this.h()},h(){k(e,"class","mt-4 flex flex-col overflow-auto")},m(n,s){M(n,e,s),Ce(t,e,null),i=!0},p(n,s){const r={};s&1&&(r.itemCount=n[0].raw.length),s&1&&(r.itemSize=n[0].raw.map(n[4])),s&7171&&(r.$$scope={dirty:s,ctx:n}),t.$set(r)},i(n){i||(F(t.$$.fragment,n),i=!0)},o(n){G(t.$$.fragment,n),i=!1},d(n){n&&w(e),Me(t)}}}function vs(l){let e,t,i=Object.keys(l[0].grouped).map(l[5]).sort(sl).reverse(),n=[];for(let r=0;r<i.length;r+=1)n[r]=ll(el(l,i,r));const s=r=>G(n[r],1,1,()=>{n[r]=null});return{c(){e=y("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var u=P(e);for(let o=0;o<n.length;o+=1)n[o].l(u);u.forEach(w),this.h()},h(){k(e,"class","flex flex-col overflow-auto")},m(r,u){M(r,e,u);for(let o=0;o<n.length;o+=1)n[o].m(e,null);t=!0},p(r,u){if(u&3099){i=Object.keys(r[0].grouped).map(r[5]).sort(sl).reverse();let o;for(o=0;o<i.length;o+=1){const a=el(r,i,o);n[o]?(n[o].p(a,u),F(n[o],1)):(n[o]=ll(a),n[o].c(),F(n[o],1),n[o].m(e,null))}for(Je(),o=i.length;o<n.length;o+=1)s(o);Ve()}},i(r){if(!t){for(let u=0;u<i.length;u+=1)F(n[u]);t=!0}},o(r){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)G(n[u]);t=!1},d(r){r&&w(e),_t(n,r)}}}function Ss(l){let e,t,i,n;return t=new yl({props:{set:l[0].raw[l[11]],highlight:l[1]}}),{c(){e=y("div"),ze(t.$$.fragment),this.h()},l(s){e=E(s,"DIV",{slot:!0,style:!0});var r=P(e);Ne(t.$$.fragment,r),r.forEach(w),this.h()},h(){k(e,"slot","item"),k(e,"style",i=l[10])},m(s,r){M(s,e,r),Ce(t,e,null),n=!0},p(s,r){const u={};r&2049&&(u.set=s[0].raw[s[11]]),r&2&&(u.highlight=s[1]),t.$set(u),(!n||r&1024&&i!==(i=s[10]))&&k(e,"style",i)},i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){G(t.$$.fragment,s),n=!1},d(s){s&&w(e),Me(t)}}}function tl(l){let e,t,i,n;return t=new El({props:{height:"auto",overscanCount:10,itemCount:l[0].grouped[l[7]].length,itemSize:l[0].grouped[l[7]].map(l[4]),$$slots:{item:[ks,({style:s,index:r})=>({10:s,11:r}),({style:s,index:r})=>(s?1024:0)|(r?2048:0)]},$$scope:{ctx:l}}}),{c(){e=y("div"),ze(t.$$.fragment),i=U(),this.h()},l(s){e=E(s,"DIV",{class:!0});var r=P(e);Ne(t.$$.fragment,r),i=j(r),r.forEach(w),this.h()},h(){k(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(s,r){M(s,e,r),Ce(t,e,null),b(e,i),n=!0},p(s,r){const u={};r&1&&(u.itemCount=s[0].grouped[s[7]].length),r&1&&(u.itemSize=s[0].grouped[s[7]].map(s[4])),r&7171&&(u.$$scope={dirty:r,ctx:s}),t.$set(u)},i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){G(t.$$.fragment,s),n=!1},d(s){s&&w(e),Me(t)}}}function ks(l){let e,t,i,n;return t=new yl({props:{set:l[0].grouped[l[7]][l[11]],highlight:l[1]}}),{c(){e=y("div"),ze(t.$$.fragment),this.h()},l(s){e=E(s,"DIV",{slot:!0,style:!0});var r=P(e);Ne(t.$$.fragment,r),r.forEach(w),this.h()},h(){k(e,"slot","item"),k(e,"style",i=l[10])},m(s,r){M(s,e,r),Ce(t,e,null),n=!0},p(s,r){const u={};r&2049&&(u.set=s[0].grouped[s[7]][s[11]]),r&2&&(u.highlight=s[1]),t.$set(u),(!n||r&1024&&i!==(i=s[10]))&&k(e,"style",i)},i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){G(t.$$.fragment,s),n=!1},d(s){s&&w(e),Me(t)}}}function ll(l){let e,t,i=l[7]+"",n,s,r=l[7]>1?"es":"",u,o,a=l[0].grouped[l[7]].length+"",h,_,m,d,f=l[3]===l[7]?"^":"V",c,p,v,R,z,O;function A(){return l[6](l[7])}let D=l[3]===l[7]&&tl(l);return{c(){e=y("button"),t=y("span"),n=J(i),s=J(" Match"),u=J(r),o=J(" ["),h=J(a),_=J("]"),m=U(),d=y("span"),c=J(f),p=U(),D&&D.c(),v=ge(),this.h()},l(T){e=E(T,"BUTTON",{class:!0});var L=P(e);t=E(L,"SPAN",{});var K=P(t);n=V(K,i),s=V(K," Match"),u=V(K,r),o=V(K," ["),h=V(K,a),_=V(K,"]"),K.forEach(w),m=j(L),d=E(L,"SPAN",{});var se=P(d);c=V(se,f),se.forEach(w),L.forEach(w),p=j(T),D&&D.l(T),v=ge(),this.h()},h(){k(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(T,L){M(T,e,L),b(e,t),b(t,n),b(t,s),b(t,u),b(t,o),b(t,h),b(t,_),b(e,m),b(e,d),b(d,c),M(T,p,L),D&&D.m(T,L),M(T,v,L),R=!0,z||(O=le(e,"click",A),z=!0)},p(T,L){l=T,(!R||L&1)&&i!==(i=l[7]+"")&&_e(n,i),(!R||L&1)&&r!==(r=l[7]>1?"es":"")&&_e(u,r),(!R||L&1)&&a!==(a=l[0].grouped[l[7]].length+"")&&_e(h,a),(!R||L&9)&&f!==(f=l[3]===l[7]?"^":"V")&&_e(c,f),l[3]===l[7]?D?(D.p(l,L),L&9&&F(D,1)):(D=tl(l),D.c(),F(D,1),D.m(v.parentNode,v)):D&&(Je(),G(D,1,1,()=>{D=null}),Ve())},i(T){R||(F(D),R=!0)},o(T){G(D),R=!1},d(T){T&&w(e),T&&w(p),D&&D.d(T),T&&w(v),z=!1,O()}}}function Is(l){let e,t,i,n;const s=[vs,bs],r=[];function u(o,a){return o[2]?0:1}return e=u(l),t=r[e]=s[e](l),{c(){t.c(),i=ge()},l(o){t.l(o),i=ge()},m(o,a){r[e].m(o,a),M(o,i,a),n=!0},p(o,[a]){let h=e;e=u(o),e===h?r[e].p(o,a):(Je(),G(r[h],1,1,()=>{r[h]=null}),Ve(),t=r[e],t?t.p(o,a):(t=r[e]=s[e](o),t.c()),F(t,1),t.m(i.parentNode,i))},i(o){n||(F(t),n=!0)},o(o){G(t),n=!1},d(o){r[e].d(o),o&&w(i)}}}const sl=(l,e)=>l-e;function ys(l,e,t){let{searchResults:i}=e,{highlight:n}=e,{groupResults:s=!0}=e;const r=h=>8+48+h.skills.reduce((_,m)=>_+32+Object.keys(m.stats).length*24,0);let u="";const o=h=>parseInt(h),a=h=>t(3,u=u===h?"":h);return l.$$set=h=>{"searchResults"in h&&t(0,i=h.searchResults),"highlight"in h&&t(1,n=h.highlight),"groupResults"in h&&t(2,s=h.groupResults)},[i,n,s,u,r,o,a]}class Es extends et{constructor(e){super(),tt(this,e,ys,Is,lt,{searchResults:0,highlight:1,groupResults:2})}}function il(l,e,t){const i=l.slice();return i[55]=e[t],i[56]=e,i[57]=t,i}function nl(l,e,t){const i=l.slice();return i[52]=e[t],i}function rl(l){let e,t,i,n=l[15]?"Config":"Results",s,r,u,o=l[15]&&ol(l);return{c(){e=y("div"),o&&o.c(),t=U(),i=y("button"),s=J(n),this.h()},l(a){e=E(a,"DIV",{class:!0});var h=P(e);o&&o.l(h),t=j(h),i=E(h,"BUTTON",{class:!0});var _=P(i);s=V(_,n),_.forEach(w),h.forEach(w),this.h()},h(){k(i,"class","bg-neutral-100/20 px-4 p-1 rounded"),k(e,"class","flex flex-row")},m(a,h){M(a,e,h),o&&o.m(e,null),b(e,t),b(e,i),b(i,s),r||(u=le(i,"click",l[36]),r=!0)},p(a,h){a[15]?o?o.p(a,h):(o=ol(a),o.c(),o.m(e,t)):o&&(o.d(1),o=null),h[0]&32768&&n!==(n=a[15]?"Config":"Results")&&_e(s,n)},d(a){a&&w(e),o&&o.d(),r=!1,u()}}}function ol(l){let e,t,i,n,s,r,u,o,a;return{c(){e=y("button"),t=J("Trade"),n=U(),s=y("button"),r=J("Grouped"),this.h()},l(h){e=E(h,"BUTTON",{class:!0});var _=P(e);t=V(_,"Trade"),_.forEach(w),n=j(h),s=E(h,"BUTTON",{class:!0});var m=P(s);r=V(m,"Grouped"),m.forEach(w),this.h()},h(){k(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!l[12],k(s,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-cwnj7u"),s.disabled=u=!l[12],it(s,"grouped",l[14])},m(h,_){M(h,e,_),b(e,t),M(h,n,_),M(h,s,_),b(s,r),o||(a=[le(e,"click",l[32]),le(s,"click",l[35])],o=!0)},p(h,_){_[0]&4096&&i!==(i=!h[12])&&(e.disabled=i),_[0]&4096&&u!==(u=!h[12])&&(s.disabled=u),_[0]&16384&&it(s,"grouped",h[14])},d(h){h&&w(e),h&&w(n),h&&w(s),o=!1,ot(a)}}}function al(l){let e,t,i,n,s;function r(a){l[37](a)}let u={items:l[19]};l[0]!==void 0&&(u.value=l[0]),e=new Pt({props:u}),nt.push(()=>vl(e,"value",r)),e.$on("select",l[25]);let o=l[0]&&fl(l);return{c(){ze(e.$$.fragment),i=U(),o&&o.c(),n=ge()},l(a){Ne(e.$$.fragment,a),i=j(a),o&&o.l(a),n=ge()},m(a,h){Ce(e,a,h),M(a,i,h),o&&o.m(a,h),M(a,n,h),s=!0},p(a,h){const _={};!t&&h[0]&1&&(t=!0,_.value=a[0],bl(()=>t=!1)),e.$set(_),a[0]?o?(o.p(a,h),h[0]&1&&F(o,1)):(o=fl(a),o.c(),F(o,1),o.m(n.parentNode,n)):o&&(Je(),G(o,1,1,()=>{o=null}),Ve())},i(a){s||(F(e.$$.fragment,a),F(o),s=!0)},o(a){G(e.$$.fragment,a),G(o),s=!1},d(a){Me(e,a),a&&w(i),o&&o.d(a),a&&w(n)}}}function fl(l){let e,t,i,n,s,r,u,o=l[1]&&window.TimelessJewelConquerors[l[0].value].indexOf(l[1].value)>=0,a,h;function _(f){l[38](f)}let m={items:l[18]};l[1]!==void 0&&(m.value=l[1]),s=new Pt({props:m}),nt.push(()=>vl(s,"value",_)),s.$on("select",l[21]);let d=o&&ul(l);return{c(){e=y("div"),t=y("h3"),i=J("Conqueror"),n=U(),ze(s.$$.fragment),u=U(),d&&d.c(),a=ge(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=P(e);t=E(c,"H3",{class:!0});var p=P(t);i=V(p,"Conqueror"),p.forEach(w),n=j(c),Ne(s.$$.fragment,c),c.forEach(w),u=j(f),d&&d.l(f),a=ge(),this.h()},h(){k(t,"class","mb-2"),k(e,"class","mt-4")},m(f,c){M(f,e,c),b(e,t),b(t,i),b(e,n),Ce(s,e,null),M(f,u,c),d&&d.m(f,c),M(f,a,c),h=!0},p(f,c){const p={};c[0]&262144&&(p.items=f[18]),!r&&c[0]&2&&(r=!0,p.value=f[1],bl(()=>r=!1)),s.$set(p),c[0]&3&&(o=f[1]&&window.TimelessJewelConquerors[f[0].value].indexOf(f[1].value)>=0),o?d?(d.p(f,c),c[0]&3&&F(d,1)):(d=ul(f),d.c(),F(d,1),d.m(a.parentNode,a)):d&&(Je(),G(d,1,1,()=>{d=null}),Ve())},i(f){h||(F(s.$$.fragment,f),F(d),h=!0)},o(f){G(s.$$.fragment,f),G(d),h=!1},d(f){f&&w(e),Me(s),f&&w(u),d&&d.d(f),f&&w(a)}}}function ul(l){let e,t,i,n,s,r,u,o,a,h,_,m,d,f;const c=[As,Ts],p=[];function v(z,O){return z[7]==="seed"?0:z[7]==="stats"?1:-1}~(o=v(l))&&(a=p[o]=c[o](l));let R=!l[3]&&gl();return{c(){e=y("div"),t=y("button"),i=J("Enter Seed"),n=U(),s=y("button"),r=J("Select Stats"),u=U(),a&&a.c(),h=U(),R&&R.c(),_=ge(),this.h()},l(z){e=E(z,"DIV",{class:!0});var O=P(e);t=E(O,"BUTTON",{class:!0});var A=P(t);i=V(A,"Enter Seed"),A.forEach(w),n=j(O),s=E(O,"BUTTON",{class:!0});var D=P(s);r=V(D,"Select Stats"),D.forEach(w),O.forEach(w),u=j(z),a&&a.l(z),h=j(z),R&&R.l(z),_=ge(),this.h()},h(){k(t,"class","selection-button svelte-cwnj7u"),it(t,"selected",l[7]==="seed"),k(s,"class","selection-button svelte-cwnj7u"),it(s,"selected",l[7]==="stats"),k(e,"class","mt-4 w-full flex flex-row")},m(z,O){M(z,e,O),b(e,t),b(t,i),b(e,n),b(e,s),b(s,r),M(z,u,O),~o&&p[o].m(z,O),M(z,h,O),R&&R.m(z,O),M(z,_,O),m=!0,d||(f=[le(t,"click",l[39]),le(s,"click",l[40])],d=!0)},p(z,O){O[0]&128&&it(t,"selected",z[7]==="seed"),O[0]&128&&it(s,"selected",z[7]==="stats");let A=o;o=v(z),o===A?~o&&p[o].p(z,O):(a&&(Je(),G(p[A],1,1,()=>{p[A]=null}),Ve()),~o?(a=p[o],a?a.p(z,O):(a=p[o]=c[o](z),a.c()),F(a,1),a.m(h.parentNode,h)):a=null),z[3]?R&&(R.d(1),R=null):R||(R=gl(),R.c(),R.m(_.parentNode,_))},i(z){m||(F(a),m=!0)},o(z){G(a),m=!1},d(z){z&&w(e),z&&w(u),~o&&p[o].d(z),z&&w(h),R&&R.d(z),z&&w(_),d=!1,ot(f)}}}function Ts(l){let e,t,i,n,s,r,u=Object.keys(l[4]).length>0,o,a,h={items:l[16]};s=new Pt({props:h}),l[43](s),s.$on("select",l[23]);let _=u&&cl(l);return{c(){e=y("div"),t=y("h3"),i=J("Add Stat"),n=U(),ze(s.$$.fragment),r=U(),_&&_.c(),o=ge(),this.h()},l(m){e=E(m,"DIV",{class:!0});var d=P(e);t=E(d,"H3",{class:!0});var f=P(t);i=V(f,"Add Stat"),f.forEach(w),n=j(d),Ne(s.$$.fragment,d),d.forEach(w),r=j(m),_&&_.l(m),o=ge(),this.h()},h(){k(t,"class","mb-2"),k(e,"class","mt-4")},m(m,d){M(m,e,d),b(e,t),b(t,i),b(e,n),Ce(s,e,null),M(m,r,d),_&&_.m(m,d),M(m,o,d),a=!0},p(m,d){const f={};d[0]&65536&&(f.items=m[16]),s.$set(f),d[0]&16&&(u=Object.keys(m[4]).length>0),u?_?_.p(m,d):(_=cl(m),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i(m){a||(F(s.$$.fragment,m),a=!0)},o(m){G(s.$$.fragment,m),a=!1},d(m){m&&w(e),l[43](null),Me(s),m&&w(r),_&&_.d(m),m&&w(o)}}}function As(l){let e,t,i,n,s,r,u,o,a,h,_,m,d=(l[2]<window.TimelessJewelSeedRanges[l[0].value].min||l[2]>window.TimelessJewelSeedRanges[l[0].value].max)&&hl(l),f=l[2]>=window.TimelessJewelSeedRanges[l[0].value].min&&l[2]<=window.TimelessJewelSeedRanges[l[0].value].max&&ml(l);return{c(){e=y("div"),t=y("h3"),i=J("Seed"),n=U(),s=y("input"),o=U(),d&&d.c(),a=U(),f&&f.c(),h=ge(),this.h()},l(c){e=E(c,"DIV",{class:!0});var p=P(e);t=E(p,"H3",{class:!0});var v=P(t);i=V(v,"Seed"),v.forEach(w),n=j(p),s=E(p,"INPUT",{type:!0,min:!0,max:!0}),o=j(p),d&&d.l(p),p.forEach(w),a=j(c),f&&f.l(c),h=ge(),this.h()},h(){k(t,"class","mb-2"),k(s,"type","number"),k(s,"min",r=window.TimelessJewelSeedRanges[l[0].value].min),k(s,"max",u=window.TimelessJewelSeedRanges[l[0].value].max),k(e,"class","mt-4")},m(c,p){M(c,e,p),b(e,t),b(t,i),b(e,n),b(e,s),Ge(s,l[2]),b(e,o),d&&d.m(e,null),M(c,a,p),f&&f.m(c,p),M(c,h,p),_||(m=[le(s,"input",l[41]),le(s,"blur",l[21])],_=!0)},p(c,p){p[0]&1&&r!==(r=window.TimelessJewelSeedRanges[c[0].value].min)&&k(s,"min",r),p[0]&1&&u!==(u=window.TimelessJewelSeedRanges[c[0].value].max)&&k(s,"max",u),p[0]&4&&qe(s.value)!==c[2]&&Ge(s,c[2]),c[2]<window.TimelessJewelSeedRanges[c[0].value].min||c[2]>window.TimelessJewelSeedRanges[c[0].value].max?d?d.p(c,p):(d=hl(c),d.c(),d.m(e,null)):d&&(d.d(1),d=null),c[2]>=window.TimelessJewelSeedRanges[c[0].value].min&&c[2]<=window.TimelessJewelSeedRanges[c[0].value].max?f?f.p(c,p):(f=ml(c),f.c(),f.m(h.parentNode,h)):f&&(f.d(1),f=null)},i:Ke,o:Ke,d(c){c&&w(e),d&&d.d(),c&&w(a),f&&f.d(c),c&&w(h),_=!1,ot(m)}}}function cl(l){let e,t,i,n,s,r,u,o,a,h,_,m,d,f,c,p,v,R,z,O,A,D,T,L,K,se,be,ie,C,Z,$,W=Object.keys(l[4]),Y=[];for(let N=0;N<W.length;N+=1)Y[N]=dl(il(l,W,N));function de(N,B){return N[10]?Rs:Ps}let pe=de(l),ee=pe(l);return{c(){e=y("div");for(let N=0;N<Y.length;N+=1)Y[N].c();t=U(),i=y("div"),n=y("div"),s=y("div"),r=J("Min Total Weight:"),u=U(),o=y("input"),a=U(),h=y("div"),_=y("div"),m=y("button"),d=J("Select All"),c=U(),p=y("button"),v=J("Notables"),z=U(),O=y("button"),A=J("Passives"),T=U(),L=y("button"),K=J("Deselect"),be=U(),ie=y("div"),C=y("button"),ee.c(),this.h()},l(N){e=E(N,"DIV",{class:!0});var B=P(e);for(let Ue=0;Ue<Y.length;Ue+=1)Y[Ue].l(B);B.forEach(w),t=j(N),i=E(N,"DIV",{class:!0});var H=P(i);n=E(H,"DIV",{class:!0});var I=P(n);s=E(I,"DIV",{class:!0});var Q=P(s);r=V(Q,"Min Total Weight:"),Q.forEach(w),u=j(I),o=E(I,"INPUT",{type:!0,min:!0}),I.forEach(w),H.forEach(w),a=j(N),h=E(N,"DIV",{class:!0});var oe=P(h);_=E(oe,"DIV",{class:!0});var te=P(_);m=E(te,"BUTTON",{class:!0});var he=P(m);d=V(he,"Select All"),he.forEach(w),c=j(te),p=E(te,"BUTTON",{class:!0});var Oe=P(p);v=V(Oe,"Notables"),Oe.forEach(w),z=j(te),O=E(te,"BUTTON",{class:!0});var we=P(O);A=V(we,"Passives"),we.forEach(w),T=j(te),L=E(te,"BUTTON",{class:!0});var De=P(L);K=V(De,"Deselect"),De.forEach(w),te.forEach(w),be=j(oe),ie=E(oe,"DIV",{class:!0});var He=P(ie);C=E(He,"BUTTON",{class:!0});var We=P(C);ee.l(We),We.forEach(w),He.forEach(w),oe.forEach(w),this.h()},h(){k(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),k(s,"class","mr-2 min-w-fit"),k(o,"type","number"),k(o,"min","0"),k(n,"class","flex flex-row items-center"),k(i,"class","flex flex-col mt-2"),k(m,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),m.disabled=f=l[10]||l[6].size==0,k(p,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),p.disabled=R=l[10]||l[6].size==0,k(O,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),O.disabled=D=l[10]||l[6].size==0,k(L,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),L.disabled=se=l[10]||l[6].size>=l[5].length,k(_,"class","flex flex-row"),k(C,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),C.disabled=l[10],k(ie,"class","flex flex-row mt-2"),k(h,"class","flex flex-col mt-4")},m(N,B){M(N,e,B);for(let H=0;H<Y.length;H+=1)Y[H].m(e,null);M(N,t,B),M(N,i,B),b(i,n),b(n,s),b(s,r),b(n,u),b(n,o),Ge(o,l[9]),M(N,a,B),M(N,h,B),b(h,_),b(_,m),b(m,d),b(_,c),b(_,p),b(p,v),b(_,z),b(_,O),b(O,A),b(_,T),b(_,L),b(L,K),b(h,be),b(h,ie),b(ie,C),ee.m(C,null),Z||($=[le(o,"input",l[47]),le(m,"click",l[28]),le(p,"click",l[29]),le(O,"click",l[30]),le(L,"click",l[31]),le(C,"click",l[48])],Z=!0)},p(N,B){if(B[0]&16777232){W=Object.keys(N[4]);let H;for(H=0;H<W.length;H+=1){const I=il(N,W,H);Y[H]?Y[H].p(I,B):(Y[H]=dl(I),Y[H].c(),Y[H].m(e,null))}for(;H<Y.length;H+=1)Y[H].d(1);Y.length=W.length}B[0]&512&&qe(o.value)!==N[9]&&Ge(o,N[9]),B[0]&1088&&f!==(f=N[10]||N[6].size==0)&&(m.disabled=f),B[0]&1088&&R!==(R=N[10]||N[6].size==0)&&(p.disabled=R),B[0]&1088&&D!==(D=N[10]||N[6].size==0)&&(O.disabled=D),B[0]&1120&&se!==(se=N[10]||N[6].size>=N[5].length)&&(L.disabled=se),pe===(pe=de(N))&&ee?ee.p(N,B):(ee.d(1),ee=pe(N),ee&&(ee.c(),ee.m(C,null))),B[0]&1024&&(C.disabled=N[10])},d(N){N&&w(e),_t(Y,N),N&&w(t),N&&w(i),N&&w(a),N&&w(h),ee.d(),Z=!1,ot($)}}}function dl(l){let e,t,i,n,s,r,u=rt(l[4][l[55]].id)+"",o,a,h,_,m,d,f,c,p,v,R,z,O,A,D,T,L;function K(){return l[44](l[55])}function se(){l[45].call(c,l[55])}function be(){l[46].call(A,l[55])}return{c(){e=y("div"),t=y("div"),i=y("button"),n=J("-"),s=U(),r=y("span"),o=J(u),a=U(),h=y("div"),_=y("div"),m=y("div"),d=J("Min:"),f=U(),c=y("input"),p=U(),v=y("div"),R=y("div"),z=J("Weight:"),O=U(),A=y("input"),D=U(),this.h()},l(ie){e=E(ie,"DIV",{class:!0});var C=P(e);t=E(C,"DIV",{});var Z=P(t);i=E(Z,"BUTTON",{class:!0});var $=P(i);n=V($,"-"),$.forEach(w),s=j(Z),r=E(Z,"SPAN",{});var W=P(r);o=V(W,u),W.forEach(w),Z.forEach(w),a=j(C),h=E(C,"DIV",{class:!0});var Y=P(h);_=E(Y,"DIV",{class:!0});var de=P(_);m=E(de,"DIV",{class:!0});var pe=P(m);d=V(pe,"Min:"),pe.forEach(w),f=j(de),c=E(de,"INPUT",{type:!0,min:!0}),de.forEach(w),p=j(Y),v=E(Y,"DIV",{class:!0});var ee=P(v);R=E(ee,"DIV",{class:!0});var N=P(R);z=V(N,"Weight:"),N.forEach(w),O=j(ee),A=E(ee,"INPUT",{type:!0,min:!0}),ee.forEach(w),Y.forEach(w),D=j(C),C.forEach(w),this.h()},h(){k(i,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),k(m,"class","mr-2"),k(c,"type","number"),k(c,"min","0"),k(_,"class","mr-4 flex flex-row items-center"),k(R,"class","mr-2"),k(A,"type","number"),k(A,"min","0"),k(v,"class","flex flex-row items-center"),k(h,"class","mt-2 flex flex-row"),k(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(ie,C){M(ie,e,C),b(e,t),b(t,i),b(i,n),b(t,s),b(t,r),b(r,o),b(e,a),b(e,h),b(h,_),b(_,m),b(m,d),b(_,f),b(_,c),Ge(c,l[4][l[55]].min),b(h,p),b(h,v),b(v,R),b(R,z),b(v,O),b(v,A),Ge(A,l[4][l[55]].weight),b(e,D),T||(L=[le(i,"click",K),le(c,"input",se),le(A,"input",be)],T=!0)},p(ie,C){l=ie,C[0]&16&&u!==(u=rt(l[4][l[55]].id)+"")&&_e(o,u),C[0]&16&&qe(c.value)!==l[4][l[55]].min&&Ge(c,l[4][l[55]].min),C[0]&16&&qe(A.value)!==l[4][l[55]].weight&&Ge(A,l[4][l[55]].weight)},d(ie){ie&&w(e),T=!1,ot(L)}}}function Ps(l){let e;return{c(){e=J("Search")},l(t){e=V(t,"Search")},m(t,i){M(t,e,i)},p:Ke,d(t){t&&w(e)}}}function Rs(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].max+"",n;return{c(){e=J(l[11]),t=J(" / "),n=J(i)},l(s){e=V(s,l[11]),t=V(s," / "),n=V(s,i)},m(s,r){M(s,e,r),M(s,t,r),M(s,n,r)},p(s,r){r[0]&2048&&_e(e,s[11]),r[0]&1&&i!==(i=window.TimelessJewelSeedRanges[s[0].value].max+"")&&_e(n,i)},d(s){s&&w(e),s&&w(t),s&&w(n)}}}function hl(l){let e,t,i=window.TimelessJewelSeedRanges[l[0].value].min+"",n,s,r=window.TimelessJewelSeedRanges[l[0].value].max+"",u;return{c(){e=y("div"),t=J("Seed must be between "),n=J(i),s=J(`
                    and `),u=J(r),this.h()},l(o){e=E(o,"DIV",{class:!0});var a=P(e);t=V(a,"Seed must be between "),n=V(a,i),s=V(a,`
                    and `),u=V(a,r),a.forEach(w),this.h()},h(){k(e,"class","mt-2")},m(o,a){M(o,e,a),b(e,t),b(e,n),b(e,s),b(e,u)},p(o,a){a[0]&1&&i!==(i=window.TimelessJewelSeedRanges[o[0].value].min+"")&&_e(n,i),a[0]&1&&r!==(r=window.TimelessJewelSeedRanges[o[0].value].max+"")&&_e(u,r)},d(o){o&&w(e)}}}function ml(l){let e,t=l[33](l[17]),i=[];for(let n=0;n<t.length;n+=1)i[n]=_l(nl(l,t,n));return{c(){e=y("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=E(n,"UL",{class:!0});var s=P(e);for(let r=0;r<i.length;r+=1)i[r].l(s);s.forEach(w),this.h()},h(){k(e,"class","mt-4 overflow-auto")},m(n,s){M(n,e,s);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(n,s){if(s[0]&134348804|s[1]&4){t=n[33](n[17]);let r;for(r=0;r<t.length;r+=1){const u=nl(n,t,r);i[r]?i[r].p(u,s):(i[r]=_l(u),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},d(n){n&&w(e),_t(i,n)}}}function _l(l){let e,t,i,n=l[52].passives.length+"",s,r,u,o=l[52].stat+"",a,h,_,m;function d(){return l[42](l[52])}return{c(){e=y("li"),t=y("span"),i=J("("),s=J(n),r=J(")"),u=U(),a=J(o),h=U(),this.h()},l(f){e=E(f,"LI",{class:!0});var c=P(e);t=E(c,"SPAN",{class:!0});var p=P(t);i=V(p,"("),s=V(p,n),r=V(p,")"),p.forEach(w),u=j(c),a=V(c,o),h=j(c),c.forEach(w),this.h()},h(){k(t,"class","font-bold"),k(e,"class","cursor-pointer")},m(f,c){M(f,e,c),b(e,t),b(t,i),b(t,s),b(t,r),b(e,u),b(e,a),b(e,h),_||(m=le(e,"click",d),_=!0)},p(f,c){l=f,c[0]&131072&&n!==(n=l[52].passives.length+"")&&_e(s,n),c[0]&131072&&o!==(o=l[52].stat+"")&&_e(a,o)},d(f){f&&w(e),_=!1,m()}}}function gl(l){let e,t;return{c(){e=y("h2"),t=J("Click on a jewel socket"),this.h()},l(i){e=E(i,"H2",{class:!0});var n=P(e);t=V(n,"Click on a jewel socket"),n.forEach(w),this.h()},h(){k(e,"class","mt-4")},m(i,n){M(i,e,n),b(e,t)},d(i){i&&w(e)}}}function pl(l){let e,t;return e=new Es({props:{searchResults:l[12],groupResults:l[14],highlight:l[27]}}),{c(){ze(e.$$.fragment)},l(i){Ne(e.$$.fragment,i)},m(i,n){Ce(e,i,n),t=!0},p(i,n){const s={};n[0]&4096&&(s.searchResults=i[12]),n[0]&16384&&(s.groupResults=i[14]),e.$set(s)},i(i){t||(F(e.$$.fragment,i),t=!0)},o(i){G(e.$$.fragment,i),t=!1},d(i){Me(e,i)}}}function zs(l){let e,t,i,n,s=l[15]?"Results":"Timeless Jewel",r,u,o,a,h,_=l[12]&&rl(l),m=!l[15]&&al(l),d=l[12]&&l[15]&&pl(l);return{c(){e=y("div"),t=y("div"),i=y("div"),n=y("h3"),r=J(s),u=U(),_&&_.c(),o=U(),m&&m.c(),a=U(),d&&d.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=P(e);t=E(c,"DIV",{class:!0});var p=P(t);i=E(p,"DIV",{class:!0});var v=P(i);n=E(v,"H3",{class:!0});var R=P(n);r=V(R,s),R.forEach(w),u=j(v),_&&_.l(v),v.forEach(w),o=j(p),m&&m.l(p),a=j(p),d&&d.l(p),p.forEach(w),c.forEach(w),this.h()},h(){k(n,"class","flex-grow"),k(i,"class","flex flex-row justify-between mb-2"),k(t,"class","p-4 max-h-screen flex flex-col"),k(e,"class","w-1/2 xl:w-1/3 2xl:w-1/4 3xl:w-1/5 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(f,c){M(f,e,c),b(e,t),b(t,i),b(i,n),b(n,r),b(i,u),_&&_.m(i,null),b(t,o),m&&m.m(t,null),b(t,a),d&&d.m(t,null),h=!0},p(f,c){(!h||c[0]&32768)&&s!==(s=f[15]?"Results":"Timeless Jewel")&&_e(r,s),f[12]?_?_.p(f,c):(_=rl(f),_.c(),_.m(i,null)):_&&(_.d(1),_=null),f[15]?m&&(Je(),G(m,1,1,()=>{m=null}),Ve()):m?(m.p(f,c),c[0]&32768&&F(m,1)):(m=al(f),m.c(),F(m,1),m.m(t,a)),f[12]&&f[15]?d?(d.p(f,c),c[0]&36864&&F(d,1)):(d=pl(f),d.c(),F(d,1),d.m(t,null)):d&&(Je(),G(d,1,1,()=>{d=null}),Ve())},i(f){h||(F(m),F(d),h=!0)},o(f){G(m),G(d),h=!1},d(f){f&&w(e),_&&_.d(),m&&m.d(),d&&d.d()}}}function Ns(l){var i,n;let e,t;return e=new as({props:{clickNode:l[20],circledNode:l[3],selectedJewel:(i=l[0])==null?void 0:i.value,selectedConqueror:(n=l[1])==null?void 0:n.value,highlighted:l[13],seed:l[2],disabled:[...l[6]],$$slots:{default:[zs]},$$scope:{ctx:l}}}),{c(){ze(e.$$.fragment)},l(s){Ne(e.$$.fragment,s)},m(s,r){Ce(e,s,r),t=!0},p(s,r){var o,a;const u={};r[0]&8&&(u.circledNode=s[3]),r[0]&1&&(u.selectedJewel=(o=s[0])==null?void 0:o.value),r[0]&2&&(u.selectedConqueror=(a=s[1])==null?void 0:a.value),r[0]&8192&&(u.highlighted=s[13]),r[0]&4&&(u.seed=s[2]),r[0]&64&&(u.disabled=[...s[6]]),r[0]&516095|r[1]&134217728&&(u.$$scope={dirty:r,ctx:s}),e.$set(u)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){Me(e,s)}}}function Cs(l,e,t){let i,n,s,r,u,o;Ee(l,Wl,S=>t(49,o=S));const a=o.url.searchParams,h=Object.keys(window.TimelessJewels).map(S=>({value:parseInt(S),label:window.TimelessJewels[S]}));let _=a.has("jewel")?h.find(S=>S.value==a.get("jewel")):void 0,m=a.has("conqueror")?{value:a.get("conqueror"),label:a.get("conqueror")}:void 0,d=a.has("seed")?parseInt(a.get("seed")):0,f=a.has("location")?parseInt(a.get("location")):void 0,c=new Set;const p=S=>{S.isJewelSocket?(t(3,f=S.skill),v()):S.isMastery||(c.has(S.skill)?c.delete(S.skill):c.add(S.skill),t(6,c))},v=()=>{const S=new URL(window.location.origin+window.location.pathname);_&&S.searchParams.append("jewel",_.value.toString()),m&&S.searchParams.append("conqueror",m.value),d&&S.searchParams.append("seed",d.toString()),f&&S.searchParams.append("location",f.toString()),R&&S.searchParams.append("mode",R),Object.keys(A).forEach(X=>{S.searchParams.append("stat",X.toString())}),Hl(S.toString())};let R=a.has("mode")?a.get("mode"):"";const z=S=>{t(7,R=S),v()};let O=JSON.parse(window.PossibleStats),A={};a.has("stat")&&a.getAll("stat").map(S=>{const X=parseInt(S);t(4,A[X]={weight:1,min:0,id:X},A)});let D;const T=S=>{t(4,A[S.detail.value]={weight:1,min:0,id:S.detail.value},A),t(4,A),D.handleClear(),v()},L=S=>{delete A[S],t(4,A),v()},K=()=>{t(4,A={}),v()};let se=0,be=!1,ie=0,C;const Z=()=>{if(!f)return;t(10,be=!0),t(12,C=void 0);const S={jewel:_.value,conqueror:m.value,nodes:n.filter(X=>!c.has(X.skill)).map(X=>window.TreeToPassive[X.skill]),stats:Object.keys(A).map(X=>A[X]),minTotalWeight:se};ql.search(S,Gl(X=>t(11,ie=X))).then(X=>{t(12,C=X),t(10,be=!1),t(15,H=!0)})};let $=[];const W=(S,X)=>{t(2,d=S),t(13,$=X),v()},Y=()=>{c.clear(),t(6,c)},de=()=>{n.forEach(S=>{S.isNotable&&c.delete(S.skill)}),t(6,c)},pe=()=>{n.forEach(S=>{S.isNotable||c.delete(S.skill)}),t(6,c)},ee=()=>{n.filter(S=>!S.isJewelSocket&&!S.isMastery).forEach(S=>c.add(S.skill)),t(6,c)},N=()=>{const S=new URL("https://www.pathofexile.com/trade/search/Sentinel");S.searchParams.set("q",JSON.stringify(Kl(_.value,m.value,C.raw))),window.open(S,"_blank")};let B=!0,H=!1;const I=S=>{const X={};return S.forEach(ke=>{if("alternatePassiveSkill"in ke.result){const je=GetAlternatePassiveSkillByIndex(ke.result.alternatePassiveSkill);"statsKeys"in je&&je.statsKeys.forEach(Ye=>{X[Ye]=[...X[Ye]||[],ke.node]})}"alternatePassiveAdditionInformations"in ke.result&&ke.result.alternatePassiveAdditionInformations.forEach(je=>{const Ye=GetAlternatePassiveAdditionByIndex(je.alternatePassiveSkillAddition);"statsKeys"in Ye&&Ye.statsKeys.forEach(bt=>{X[bt]=[...X[bt]||[],ke.node]})})}),Object.keys(X).map(ke=>({stat:rt(parseInt(ke)),passives:X[ke]})).sort((ke,je)=>je.passives.length-ke.passives.length)},Q=()=>t(14,B=!B),oe=()=>t(15,H=!H);function te(S){_=S,t(0,_)}function he(S){m=S,t(1,m)}const Oe=()=>z("seed"),we=()=>z("stats");function De(){d=qe(this.value),t(2,d)}const He=S=>W(d,S.passives);function We(S){nt[S?"unshift":"push"](()=>{D=S,t(8,D)})}const Ue=S=>L(A[S].id);function gt(S){A[S].min=qe(this.value),t(4,A)}function Se(S){A[S].weight=qe(this.value),t(4,A)}function pt(){se=qe(this.value),t(9,se)}const wt=()=>Z();return l.$$.update=()=>{l.$$.dirty[0]&1&&t(18,i=_?window.TimelessJewelConquerors[_.value].map(S=>({value:S,label:S})):[]),l.$$.dirty[0]&8&&t(5,n=f?Bl($e.nodes[f]).filter(S=>!S.isJewelSocket&&!S.isMastery):[]),l.$$.dirty[0]&39&&t(17,s=!d||!_||!m||window.TimelessJewelConquerors[_.value].indexOf(m.value)<0?[]:n.map(S=>({node:S.skill,result:Calculate(TreeToPassive[S.skill],d,_.value,m.value)}))),l.$$.dirty[0]&1&&t(34,r=_?Object.keys(O[_.value]):[]),l.$$.dirty[0]&16|l.$$.dirty[1]&8&&t(16,u=r.map(S=>{const X=parseInt(S);return{label:rt(X),value:X}}).filter(S=>!(S.value in A)))},[_,m,d,f,A,n,c,R,D,se,be,ie,C,$,B,H,u,s,i,h,p,v,z,T,L,K,Z,W,Y,de,pe,ee,N,I,r,Q,oe,te,he,Oe,we,De,He,We,Ue,gt,Se,pt,wt]}class Ls extends et{constructor(e){super(),tt(this,e,Cs,Ns,lt,{},null,[-1,-1])}}export{Ls as default};
