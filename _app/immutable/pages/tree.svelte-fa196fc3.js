import{a9 as ml,R as se,aa as _l,S as ze,i as Ke,s as We,I as xt,e as A,k as j,c as J,a as M,d as b,m as B,b as N,f as lt,g as V,ab as pl,J as $t,K as el,L as tl,q as L,o as H,r as wl,v as gl,ac as ll,N as Le,E as Ee,a8 as bl,w as Je,x as Me,y as Re,M as g,B as Ce,l as ve,n as qe,p as Ue,G as Xe,V as ce,ad as vl,t as D,h as O,j as _e,U as He,O as sl,P as il,W as et,T as Ve,Q as Fe}from"../chunks/index-9dce7d4e.js";import{r as kl,d as Sl}from"../chunks/index-69a3444d.js";import{g as we,b as yl,a as Ie,d as nt,t as yt,c as Ae,o as It,e as tt,f as Et,i as Pt,h as Nt,j as Il,k as Tt,m as Ye,n as At,s as El,p as Pl,q as Nl}from"../chunks/worker-99d44a8f.js";import{S as ot,g as Tl,p as Al}from"../chunks/stores-abc55b13.js";import"../chunks/singletons-d1fb5791.js";const Jl=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function Ml(){const l=ml();return e=>{const t=Jl.map(s=>se(e,s,r=>_l(l,r)));return{destroy:()=>t.forEach(s=>s())}}}class Rl{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:t}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,t),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:t,context:s,width:r,height:i}){const n={context:s,width:r,height:i};if(this.needsResize&&(s.setTransform(t,0,0,t,0,0),this.needsResize=!1),this.needsSetup){for(const[c,h]of this.setups)h(n),this.setups.delete(c);this.needsSetup=!1}if(this.needsRedraw){e&&s.clearRect(0,0,r,i);for(const c of this.layerSequence)this.renderers.get(c)(n);this.needsRedraw=!1}}}function Cl(l){let e,t,s,r,i,n,c,h,u;const w=l[13].default,d=xt(w,l,l[12],null);return{c(){e=A("canvas"),i=j(),n=A("div"),d&&d.c(),this.h()},l(o){e=J(o,"CANVAS",{style:!0,width:!0,height:!0}),M(e).forEach(b),i=B(o),n=J(o,"DIV",{style:!0});var a=M(n);d&&d.l(a),a.forEach(b),this.h()},h(){N(e,"style",t="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")),N(e,"width",s=l[1]*l[0]),N(e,"height",r=l[2]*l[0]),lt(n,"display","none")},m(o,a){V(o,e,a),l[14](e),V(o,i,a),V(o,n,a),d&&d.m(n,null),l[15](n),c=!0,h||(u=pl(l[6].call(null,e)),h=!0)},p(o,[a]){(!c||a&14&&t!==(t="display: block; width: "+o[1]+"px; height: "+o[2]+"px;"+(o[3]?` ${o[3]}`:"")))&&N(e,"style",t),(!c||a&3&&s!==(s=o[1]*o[0]))&&N(e,"width",s),(!c||a&5&&r!==(r=o[2]*o[0]))&&N(e,"height",r),d&&d.p&&(!c||a&4096)&&$t(d,w,o,o[12],c?tl(w,o[12],a,null):el(o[12]),null)},i(o){c||(L(d,o),c=!0)},o(o){H(d,o),c=!1},d(o){o&&b(e),l[14](null),o&&b(i),o&&b(n),d&&d.d(o),l[15](null),h=!1,u()}}}const nl={};function Dl(l,e,t){let{$$slots:s={},$$scope:r}=e,{width:i=640,height:n=640,pixelRatio:c=void 0,style:h=null,autoclear:u=!0}=e,w,d,o,a,p;const m=Ml(),S=new Rl;function I(){S.redraw()}function E(){return w}function _(){return d}c===void 0&&(typeof window=="undefined"?c=2:c=window.devicePixelRatio);function P(){S.render({context:d,width:i,height:n,pixelRatio:c,autoclear:u}),o=window.requestAnimationFrame(P)}wl(nl,{register:S.register,unregister:S.unregister,redraw:S.redraw}),gl(()=>{d=w.getContext("2d"),p=new MutationObserver(R),p.observe(a,{childList:!0}),R(),P();function R(){const W=[...a.children].map(z=>+z.dataset.layerId);t(11,S.layerSequence=W,S),S.redraw()}}),ll(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(o),p.disconnect())});function T(R){Le[R?"unshift":"push"](()=>{w=R,t(4,w)})}function C(R){Le[R?"unshift":"push"](()=>{a=R,t(5,a)})}return l.$$set=R=>{"width"in R&&t(1,i=R.width),"height"in R&&t(2,n=R.height),"pixelRatio"in R&&t(0,c=R.pixelRatio),"style"in R&&t(3,h=R.style),"autoclear"in R&&t(7,u=R.autoclear),"$$scope"in R&&t(12,r=R.$$scope)},l.$$.update=()=>{l.$$.dirty&2183&&S.resize()},[c,i,n,h,w,a,m,u,I,E,_,S,r,s,T,C]}class Ol extends ze{constructor(e){super(),Ke(this,e,Dl,Cl,We,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function Fl(l){let e;return{c(){e=A("div"),this.h()},l(t){e=J(t,"DIV",{"data-layer-id":!0}),M(e).forEach(b),this.h()},h(){N(e,"data-layer-id",l[0])},m(t,s){V(t,e,s)},p:Ee,i:Ee,o:Ee,d(t){t&&b(e)}}}function Vl(l,e,t){const{register:s,unregister:r,redraw:i}=bl(nl);let{setup:n=void 0,render:c=()=>{}}=e;if(typeof n!="function"&&n!==void 0)throw new Error("setup must be a function");if(typeof c!="function")throw new Error("render must be a function");const h=s({setup:n,render:c});return ll(()=>r(h)),l.$$set=u=>{"setup"in u&&t(1,n=u.setup),"render"in u&&t(2,c=u.render)},l.$$.update=()=>{l.$$.dirty&4&&i()},[h,n,c]}class ql extends ze{constructor(e){super(),Ke(this,e,Vl,Fl,We,{setup:1,render:2})}}let Jt;const rl=Date.now();function ol(l){return l(Date.now()-rl),Jt=window.requestAnimationFrame(()=>ol(l)),()=>window.cancelAnimationFrame(Jt)}function Ul(){}var jl=kl(Date.now()-rl,typeof window=="undefined"?Ul:ol);const{window:rt}=vl;function Mt(l){let e,t,s,r,i,n;t=new Ol({props:{width:l[0],height:l[1],$$slots:{default:[Bl]},$$scope:{ctx:l}}}),t.$on("pointerdown",l[17]),t.$on("wheel",l[20]);const c=l[49].default,h=xt(c,l,l[50],null);return{c(){e=A("div"),Je(t.$$.fragment),s=j(),h&&h.c(),this.h()},l(u){e=J(u,"DIV",{style:!0});var w=M(e);Me(t.$$.fragment,w),s=B(w),h&&h.l(w),w.forEach(b),this.h()},h(){lt(e,"touch-action","none"),lt(e,"cursor",l[2])},m(u,w){V(u,e,w),Re(t,e,null),g(e,s),h&&h.m(e,null),r=!0,i||(n=se(e,"resize",l[21]),i=!0)},p(u,w){const d={};w[0]&1&&(d.width=u[0]),w[0]&2&&(d.height=u[1]),w[0]&8|w[1]&524288&&(d.$$scope={dirty:w,ctx:u}),t.$set(d),h&&h.p&&(!r||w[1]&524288)&&$t(h,c,u,u[50],r?tl(c,u[50],w,null):el(u[50]),null),(!r||w[0]&4)&&lt(e,"cursor",u[2])},i(u){r||(L(t.$$.fragment,u),L(h,u),r=!0)},o(u){H(t.$$.fragment,u),H(h,u),r=!1},d(u){u&&b(e),Ce(t),h&&h.d(u),i=!1,n()}}}function Bl(l){let e,t;return e=new ql({props:{render:l[3]}}),{c(){Je(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,r){Re(e,s,r),t=!0},p(s,r){const i={};r[0]&8&&(i.render=s[3]),e.$set(i)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){Ce(e,s)}}}function Gl(l){let e,t,s,r,i=l[0]&&l[1]&&Mt(l);return{c(){i&&i.c(),e=ve()},l(n){i&&i.l(n),e=ve()},m(n,c){i&&i.m(n,c),V(n,e,c),t=!0,s||(r=[se(rt,"pointerup",l[18]),se(rt,"pointermove",l[19]),se(rt,"resize",l[21])],s=!0)},p(n,c){n[0]&&n[1]?i?(i.p(n,c),c[0]&3&&L(i,1)):(i=Mt(n),i.c(),L(i,1),i.m(e.parentNode,e)):i&&(qe(),H(i,1,1,()=>{i=null}),Ue())},i(n){t||(L(i),t=!0)},o(n){H(i),t=!1},d(n){i&&i.d(n),n&&b(e),s=!1,Xe(r)}}}const Rt="25px Roboto Mono",Ct="17px Roboto Mono",Oe=2.6;function Ll(l,e,t){let s,r,i,n,c,h,u,w,d,o,a,p,m,S,I,{$$slots:E={},$$scope:_}=e,{clickNode:P}=e,{circledNode:T}=e,{selectedJewel:C}=e,{selectedConqueror:R}=e,{seed:W}=e,{highlighted:z=[]}=e,{disabled:U=[]}=e;const y=Sl(jl,f=>!z||!z.length?0:Math.round(f/40));ce(l,y,f=>t(36,i=f));const q=[427,320,226,227,323,422,329];let v=10,Y=0,Q=0;const Z=(f,$,he)=>{const x=$.width/v*Oe,K=$.height/v*Oe,ee=he.x-x/2,fe=he.y-K/2;f.drawImage($,ee,fe,x,K)},ge=(f,$,he)=>{const x=$.width/v*Oe,K=$.height/v*Oe,ee=he.x-x/2,fe=he.y-K/2,Pe=fe-K/2;f.drawImage($,ee,Pe,x,K),f.save(),f.translate(ee,fe),f.rotate(Math.PI),f.drawImage($,-x,-(K/2),x,-K),f.restore()},re={},ke={},be=(f,$,he,x=!1)=>{let K=x?Il[$]:Tt[$];!K&&x&&(K=Tt[$]);const ee=K.filename;ee in(x?ke:re)||((x?ke:re)[ee]=new Image,(x?ke:re)[ee].src=ee);const fe=K.coords[$],Pe=fe.w/v*Oe,$e=fe.h/v*Oe,ue=he.x-Pe/2,F=he.y-$e/2;f.drawImage((x?ke:re)[ee],fe.x,fe.y,fe.w,fe.h,ue,F,Pe,$e)},De=(f,$,he)=>{const x=[];let K="";return f.split(" ").forEach(ee=>{$.measureText(K+ee).width<he?K+=" "+ee:(x.push(K.trim()),K=ee)}),K.length>0&&x.push(K.trim()),x};let oe={x:Number.MIN_VALUE,y:Number.MIN_VALUE},je="unset";const Qe=we("PSGroupBackground1");ce(l,Qe,f=>t(48,I=f));const Ze=we("PSGroupBackground2");ce(l,Ze,f=>t(47,S=f));const xe=we("PSGroupBackground3");ce(l,xe,f=>t(46,m=f));const k=we("KeystoneFrameAllocated");ce(l,k,f=>t(45,p=f));const ae=we("KeystoneFrameUnallocated");ce(l,ae,f=>t(44,a=f));const ie=we("NotableFrameAllocated");ce(l,ie,f=>t(43,o=f));const at=we("NotableFrameUnallocated");ce(l,at,f=>t(42,d=f));const ft=we("JewelSocketAltNormal");ce(l,ft,f=>t(41,w=f));const ut=we("JewelFrameAllocated");ce(l,ut,f=>t(40,u=f));const ct=we("JewelFrameUnallocated");ce(l,ct,f=>t(39,h=f));const dt=we("PSSkillFrameActive");ce(l,dt,f=>t(38,c=f));const ht=we("PSSkillFrame");ce(l,ht,f=>t(37,n=f));let de,mt=0,_t=0,pt=0,wt=0,st=!1;const al=f=>{st=!0,mt=f.offsetX,_t=f.offsetY,pt=Y,wt=Q,t(32,oe={x:f.offsetX,y:f.offsetY}),de&&P(de)},fl=f=>{f.type==="pointerup"&&(st=!1),t(32,oe={x:f.offsetX,y:f.offsetY})},ul=f=>{st&&(t(30,Y=pt-(mt-f.offsetX)*v),t(31,Q=wt-(_t-f.offsetY)*v)),t(32,oe={x:f.offsetX,y:f.offsetY})},cl=f=>{f.deltaY>0?v<30&&(t(30,Y+=f.offsetX),t(31,Q+=f.offsetY)):v>3&&(t(30,Y-=f.offsetX),t(31,Q-=f.offsetY)),t(29,v=Math.min(30,Math.max(3,v+f.deltaY/100))),f.preventDefault(),f.stopPropagation(),f.stopImmediatePropagation()};let gt=0,bt=0;const vt=()=>{t(0,gt=window.innerWidth),t(1,bt=window.innerHeight)};let it=!1;return l.$$set=f=>{"clickNode"in f&&t(22,P=f.clickNode),"circledNode"in f&&t(23,T=f.circledNode),"selectedJewel"in f&&t(24,C=f.selectedJewel),"selectedConqueror"in f&&t(25,R=f.selectedConqueror),"seed"in f&&t(26,W=f.seed),"highlighted"in f&&t(27,z=f.highlighted),"disabled"in f&&t(28,U=f.disabled),"$$scope"in f&&t(50,_=f.$$scope)},l.$$.update=()=>{l.$$.dirty[0]&536870912&&t(35,s=yl/v),l.$$.dirty[0]&536870912|l.$$.dirty[1]&8&&(!it&&Ie&&(t(34,it=!0),t(30,Y=Ie.min_x+window.innerWidth/2*v),t(31,Q=Ie.min_y+window.innerHeight/2*v)),vt()),l.$$.dirty[0]&2139095040|l.$$.dirty[1]&262135&&t(3,r=({context:f,width:$,height:he})=>{const x=window.performance.now();f.clearRect(0,0,$,he),f.fillStyle="#080c11",f.fillRect(0,0,$,he);const K={};Object.keys(nt).forEach(ue=>{const F=nt[ue],G=yt(F.x,F.y,Y,Q,v),le=Math.max(...F.orbits);q.indexOf(parseInt(ue))>=0||(le==1?Z(f,I,G):le==2?Z(f,S,G):(le==3||F.orbits.length>1)&&ge(f,m,G))}),Object.keys(Ae).forEach(ue=>{var X;const F=Ae[ue],G=It(F.orbit,F.orbitIndex),le=tt(F,Y,Q,v);(X=F.out)==null||X.forEach(Ne=>{if(!Ae[parseInt(Ne)])return;const Se=Math.min(parseInt(Ne),parseInt(ue)),Be=Math.max(parseInt(Ne),parseInt(ue)),te=Se+":"+Be;if(te in K)return;K[te]=!0;const ne=Ae[parseInt(Ne)];if(!ne||ne.isMastery)return;const Te=It(ne.orbit,ne.orbitIndex),ye=tt(ne,Y,Q,v);if(f.beginPath(),F.group!=ne.group||F.orbit!=ne.orbit)f.moveTo(le.x,le.y),f.lineTo(ye.x,ye.y);else{let pe=Math.PI/180-Math.PI/180*G,me=Math.PI/180-Math.PI/180*Te;pe-=Math.PI/2,me-=Math.PI/2;const Ge=Math.abs(Math.max(pe,me)-Math.min(pe,me)),dl=Ge>Math.PI?Math.max(pe,me):Math.min(pe,me),hl=Ge>Math.PI?Math.min(pe,me):Math.max(pe,me),kt=nt[F.group],St=yt(kt.x,kt.y,Y,Q,v);f.arc(St.x,St.y,Ie.constants.orbitRadii[F.orbit]/v+1,dl,hl)}f.lineWidth=6/v,f.strokeStyle="#524518",f.stroke()})});let ee;T&&(ee=tt(Ae[T],Y,Q,v),f.strokeStyle="#ad2b2b");let fe=!1,Pe;if(Object.keys(Ae).forEach(ue=>{const F=Ae[ue],G=tt(F,Y,Q,v);let le=0,X=!1;T&&Et(G,ee)<s&&(X=!0),U.indexOf(F.skill)>=0&&(X=!1),F.isKeystone?(le=110,be(f,F.icon,G,X),X?Z(f,p,G):Z(f,a,G)):F.isNotable?(le=70,be(f,F.icon,G,X),X?Z(f,o,G):Z(f,d,G)):F.isJewelSocket?(le=70,F.expansionJewel?Z(f,w,G):X?Z(f,u,G):Z(f,h,G)):F.isMastery?be(f,F.inactiveIcon,G,X):(le=50,be(f,F.icon,G,X),X?Z(f,c,G):Z(f,n,G)),z.indexOf(F.skill)>=0&&(f.strokeStyle=`hsl(${i}, 100%, 50%)`,f.lineWidth=3,f.beginPath(),f.arc(G.x,G.y,(le+30)/v,0,Math.PI*2),f.stroke()),Et(G,oe)<le/v&&(Pe=F,fe=X)}),t(33,de=Pe),T&&(f.strokeStyle="#ad2b2b",f.lineWidth=1,f.beginPath(),f.arc(ee.x,ee.y,s,0,Math.PI*2),f.stroke()),de){let ue=de.name,F=(de.stats||[]).map(te=>({text:te,special:!1}));if(!de.isJewelSocket&&fe&&de.skill&&W&&C&&R){const te=Calculate(TreeToPassive[de.skill],W,C,R);if(te){if("alternatePassiveSkill"in te){const ne=GetAlternatePassiveSkillByIndex(te.alternatePassiveSkill);F=[],ue=ne.name,"statsKeys"in ne&&ne.statsKeys.forEach((Te,ye)=>{const pe=GetStatByIndex(Te),me=Pt[pe.id]||"";me&&F.push({text:Nt(me,te.statRolls[ye])||pe.id,special:!0})})}"alternatePassiveAdditionInformations"in te&&te.alternatePassiveAdditionInformations.length>0&&te.alternatePassiveAdditionInformations.forEach(ne=>{const Te=GetAlternatePassiveAdditionByIndex(ne.alternatePassiveSkillAddition);"statsKeys"in Te&&Te.statsKeys.forEach((ye,pe)=>{const me=GetStatByIndex(ye),Ge=Pt[me.id]||"";Ge&&F.push({text:Nt(Ge,ne.statRolls[pe])||me.id,special:!0})})})}}f.font=Rt;const G=f.measureText(ue),le=Math.max(G.width+50,600);f.font=Ct;const X=[],Ne=30;let Se=85;F&&F.length>0?F.forEach(te=>{X.length>0&&(Se+=5),te.text.split(`
`).forEach(ne=>{X.length>0&&(Se+=10),De(ne,f,le-Ne).forEach(ye=>{X.push({text:ye,offset:Se,special:te.special}),Se+=20})})}):de.isJewelSocket&&(X.push({text:"Click to select this socket",offset:Se,special:!0}),Se+=20);const Be=55;f.fillStyle="rgba(75,63,24,0.9)",f.fillRect(oe.x,oe.y,le,Be),f.fillStyle="#ffffff",f.font=Rt,f.textAlign="center",f.fillText(ue,oe.x+le/2,oe.y+35),f.fillStyle="rgba(0,0,0,0.8)",f.fillRect(oe.x,oe.y+Be,le,Se-Be),f.font=Ct,f.textAlign="left",X.forEach(te=>{te.special?f.fillStyle="#8cf34c":f.fillStyle="#ffffff",f.fillText(te.text,oe.x+Ne/2,oe.y+te.offset)})}de&&de.isJewelSocket?t(2,je="pointer"):t(2,je="unset"),f.fillStyle="#ffffff",f.textAlign="right",f.font="12px Roboto Mono";const $e=window.performance.now();f.fillText(`${($e-x).toFixed(1)}ms`,$-5,17)})},[gt,bt,je,r,y,Qe,Ze,xe,k,ae,ie,at,ft,ut,ct,dt,ht,al,fl,ul,cl,vt,P,T,C,R,W,z,U,v,Y,Q,oe,de,it,s,i,n,c,h,u,w,d,o,a,p,m,S,I,E,_]}class Yl extends ze{constructor(e){super(),Ke(this,e,Ll,Gl,We,{clickNode:22,circledNode:23,selectedJewel:24,selectedConqueror:25,seed:26,highlighted:27,disabled:28},null,[-1,-1,-1])}}function Dt(l,e,t){const s=l.slice();return s[6]=e[t],s}function Ot(l,e,t){const s=l.slice();return s[9]=e[t],s}function Ft(l,e,t){const s=l.slice();return s[12]=e[t],s}function Vt(l,e,t){const s=l.slice();return s[15]=e[t],s}function qt(l){let e,t=l[0][l[6]],s=[];for(let r=0;r<t.length;r+=1)s[r]=Bt(Ot(l,t,r));return{c(){e=A("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=J(r,"DIV",{class:!0});var i=M(e);for(let n=0;n<s.length;n+=1)s[n].l(i);i.forEach(b),this.h()},h(){N(e,"class","flex flex-col")},m(r,i){V(r,e,i);for(let n=0;n<s.length;n+=1)s[n].m(e,null)},p(r,i){if(i&3){t=r[0][r[6]];let n;for(n=0;n<t.length;n+=1){const c=Ot(r,t,n);s[n]?s[n].p(c,i):(s[n]=Bt(c),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=t.length}},d(r){r&&b(e),He(s,r)}}}function Ut(l){let e,t=Ye(l[15],l[12].stats[l[15]])+"",s;return{c(){e=A("li"),s=D(t)},l(r){e=J(r,"LI",{});var i=M(e);s=O(i,t),i.forEach(b)},m(r,i){V(r,e,i),g(e,s)},p(r,i){i&1&&t!==(t=Ye(r[15],r[12].stats[r[15]])+"")&&_e(s,t)},d(r){r&&b(e)}}}function jt(l){let e,t,s=Ie.nodes[l[12].passive].name+"",r,i,n=l[12].passive+"",c,h,u,w,d=Object.keys(l[12].stats),o=[];for(let a=0;a<d.length;a+=1)o[a]=Ut(Vt(l,d,a));return{c(){e=A("div"),t=A("span"),r=D(s),i=D(" ("),c=D(n),h=D(")"),u=j(),w=A("ul");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=J(a,"DIV",{class:!0});var p=M(e);t=J(p,"SPAN",{});var m=M(t);r=O(m,s),i=O(m," ("),c=O(m,n),h=O(m,")"),m.forEach(b),u=B(p),w=J(p,"UL",{class:!0});var S=M(w);for(let I=0;I<o.length;I+=1)o[I].l(S);S.forEach(b),p.forEach(b),this.h()},h(){N(w,"class","list-disc pl-6 font-bold"),N(e,"class","mt-2")},m(a,p){V(a,e,p),g(e,t),g(t,r),g(t,i),g(t,c),g(t,h),g(e,u),g(e,w);for(let m=0;m<o.length;m+=1)o[m].m(w,null)},p(a,p){if(p&1&&s!==(s=Ie.nodes[a[12].passive].name+"")&&_e(r,s),p&1&&n!==(n=a[12].passive+"")&&_e(c,n),p&1){d=Object.keys(a[12].stats);let m;for(m=0;m<d.length;m+=1){const S=Vt(a,d,m);o[m]?o[m].p(S,p):(o[m]=Ut(S),o[m].c(),o[m].m(w,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=d.length}},d(a){a&&b(e),He(o,a)}}}function Bt(l){let e,t,s,r=l[9].seed+"",i,n,c=l[9].weight+"",h,u,w,d,o,a,p=l[9].skills,m=[];for(let I=0;I<p.length;I+=1)m[I]=jt(Ft(l,p,I));function S(){return l[5](l[9])}return{c(){e=A("div"),t=A("div"),s=D("Seed "),i=D(r),n=D(" (weight "),h=D(c),u=D(")"),w=j();for(let I=0;I<m.length;I+=1)m[I].c();d=j(),this.h()},l(I){e=J(I,"DIV",{class:!0});var E=M(e);t=J(E,"DIV",{class:!0});var _=M(t);s=O(_,"Seed "),i=O(_,r),n=O(_," (weight "),h=O(_,c),u=O(_,")"),_.forEach(b),w=B(E);for(let P=0;P<m.length;P+=1)m[P].l(E);d=B(E),E.forEach(b),this.h()},h(){N(t,"class","font-bold text-orange-500 text-center"),N(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(I,E){V(I,e,E),g(e,t),g(t,s),g(t,i),g(t,n),g(t,h),g(t,u),g(e,w);for(let _=0;_<m.length;_+=1)m[_].m(e,null);g(e,d),o||(a=se(e,"click",S),o=!0)},p(I,E){if(l=I,E&1&&r!==(r=l[9].seed+"")&&_e(i,r),E&1&&c!==(c=l[9].weight+"")&&_e(h,c),E&1){p=l[9].skills;let _;for(_=0;_<p.length;_+=1){const P=Ft(l,p,_);m[_]?m[_].p(P,E):(m[_]=jt(P),m[_].c(),m[_].m(e,d))}for(;_<m.length;_+=1)m[_].d(1);m.length=p.length}},d(I){I&&b(e),He(m,I),o=!1,a()}}}function Gt(l){let e,t,s,r=l[6]+"",i,n,c=l[0][l[6]].length+"",h,u,w,d,o=l[2]===l[6]?"^":"V",a,p,m,S,I;function E(){return l[4](l[6])}let _=l[2]===l[6]&&qt(l);return{c(){e=A("div"),t=A("button"),s=A("span"),i=D(r),n=D(" Matches ["),h=D(c),u=D("]"),w=j(),d=A("span"),a=D(o),p=j(),_&&_.c(),m=j(),this.h()},l(P){e=J(P,"DIV",{class:!0});var T=M(e);t=J(T,"BUTTON",{class:!0});var C=M(t);s=J(C,"SPAN",{});var R=M(s);i=O(R,r),n=O(R," Matches ["),h=O(R,c),u=O(R,"]"),R.forEach(b),w=B(C),d=J(C,"SPAN",{});var W=M(d);a=O(W,o),W.forEach(b),C.forEach(b),p=B(T),_&&_.l(T),m=B(T),T.forEach(b),this.h()},h(){N(t,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between"),N(e,"class","mb-2")},m(P,T){V(P,e,T),g(e,t),g(t,s),g(s,i),g(s,n),g(s,h),g(s,u),g(t,w),g(t,d),g(d,a),g(e,p),_&&_.m(e,null),g(e,m),S||(I=se(t,"click",E),S=!0)},p(P,T){l=P,T&1&&r!==(r=l[6]+"")&&_e(i,r),T&1&&c!==(c=l[0][l[6]].length+"")&&_e(h,c),T&5&&o!==(o=l[2]===l[6]?"^":"V")&&_e(a,o),l[2]===l[6]?_?_.p(l,T):(_=qt(l),_.c(),_.m(e,m)):_&&(_.d(1),_=null)},d(P){P&&b(e),_&&_.d(),S=!1,I()}}}function zl(l){let e,t=Object.keys(l[0]).map(l[3]).sort(Lt).reverse(),s=[];for(let r=0;r<t.length;r+=1)s[r]=Gt(Dt(l,t,r));return{c(){e=A("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=J(r,"DIV",{class:!0});var i=M(e);for(let n=0;n<s.length;n+=1)s[n].l(i);i.forEach(b),this.h()},h(){N(e,"class","mt-4 flex flex-col overflow-auto")},m(r,i){V(r,e,i);for(let n=0;n<s.length;n+=1)s[n].m(e,null)},p(r,[i]){if(i&7){t=Object.keys(r[0]).map(r[3]).sort(Lt).reverse();let n;for(n=0;n<t.length;n+=1){const c=Dt(r,t,n);s[n]?s[n].p(c,i):(s[n]=Gt(c),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=t.length}},i:Ee,o:Ee,d(r){r&&b(e),He(s,r)}}}const Lt=(l,e)=>l-e;function Kl(l,e,t){let{searchGrouped:s}=e,{highlight:r}=e,i="";const n=u=>parseInt(u),c=u=>t(2,i=i===u?"":u),h=u=>r(u.seed,u.skills);return l.$$set=u=>{"searchGrouped"in u&&t(0,s=u.searchGrouped),"highlight"in u&&t(1,r=u.highlight)},[s,r,i,n,c,h]}class Wl extends ze{constructor(e){super(),Ke(this,e,Kl,zl,We,{searchGrouped:0,highlight:1})}}function Yt(l,e,t){const s=l.slice();return s[40]=e[t],s[41]=e,s[42]=t,s}function zt(l){let e,t,s,r,i,n,c,h=l[2]&&window.TimelessJewelConquerors[l[0].value].indexOf(l[2].value)>=0,u,w;function d(p){l[28](p)}let o={items:l[13]};l[2]!==void 0&&(o.value=l[2]),i=new ot({props:o}),Le.push(()=>sl(i,"value",d)),i.$on("select",l[16]);let a=h&&Kt(l);return{c(){e=A("div"),t=A("h3"),s=D("Conqueror"),r=j(),Je(i.$$.fragment),c=j(),a&&a.c(),u=ve(),this.h()},l(p){e=J(p,"DIV",{class:!0});var m=M(e);t=J(m,"H3",{class:!0});var S=M(t);s=O(S,"Conqueror"),S.forEach(b),r=B(m),Me(i.$$.fragment,m),m.forEach(b),c=B(p),a&&a.l(p),u=ve(),this.h()},h(){N(t,"class","mb-2"),N(e,"class","mt-4")},m(p,m){V(p,e,m),g(e,t),g(t,s),g(e,r),Re(i,e,null),V(p,c,m),a&&a.m(p,m),V(p,u,m),w=!0},p(p,m){const S={};m[0]&8192&&(S.items=p[13]),!n&&m[0]&4&&(n=!0,S.value=p[2],il(()=>n=!1)),i.$set(S),m[0]&5&&(h=p[2]&&window.TimelessJewelConquerors[p[0].value].indexOf(p[2].value)>=0),h?a?(a.p(p,m),m[0]&5&&L(a,1)):(a=Kt(p),a.c(),L(a,1),a.m(u.parentNode,u)):a&&(qe(),H(a,1,1,()=>{a=null}),Ue())},i(p){w||(L(i.$$.fragment,p),L(a),w=!0)},o(p){H(i.$$.fragment,p),H(a),w=!1},d(p){p&&b(e),Ce(i),p&&b(c),a&&a.d(p),p&&b(u)}}}function Kt(l){let e,t,s,r,i,n,c,h,u,w,d,o,a,p;const m=[Hl,Xl],S=[];function I(_,P){return _[6]==="seed"?0:_[6]==="stats"?1:-1}~(h=I(l))&&(u=S[h]=m[h](l));let E=!l[4]&&Zt();return{c(){e=A("div"),t=A("button"),s=D("Enter Seed"),r=j(),i=A("button"),n=D("Select Stats"),c=j(),u&&u.c(),w=j(),E&&E.c(),d=ve(),this.h()},l(_){e=J(_,"DIV",{class:!0});var P=M(e);t=J(P,"BUTTON",{class:!0});var T=M(t);s=O(T,"Enter Seed"),T.forEach(b),r=B(P),i=J(P,"BUTTON",{class:!0});var C=M(i);n=O(C,"Select Stats"),C.forEach(b),P.forEach(b),c=B(_),u&&u.l(_),w=B(_),E&&E.l(_),d=ve(),this.h()},h(){N(t,"class","selection-button svelte-1y2w84t"),et(t,"selected",l[6]==="seed"),N(i,"class","selection-button svelte-1y2w84t"),et(i,"selected",l[6]==="stats"),N(e,"class","mt-4 w-full flex flex-row")},m(_,P){V(_,e,P),g(e,t),g(t,s),g(e,r),g(e,i),g(i,n),V(_,c,P),~h&&S[h].m(_,P),V(_,w,P),E&&E.m(_,P),V(_,d,P),o=!0,a||(p=[se(t,"click",l[29]),se(i,"click",l[30])],a=!0)},p(_,P){P[0]&64&&et(t,"selected",_[6]==="seed"),P[0]&64&&et(i,"selected",_[6]==="stats");let T=h;h=I(_),h===T?~h&&S[h].p(_,P):(u&&(qe(),H(S[T],1,1,()=>{S[T]=null}),Ue()),~h?(u=S[h],u?u.p(_,P):(u=S[h]=m[h](_),u.c()),L(u,1),u.m(w.parentNode,w)):u=null),_[4]?E&&(E.d(1),E=null):E||(E=Zt(),E.c(),E.m(d.parentNode,d))},i(_){o||(L(u),o=!0)},o(_){H(u),o=!1},d(_){_&&b(e),_&&b(c),~h&&S[h].d(_),_&&b(w),E&&E.d(_),_&&b(d),a=!1,Xe(p)}}}function Xl(l){let e,t,s,r,i,n,c=Object.keys(l[1]).length>0,h,u,w={items:l[12]};i=new ot({props:w}),l[32](i),i.$on("select",l[18]);let d=c&&Wt(l);return{c(){e=A("div"),t=A("h3"),s=D("Add Stat"),r=j(),Je(i.$$.fragment),n=j(),d&&d.c(),h=ve(),this.h()},l(o){e=J(o,"DIV",{class:!0});var a=M(e);t=J(a,"H3",{class:!0});var p=M(t);s=O(p,"Add Stat"),p.forEach(b),r=B(a),Me(i.$$.fragment,a),a.forEach(b),n=B(o),d&&d.l(o),h=ve(),this.h()},h(){N(t,"class","mb-2"),N(e,"class","mt-4")},m(o,a){V(o,e,a),g(e,t),g(t,s),g(e,r),Re(i,e,null),V(o,n,a),d&&d.m(o,a),V(o,h,a),u=!0},p(o,a){const p={};a[0]&4096&&(p.items=o[12]),i.$set(p),a[0]&2&&(c=Object.keys(o[1]).length>0),c?d?(d.p(o,a),a[0]&2&&L(d,1)):(d=Wt(o),d.c(),L(d,1),d.m(h.parentNode,h)):d&&(qe(),H(d,1,1,()=>{d=null}),Ue())},i(o){u||(L(i.$$.fragment,o),L(d),u=!0)},o(o){H(i.$$.fragment,o),H(d),u=!1},d(o){o&&b(e),l[32](null),Ce(i),o&&b(n),d&&d.d(o),o&&b(h)}}}function Hl(l){let e,t,s,r,i,n,c,h,u,w,d=(l[3]<window.TimelessJewelSeedRanges[l[0].value].min||l[3]>window.TimelessJewelSeedRanges[l[0].value].max)&&Qt(l);return{c(){e=A("div"),t=A("h3"),s=D("Seed"),r=j(),i=A("input"),h=j(),d&&d.c(),this.h()},l(o){e=J(o,"DIV",{class:!0});var a=M(e);t=J(a,"H3",{class:!0});var p=M(t);s=O(p,"Seed"),p.forEach(b),r=B(a),i=J(a,"INPUT",{type:!0,min:!0,max:!0}),h=B(a),d&&d.l(a),a.forEach(b),this.h()},h(){N(t,"class","mb-2"),N(i,"type","number"),N(i,"min",n=window.TimelessJewelSeedRanges[l[0].value].min),N(i,"max",c=window.TimelessJewelSeedRanges[l[0].value].max),N(e,"class","mt-4")},m(o,a){V(o,e,a),g(e,t),g(t,s),g(e,r),g(e,i),Fe(i,l[3]),g(e,h),d&&d.m(e,null),u||(w=[se(i,"input",l[31]),se(i,"blur",l[16])],u=!0)},p(o,a){a[0]&1&&n!==(n=window.TimelessJewelSeedRanges[o[0].value].min)&&N(i,"min",n),a[0]&1&&c!==(c=window.TimelessJewelSeedRanges[o[0].value].max)&&N(i,"max",c),a[0]&8&&Ve(i.value)!==o[3]&&Fe(i,o[3]),o[3]<window.TimelessJewelSeedRanges[o[0].value].min||o[3]>window.TimelessJewelSeedRanges[o[0].value].max?d?d.p(o,a):(d=Qt(o),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},i:Ee,o:Ee,d(o){o&&b(e),d&&d.d(),u=!1,Xe(w)}}}function Wt(l){let e,t,s,r,i,n,c,h,u,w,d,o,a,p,m,S,I,E,_,P,T=Object.keys(l[1]),C=[];for(let y=0;y<T.length;y+=1)C[y]=Xt(Yt(l,T,y));function R(y,q){return y[8]?Zl:Ql}let W=R(l),z=W(l),U=l[10]&&Ht(l);return{c(){e=A("div");for(let y=0;y<C.length;y+=1)C[y].c();t=j(),s=A("div"),r=A("button"),i=D("Select All"),c=j(),h=A("button"),u=D("Deselect All"),w=j(),d=A("button"),o=D("Trade"),p=j(),m=A("button"),z.c(),S=j(),U&&U.c(),I=ve(),this.h()},l(y){e=J(y,"DIV",{class:!0});var q=M(e);for(let re=0;re<C.length;re+=1)C[re].l(q);q.forEach(b),t=B(y),s=J(y,"DIV",{class:!0});var v=M(s);r=J(v,"BUTTON",{class:!0});var Y=M(r);i=O(Y,"Select All"),Y.forEach(b),c=B(v),h=J(v,"BUTTON",{class:!0});var Q=M(h);u=O(Q,"Deselect All"),Q.forEach(b),w=B(v),d=J(v,"BUTTON",{class:!0});var Z=M(d);o=O(Z,"Trade"),Z.forEach(b),p=B(v),m=J(v,"BUTTON",{class:!0});var ge=M(m);z.l(ge),ge.forEach(b),v.forEach(b),S=B(y),U&&U.l(y),I=ve(),this.h()},h(){N(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),N(r,"class","p-2 px-3 bg-yellow-500/40 rounded mt-2 disabled:bg-yellow-900/40 mr-2"),r.disabled=n=l[8]||l[5].size==0,N(h,"class","p-2 px-3 bg-yellow-500/40 rounded mt-2 disabled:bg-yellow-900/40 mr-2"),h.disabled=l[8],N(d,"class","p-2 px-3 bg-blue-500/40 rounded mt-2 disabled:bg-blue-900/40 mr-2"),d.disabled=a=!l[10],N(m,"class","p-2 px-3 bg-green-500/40 rounded mt-2 disabled:bg-green-900/40 flex-grow"),m.disabled=l[8],N(s,"class","flex flex-row")},m(y,q){V(y,e,q);for(let v=0;v<C.length;v+=1)C[v].m(e,null);V(y,t,q),V(y,s,q),g(s,r),g(r,i),g(s,c),g(s,h),g(h,u),g(s,w),g(s,d),g(d,o),g(s,p),g(s,m),z.m(m,null),V(y,S,q),U&&U.m(y,q),V(y,I,q),E=!0,_||(P=[se(r,"click",l[23]),se(h,"click",l[24]),se(d,"click",l[25]),se(m,"click",l[36])],_=!0)},p(y,q){if(q[0]&524290){T=Object.keys(y[1]);let v;for(v=0;v<T.length;v+=1){const Y=Yt(y,T,v);C[v]?C[v].p(Y,q):(C[v]=Xt(Y),C[v].c(),C[v].m(e,null))}for(;v<C.length;v+=1)C[v].d(1);C.length=T.length}(!E||q[0]&288&&n!==(n=y[8]||y[5].size==0))&&(r.disabled=n),(!E||q[0]&256)&&(h.disabled=y[8]),(!E||q[0]&1024&&a!==(a=!y[10]))&&(d.disabled=a),W===(W=R(y))&&z?z.p(y,q):(z.d(1),z=W(y),z&&(z.c(),z.m(m,null))),(!E||q[0]&256)&&(m.disabled=y[8]),y[10]?U?(U.p(y,q),q[0]&1024&&L(U,1)):(U=Ht(y),U.c(),L(U,1),U.m(I.parentNode,I)):U&&(qe(),H(U,1,1,()=>{U=null}),Ue())},i(y){E||(L(U),E=!0)},o(y){H(U),E=!1},d(y){y&&b(e),He(C,y),y&&b(t),y&&b(s),z.d(),y&&b(S),U&&U.d(y),y&&b(I),_=!1,Xe(P)}}}function Xt(l){let e,t,s,r,i,n,c=Ye(l[1][l[40]].id)+"",h,u,w,d,o,a,p,m,S,I,E,_,P,T,C,R,W;function z(){return l[33](l[40])}function U(){l[34].call(m,l[40])}function y(){l[35].call(T,l[40])}return{c(){e=A("div"),t=A("div"),s=A("button"),r=D("-"),i=j(),n=A("span"),h=D(c),u=j(),w=A("div"),d=A("div"),o=A("div"),a=D("Min:"),p=j(),m=A("input"),S=j(),I=A("div"),E=A("div"),_=D("Weight:"),P=j(),T=A("input"),C=j(),this.h()},l(q){e=J(q,"DIV",{class:!0});var v=M(e);t=J(v,"DIV",{});var Y=M(t);s=J(Y,"BUTTON",{class:!0});var Q=M(s);r=O(Q,"-"),Q.forEach(b),i=B(Y),n=J(Y,"SPAN",{});var Z=M(n);h=O(Z,c),Z.forEach(b),Y.forEach(b),u=B(v),w=J(v,"DIV",{class:!0});var ge=M(w);d=J(ge,"DIV",{class:!0});var re=M(d);o=J(re,"DIV",{class:!0});var ke=M(o);a=O(ke,"Min:"),ke.forEach(b),p=B(re),m=J(re,"INPUT",{type:!0,min:!0}),re.forEach(b),S=B(ge),I=J(ge,"DIV",{class:!0});var be=M(I);E=J(be,"DIV",{class:!0});var De=M(E);_=O(De,"Weight:"),De.forEach(b),P=B(be),T=J(be,"INPUT",{type:!0,min:!0}),be.forEach(b),ge.forEach(b),C=B(v),v.forEach(b),this.h()},h(){N(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),N(o,"class","mr-2"),N(m,"type","number"),N(m,"min","0"),N(d,"class","mr-4 flex flex-row items-center"),N(E,"class","mr-2"),N(T,"type","number"),N(T,"min","0"),N(I,"class","flex flex-row items-center"),N(w,"class","mt-2 flex flex-row"),N(e,"class","mb-2 flex flex-row items-start flex-col stat-config svelte-1y2w84t")},m(q,v){V(q,e,v),g(e,t),g(t,s),g(s,r),g(t,i),g(t,n),g(n,h),g(e,u),g(e,w),g(w,d),g(d,o),g(o,a),g(d,p),g(d,m),Fe(m,l[1][l[40]].min),g(w,S),g(w,I),g(I,E),g(E,_),g(I,P),g(I,T),Fe(T,l[1][l[40]].weight),g(e,C),R||(W=[se(s,"click",z),se(m,"input",U),se(T,"input",y)],R=!0)},p(q,v){l=q,v[0]&2&&c!==(c=Ye(l[1][l[40]].id)+"")&&_e(h,c),v[0]&2&&Ve(m.value)!==l[1][l[40]].min&&Fe(m,l[1][l[40]].min),v[0]&2&&Ve(T.value)!==l[1][l[40]].weight&&Fe(T,l[1][l[40]].weight)},d(q){q&&b(e),R=!1,Xe(W)}}}function Ql(l){let e;return{c(){e=D("Search")},l(t){e=O(t,"Search")},m(t,s){V(t,e,s)},p:Ee,d(t){t&&b(e)}}}function Zl(l){let e,t,s=window.TimelessJewelSeedRanges[l[0].value].max+"",r;return{c(){e=D(l[9]),t=D(" / "),r=D(s)},l(i){e=O(i,l[9]),t=O(i," / "),r=O(i,s)},m(i,n){V(i,e,n),V(i,t,n),V(i,r,n)},p(i,n){n[0]&512&&_e(e,i[9]),n[0]&1&&s!==(s=window.TimelessJewelSeedRanges[i[0].value].max+"")&&_e(r,s)},d(i){i&&b(e),i&&b(t),i&&b(r)}}}function Ht(l){let e,t;return e=new Wl({props:{searchGrouped:l[10],highlight:l[22]}}),{c(){Je(e.$$.fragment)},l(s){Me(e.$$.fragment,s)},m(s,r){Re(e,s,r),t=!0},p(s,r){const i={};r[0]&1024&&(i.searchGrouped=s[10]),e.$set(i)},i(s){t||(L(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){Ce(e,s)}}}function Qt(l){let e,t,s=window.TimelessJewelSeedRanges[l[0].value].min+"",r,i,n=window.TimelessJewelSeedRanges[l[0].value].max+"",c;return{c(){e=A("div"),t=D("Seed must be between "),r=D(s),i=D(`
                  and `),c=D(n),this.h()},l(h){e=J(h,"DIV",{class:!0});var u=M(e);t=O(u,"Seed must be between "),r=O(u,s),i=O(u,`
                  and `),c=O(u,n),u.forEach(b),this.h()},h(){N(e,"class","mt-2")},m(h,u){V(h,e,u),g(e,t),g(e,r),g(e,i),g(e,c)},p(h,u){u[0]&1&&s!==(s=window.TimelessJewelSeedRanges[h[0].value].min+"")&&_e(r,s),u[0]&1&&n!==(n=window.TimelessJewelSeedRanges[h[0].value].max+"")&&_e(c,n)},d(h){h&&b(e)}}}function Zt(l){let e,t;return{c(){e=A("h2"),t=D("Click on a jewel socket"),this.h()},l(s){e=J(s,"H2",{class:!0});var r=M(e);t=O(r,"Click on a jewel socket"),r.forEach(b),this.h()},h(){N(e,"class","mt-4")},m(s,r){V(s,e,r),g(e,t)},d(s){s&&b(e)}}}function xl(l){let e,t,s,r,i,n,c,h,u;function w(a){l[27](a)}let d={items:l[14]};l[0]!==void 0&&(d.value=l[0]),n=new ot({props:d}),Le.push(()=>sl(n,"value",w)),n.$on("select",l[20]);let o=l[0]&&zt(l);return{c(){e=A("div"),t=A("div"),s=A("h3"),r=D("Timeless Jewel"),i=j(),Je(n.$$.fragment),h=j(),o&&o.c(),this.h()},l(a){e=J(a,"DIV",{class:!0});var p=M(e);t=J(p,"DIV",{class:!0});var m=M(t);s=J(m,"H3",{class:!0});var S=M(s);r=O(S,"Timeless Jewel"),S.forEach(b),i=B(m),Me(n.$$.fragment,m),h=B(m),o&&o.l(m),m.forEach(b),p.forEach(b),this.h()},h(){N(s,"class","mb-2"),N(t,"class","p-4 max-h-screen flex flex-col"),N(e,"class","w-1/2 xl:w-1/3 2xl:w-1/4 3xl:w-1/5 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(a,p){V(a,e,p),g(e,t),g(t,s),g(s,r),g(t,i),Re(n,t,null),g(t,h),o&&o.m(t,null),u=!0},p(a,p){const m={};!c&&p[0]&1&&(c=!0,m.value=a[0],il(()=>c=!1)),n.$set(m),a[0]?o?(o.p(a,p),p[0]&1&&L(o,1)):(o=zt(a),o.c(),L(o,1),o.m(t,null)):o&&(qe(),H(o,1,1,()=>{o=null}),Ue())},i(a){u||(L(n.$$.fragment,a),L(o),u=!0)},o(a){H(n.$$.fragment,a),H(o),u=!1},d(a){a&&b(e),Ce(n),o&&o.d()}}}function $l(l){var s,r;let e,t;return e=new Yl({props:{clickNode:l[15],circledNode:l[4],selectedJewel:(s=l[0])==null?void 0:s.value,selectedConqueror:(r=l[2])==null?void 0:r.value,highlighted:l[11],seed:l[3],disabled:[...l[5]],$$slots:{default:[xl]},$$scope:{ctx:l}}}),{c(){Je(e.$$.fragment)},l(i){Me(e.$$.fragment,i)},m(i,n){Re(e,i,n),t=!0},p(i,n){var h,u;const c={};n[0]&16&&(c.circledNode=i[4]),n[0]&1&&(c.selectedJewel=(h=i[0])==null?void 0:h.value),n[0]&4&&(c.selectedConqueror=(u=i[2])==null?void 0:u.value),n[0]&2048&&(c.highlighted=i[11]),n[0]&8&&(c.seed=i[3]),n[0]&32&&(c.disabled=[...i[5]]),n[0]&14335|n[1]&4096&&(c.$$scope={dirty:n,ctx:i}),e.$set(c)},i(i){t||(L(e.$$.fragment,i),t=!0)},o(i){H(e.$$.fragment,i),t=!1},d(i){Ce(e,i)}}}function es(l,e,t){let s,r,i,n;ce(l,Al,k=>t(37,n=k));const c=n.url.searchParams,h=Object.keys(window.TimelessJewels).map(k=>({value:parseInt(k),label:window.TimelessJewels[k]}));let u=c.has("jewel")?h.find(k=>k.value==c.get("jewel")):void 0,w=c.has("conqueror")?{value:c.get("conqueror"),label:c.get("conqueror")}:void 0,d=c.has("seed")?parseInt(c.get("seed")):0,o=c.has("location")?parseInt(c.get("location")):void 0,a=new Set;const p=k=>{k.isJewelSocket?(t(4,o=k.skill),m()):k.isMastery||(a.has(k.skill)?a.delete(k.skill):a.add(k.skill),t(5,a))},m=()=>{const k=new URL(window.location.origin+window.location.pathname);u&&k.searchParams.append("jewel",u.value.toString()),w&&k.searchParams.append("conqueror",w.value),d&&k.searchParams.append("seed",d.toString()),o&&k.searchParams.append("location",o.toString()),S&&k.searchParams.append("mode",S),Object.keys(_).forEach(ae=>{k.searchParams.append("stat",ae.toString())}),Tl(k.toString())};let S=c.has("mode")?c.get("mode"):"";const I=k=>{t(6,S=k),m()};let E=JSON.parse(window.PossibleStats),_={};c.has("stat")&&c.getAll("stat").map(k=>{const ae=parseInt(k);t(1,_[ae]={weight:1,min:0,id:ae},_)});let P;const T=k=>{t(1,_[k.detail.value]={weight:1,min:0,id:k.detail.value},_),t(1,_),P.handleClear(),m()},C=k=>{delete _[k],t(1,_),m()},R=()=>{t(1,_={}),m()};let W=!1,z=0,U;const y=()=>{if(!o)return;t(8,W=!0),t(10,U=void 0);const k=At(Ie.nodes[o]).filter(ie=>!ie.isJewelSocket&&!ie.isMastery).filter(ie=>!a.has(ie.skill)).map(ie=>window.TreeToPassive[ie.skill]),ae={jewel:u.value,conqueror:w.value,nodes:k,stats:Object.keys(_).map(ie=>_[ie])};El.search(ae,Pl(ie=>t(9,z=ie))).then(ie=>{t(10,U=ie),t(8,W=!1)})};let q=[];const v=(k,ae)=>{t(3,d=k),t(11,q=ae.map(ie=>ie.passive)),m()},Y=()=>{a.clear(),t(5,a)},Q=()=>{At(Ie.nodes[o]).filter(k=>!k.isJewelSocket&&!k.isMastery).forEach(k=>a.add(k.skill)),t(5,a)},Z=()=>{const k=new URL("https://www.pathofexile.com/trade/search/Sentinel");k.searchParams.set("q",JSON.stringify(Nl(u.value,w.value,U))),window.open(k,"_blank")};function ge(k){u=k,t(0,u)}function re(k){w=k,t(2,w)}const ke=()=>I("seed"),be=()=>I("stats");function De(){d=Ve(this.value),t(3,d)}function oe(k){Le[k?"unshift":"push"](()=>{P=k,t(7,P)})}const je=k=>C(_[k].id);function Qe(k){_[k].min=Ve(this.value),t(1,_)}function Ze(k){_[k].weight=Ve(this.value),t(1,_)}const xe=()=>y();return l.$$.update=()=>{l.$$.dirty[0]&1&&t(13,s=u?window.TimelessJewelConquerors[u.value].map(k=>({value:k,label:k})):[]),l.$$.dirty[0]&1&&t(26,r=u?Object.keys(E[u.value]):[]),l.$$.dirty[0]&67108866&&t(12,i=r.map(k=>{const ae=parseInt(k);return{label:Ye(ae),value:ae}}).filter(k=>!(k.value in _)))},[u,_,w,d,o,a,S,P,W,z,U,q,i,s,h,p,m,I,T,C,R,y,v,Y,Q,Z,r,ge,re,ke,be,De,oe,je,Qe,Ze,xe]}class rs extends ze{constructor(e){super(),Ke(this,e,es,$l,We,{},null,[-1,-1])}}export{rs as default};
