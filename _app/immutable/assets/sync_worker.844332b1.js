(function(){"use strict";const p=Symbol("Comlink.proxy"),S=Symbol("Comlink.endpoint"),A=Symbol("Comlink.releaseProxy"),_=Symbol("Comlink.thrown"),R=e=>typeof e=="object"&&e!==null||typeof e=="function",j={canHandle:e=>R(e)&&e[p],serialize(e){const{port1:o,port2:f}=new MessageChannel;return E(e,o),[f,[f]]},deserialize(e){return e.start(),I(e)}},C={canHandle:e=>R(e)&&_ in e,serialize({value:e}){let o;return e instanceof Error?o={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:o={isError:!1,value:e},[o,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},v=new Map([["proxy",j],["throw",C]]);function E(e,o=self){o.addEventListener("message",function f(l){if(!l||!l.data)return;const{id:r,type:n,path:i}=Object.assign({path:[]},l.data),a=(l.data.argumentList||[]).map(y);let m;try{const u=i.slice(0,-1).reduce((t,s)=>t[s],e),d=i.reduce((t,s)=>t[s],e);switch(n){case"GET":m=d;break;case"SET":u[i.slice(-1)[0]]=y(l.data.value),m=!0;break;case"APPLY":m=d.apply(u,a);break;case"CONSTRUCT":{const t=new d(...a);m=L(t)}break;case"ENDPOINT":{const{port1:t,port2:s}=new MessageChannel;E(e,s),m=N(t,[t])}break;case"RELEASE":m=void 0;break;default:return}}catch(u){m={value:u,[_]:0}}Promise.resolve(m).catch(u=>({value:u,[_]:0})).then(u=>{const[d,t]=T(u);o.postMessage(Object.assign(Object.assign({},d),{id:r}),t),n==="RELEASE"&&(o.removeEventListener("message",f),k(o))})}),o.start&&o.start()}function O(e){return e.constructor.name==="MessagePort"}function k(e){O(e)&&e.close()}function I(e,o){return x(e,[],o)}function b(e){if(e)throw new Error("Proxy has been released and is not useable")}function x(e,o=[],f=function(){}){let l=!1;const r=new Proxy(f,{get(n,i){if(b(l),i===A)return()=>w(e,{type:"RELEASE",path:o.map(a=>a.toString())}).then(()=>{k(e),l=!0});if(i==="then"){if(o.length===0)return{then:()=>r};const a=w(e,{type:"GET",path:o.map(m=>m.toString())}).then(y);return a.then.bind(a)}return x(e,[...o,i])},set(n,i,a){b(l);const[m,u]=T(a);return w(e,{type:"SET",path:[...o,i].map(d=>d.toString()),value:m},u).then(y)},apply(n,i,a){b(l);const m=o[o.length-1];if(m===S)return w(e,{type:"ENDPOINT"}).then(y);if(m==="bind")return x(e,o.slice(0,-1));const[u,d]=P(a);return w(e,{type:"APPLY",path:o.map(t=>t.toString()),argumentList:u},d).then(y)},construct(n,i){b(l);const[a,m]=P(i);return w(e,{type:"CONSTRUCT",path:o.map(u=>u.toString()),argumentList:a},m).then(y)}});return r}function D(e){return Array.prototype.concat.apply([],e)}function P(e){const o=e.map(T);return[o.map(f=>f[0]),D(o.map(f=>f[1]))]}const U=new WeakMap;function N(e,o){return U.set(e,o),e}function L(e){return Object.assign(e,{[p]:!0})}function T(e){for(const[o,f]of v)if(f.canHandle(e)){const[l,r]=f.serialize(e);return[{type:"HANDLER",name:o,value:l},r]}return[{type:"RAW",value:e},U.get(e)||[]]}function y(e){switch(e.type){case"HANDLER":return v.get(e.name).deserialize(e.value);case"RAW":return e.value}}function w(e,o,f){return new Promise(l=>{const r=M();e.addEventListener("message",function n(i){!i.data||!i.data.id||i.data.id!==r||(e.removeEventListener("message",n),l(i.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:r},o),f)})}function M(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}(()=>{const e=()=>{const l=new Error("not implemented");return l.code="ENOSYS",l};if(!globalThis.fs){let l="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(r,n){l+=f.decode(n);const i=l.lastIndexOf(`
`);return i!=-1&&(console.log(l.substr(0,i)),l=l.substr(i+1)),n.length},write(r,n,i,a,m,u){if(i!==0||a!==n.length||m!==null){u(e());return}const d=this.writeSync(r,n);u(null,d)},chmod(r,n,i){i(e())},chown(r,n,i,a){a(e())},close(r,n){n(e())},fchmod(r,n,i){i(e())},fchown(r,n,i,a){a(e())},fstat(r,n){n(e())},fsync(r,n){n(null)},ftruncate(r,n,i){i(e())},lchown(r,n,i,a){a(e())},link(r,n,i){i(e())},lstat(r,n){n(e())},mkdir(r,n,i){i(e())},open(r,n,i,a){a(e())},read(r,n,i,a,m,u){u(e())},readdir(r,n){n(e())},readlink(r,n){n(e())},rename(r,n,i){i(e())},rmdir(r,n){n(e())},stat(r,n){n(e())},symlink(r,n,i){i(e())},truncate(r,n,i){i(e())},unlink(r,n){n(e())},utimes(r,n,i,a){a(e())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw e()},pid:-1,ppid:-1,umask(){throw e()},cwd(){throw e()},chdir(){throw e()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const o=new TextEncoder("utf-8"),f=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=t=>{t!==0&&console.warn("exit code:",t)},this._exitPromise=new Promise(t=>{this._resolveExitPromise=t}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const l=(t,s)=>{this.mem.setUint32(t+0,s,!0),this.mem.setUint32(t+4,Math.floor(s/4294967296),!0)},r=t=>{const s=this.mem.getUint32(t+0,!0),c=this.mem.getInt32(t+4,!0);return s+c*4294967296},n=t=>{const s=this.mem.getFloat64(t,!0);if(s===0)return;if(!isNaN(s))return s;const c=this.mem.getUint32(t,!0);return this._values[c]},i=(t,s)=>{if(typeof s=="number"&&s!==0){if(isNaN(s)){this.mem.setUint32(t+4,2146959360,!0),this.mem.setUint32(t,0,!0);return}this.mem.setFloat64(t,s,!0);return}if(s===void 0){this.mem.setFloat64(t,0,!0);return}let h=this._ids.get(s);h===void 0&&(h=this._idPool.pop(),h===void 0&&(h=this._values.length),this._values[h]=s,this._goRefCounts[h]=0,this._ids.set(s,h)),this._goRefCounts[h]++;let g=0;switch(typeof s){case"object":s!==null&&(g=1);break;case"string":g=2;break;case"symbol":g=3;break;case"function":g=4;break}this.mem.setUint32(t+4,2146959360|g,!0),this.mem.setUint32(t,h,!0)},a=t=>{const s=r(t+0),c=r(t+8);return new Uint8Array(this._inst.exports.mem.buffer,s,c)},m=t=>{const s=r(t+0),c=r(t+8),h=new Array(c);for(let g=0;g<c;g++)h[g]=n(s+g*8);return h},u=t=>{const s=r(t+0),c=r(t+8);return f.decode(new DataView(this._inst.exports.mem.buffer,s,c))},d=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":t=>{t>>>=0;const s=this.mem.getInt32(t+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(s)},"runtime.wasmWrite":t=>{t>>>=0;const s=r(t+8),c=r(t+16),h=this.mem.getInt32(t+24,!0);fs.writeSync(s,new Uint8Array(this._inst.exports.mem.buffer,c,h))},"runtime.resetMemoryDataView":t=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{t>>>=0,l(t+8,(d+performance.now())*1e6)},"runtime.walltime":t=>{t>>>=0;const s=new Date().getTime();l(t+8,s/1e3),this.mem.setInt32(t+16,s%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":t=>{t>>>=0;const s=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(s,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(s);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},r(t+8)+1)),this.mem.setInt32(t+16,s,!0)},"runtime.clearTimeoutEvent":t=>{t>>>=0;const s=this.mem.getInt32(t+8,!0);clearTimeout(this._scheduledTimeouts.get(s)),this._scheduledTimeouts.delete(s)},"runtime.getRandomData":t=>{t>>>=0,crypto.getRandomValues(a(t+8))},"syscall/js.finalizeRef":t=>{t>>>=0;const s=this.mem.getUint32(t+8,!0);if(this._goRefCounts[s]--,this._goRefCounts[s]===0){const c=this._values[s];this._values[s]=null,this._ids.delete(c),this._idPool.push(s)}},"syscall/js.stringVal":t=>{t>>>=0,i(t+24,u(t+8))},"syscall/js.valueGet":t=>{t>>>=0;const s=Reflect.get(n(t+8),u(t+16));t=this._inst.exports.getsp()>>>0,i(t+32,s)},"syscall/js.valueSet":t=>{t>>>=0,Reflect.set(n(t+8),u(t+16),n(t+32))},"syscall/js.valueDelete":t=>{t>>>=0,Reflect.deleteProperty(n(t+8),u(t+16))},"syscall/js.valueIndex":t=>{t>>>=0,i(t+24,Reflect.get(n(t+8),r(t+16)))},"syscall/js.valueSetIndex":t=>{t>>>=0,Reflect.set(n(t+8),r(t+16),n(t+24))},"syscall/js.valueCall":t=>{t>>>=0;try{const s=n(t+8),c=Reflect.get(s,u(t+16)),h=m(t+32),g=Reflect.apply(c,s,h);t=this._inst.exports.getsp()>>>0,i(t+56,g),this.mem.setUint8(t+64,1)}catch(s){t=this._inst.exports.getsp()>>>0,i(t+56,s),this.mem.setUint8(t+64,0)}},"syscall/js.valueInvoke":t=>{t>>>=0;try{const s=n(t+8),c=m(t+16),h=Reflect.apply(s,void 0,c);t=this._inst.exports.getsp()>>>0,i(t+40,h),this.mem.setUint8(t+48,1)}catch(s){t=this._inst.exports.getsp()>>>0,i(t+40,s),this.mem.setUint8(t+48,0)}},"syscall/js.valueNew":t=>{t>>>=0;try{const s=n(t+8),c=m(t+16),h=Reflect.construct(s,c);t=this._inst.exports.getsp()>>>0,i(t+40,h),this.mem.setUint8(t+48,1)}catch(s){t=this._inst.exports.getsp()>>>0,i(t+40,s),this.mem.setUint8(t+48,0)}},"syscall/js.valueLength":t=>{t>>>=0,l(t+16,parseInt(n(t+8).length))},"syscall/js.valuePrepareString":t=>{t>>>=0;const s=o.encode(String(n(t+8)));i(t+16,s),l(t+24,s.length)},"syscall/js.valueLoadString":t=>{t>>>=0;const s=n(t+8);a(t+16).set(s)},"syscall/js.valueInstanceOf":t=>{t>>>=0,this.mem.setUint8(t+24,n(t+8)instanceof n(t+16)?1:0)},"syscall/js.copyBytesToGo":t=>{t>>>=0;const s=a(t+8),c=n(t+32);if(!(c instanceof Uint8Array||c instanceof Uint8ClampedArray)){this.mem.setUint8(t+48,0);return}const h=c.subarray(0,s.length);s.set(h),l(t+40,h.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{t>>>=0;const s=n(t+8),c=a(t+16);if(!(s instanceof Uint8Array||s instanceof Uint8ClampedArray)){this.mem.setUint8(t+48,0);return}const h=c.subarray(0,s.length);s.set(h),l(t+40,h.length),this.mem.setUint8(t+48,1)},debug:t=>{console.log(t)}}}}async run(l){if(!(l instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=l,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let r=4096;const n=t=>{const s=r,c=o.encode(t+"\0");return new Uint8Array(this.mem.buffer,r,c.length).set(c),r+=c.length,r%8!==0&&(r+=8-r%8),s},i=this.argv.length,a=[];this.argv.forEach(t=>{a.push(n(t))}),a.push(0),Object.keys(this.env).sort().forEach(t=>{a.push(n(`${t}=${this.env[t]}`))}),a.push(0);const u=r;a.forEach(t=>{this.mem.setUint32(r,t,!0),this.mem.setUint32(r+4,0,!0),r+=8});const d=4096+8192;if(r>=d)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(l){const r=this;return function(){const n={id:l,this:this,args:arguments};return r._pendingEvent=n,r._resume(),n.result}}}})(),E({boot(e){const o=new Go;WebAssembly.instantiate(e,o.importObject).then(f=>{o.run(f.instance)})},search(e,o){return ReverseSearch(...e,o)}})})();
