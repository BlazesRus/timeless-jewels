import{s as we,p as U,f as k,a as j,g as S,h as D,x as M,c as $,d as g,j as w,i as C,z as v,B as F,A as Ie,e as O,C as le,D as te,E as be,F as Ae,l as I,m as A,n as J,G as K}from"../chunks/scheduler.a4661fe7.js";import{S as Ce,i as Re,f as Q,b as W,d as X,m as Y,a as N,t as H,c as ge,e as Z,g as ke}from"../chunks/index.0ccbc0e6.js";import{S as x,e as B,g as Te}from"../chunks/navigation.dc14ef7f.js";import{p as Pe}from"../chunks/stores.5a9c22d3.js";import{a as je,b as $e}from"../chunks/paths.bdc09599.js";import{d as P,c as De}from"../chunks/index.098253ec.js";function se(i,e,s){const l=i.slice();return l[15]=e[s],l}function ae(i,e,s){const l=i.slice();l[18]=e[s],l[21]=s;const a=P.GetStatByIndex(l[15].AlternatePassiveAddition.StatsKeys[l[21]]);return l[19]=a,l}function ne(i,e,s){const l=i.slice();l[18]=e[s],l[21]=s;const a=P.GetStatByIndex(l[4].AlternatePassiveSkill.StatsKeys[l[21]]);return l[19]=a,l}function ie(i){let e,s,l="Conqueror",a,n,t,f,c=i[1]&&Object.keys(P.TimelessJewelConquerors[i[0].value]).indexOf(i[1].value)>=0,m,r;function d(o){i[10](o)}let h={items:i[5]};i[1]!==void 0&&(h.value=i[1]),n=new x({props:h}),U.push(()=>Q(n,"value",d)),n.$on("select",i[8]);let u=c&&oe(i);return{c(){e=k("div"),s=k("h3"),s.textContent=l,a=j(),W(n.$$.fragment),f=j(),u&&u.c(),m=O(),this.h()},l(o){e=S(o,"DIV",{class:!0});var _=D(e);s=S(_,"H3",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1jyt00f"&&(s.textContent=l),a=$(_),X(n.$$.fragment,_),_.forEach(g),f=$(o),u&&u.l(o),m=O(),this.h()},h(){w(s,"class","mb-2"),w(e,"class","mt-4")},m(o,_){C(o,e,_),v(e,s),v(e,a),Y(n,e,null),C(o,f,_),u&&u.m(o,_),C(o,m,_),r=!0},p(o,_){const p={};_&32&&(p.items=o[5]),!t&&_&2&&(t=!0,p.value=o[1],F(()=>t=!1)),n.$set(p),_&3&&(c=o[1]&&Object.keys(P.TimelessJewelConquerors[o[0].value]).indexOf(o[1].value)>=0),c?u?(u.p(o,_),_&3&&N(u,1)):(u=oe(o),u.c(),N(u,1),u.m(m.parentNode,m)):u&&(ke(),H(u,1,1,()=>{u=null}),ge())},i(o){r||(N(n.$$.fragment,o),N(u),r=!0)},o(o){H(n.$$.fragment,o),H(u),r=!1},d(o){o&&(g(e),g(f),g(m)),Z(n),u&&u.d(o)}}}function oe(i){let e,s,l="Passive Skill",a,n,t,f,c,m;function r(u){i[11](u)}let d={items:i[7]};i[2]!==void 0&&(d.value=i[2]),n=new x({props:d}),U.push(()=>Q(n,"value",r)),n.$on("select",i[8]);let h=i[2]&&fe(i);return{c(){e=k("div"),s=k("h3"),s.textContent=l,a=j(),W(n.$$.fragment),f=j(),h&&h.c(),c=O(),this.h()},l(u){e=S(u,"DIV",{class:!0});var o=D(e);s=S(o,"H3",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-1u1bsa3"&&(s.textContent=l),a=$(o),X(n.$$.fragment,o),o.forEach(g),f=$(u),h&&h.l(u),c=O(),this.h()},h(){w(s,"class","mb-2"),w(e,"class","mt-4")},m(u,o){C(u,e,o),v(e,s),v(e,a),Y(n,e,null),C(u,f,o),h&&h.m(u,o),C(u,c,o),m=!0},p(u,o){const _={};!t&&o&4&&(t=!0,_.value=u[2],F(()=>t=!1)),n.$set(_),u[2]?h?h.p(u,o):(h=fe(u),h.c(),h.m(c.parentNode,c)):h&&(h.d(1),h=null)},i(u){m||(N(n.$$.fragment,u),m=!0)},o(u){H(n.$$.fragment,u),m=!1},d(u){u&&(g(e),g(f),g(c)),Z(n),h&&h.d(u)}}}function fe(i){let e,s,l="Seed",a,n,t,f,c,m,r,d,h,u=(i[3]<P.TimelessJewelSeedRanges[i[0].value].Min||i[3]>P.TimelessJewelSeedRanges[i[0].value].Max)&&re(i),o=i[4]&&ue(i);return{c(){e=k("div"),s=k("h3"),s.textContent=l,a=j(),n=k("input"),c=j(),u&&u.c(),m=j(),o&&o.c(),r=O(),this.h()},l(_){e=S(_,"DIV",{class:!0});var p=D(e);s=S(p,"H3",{class:!0,"data-svelte-h":!0}),M(s)!=="svelte-12wsj4m"&&(s.textContent=l),a=$(p),n=S(p,"INPUT",{type:!0,class:!0,min:!0,max:!0}),c=$(p),u&&u.l(p),p.forEach(g),m=$(_),o&&o.l(_),r=O(),this.h()},h(){w(s,"class","mb-2"),w(n,"type","number"),w(n,"class","seed"),w(n,"min",t=P.TimelessJewelSeedRanges[i[0].value].Min),w(n,"max",f=P.TimelessJewelSeedRanges[i[0].value].Max),w(e,"class","mt-4")},m(_,p){C(_,e,p),v(e,s),v(e,a),v(e,n),le(n,i[3]),v(e,c),u&&u.m(e,null),C(_,m,p),o&&o.m(_,p),C(_,r,p),d||(h=[te(n,"input",i[12]),te(n,"blur",i[8])],d=!0)},p(_,p){p&1&&t!==(t=P.TimelessJewelSeedRanges[_[0].value].Min)&&w(n,"min",t),p&1&&f!==(f=P.TimelessJewelSeedRanges[_[0].value].Max)&&w(n,"max",f),p&8&&be(n.value)!==_[3]&&le(n,_[3]),_[3]<P.TimelessJewelSeedRanges[_[0].value].Min||_[3]>P.TimelessJewelSeedRanges[_[0].value].Max?u?u.p(_,p):(u=re(_),u.c(),u.m(e,null)):u&&(u.d(1),u=null),_[4]?o?o.p(_,p):(o=ue(_),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(_){_&&(g(e),g(m),g(r)),u&&u.d(),o&&o.d(_),d=!1,Ae(h)}}}function re(i){let e,s,l=P.TimelessJewelSeedRanges[i[0].value].Min+"",a,n,t=P.TimelessJewelSeedRanges[i[0].value].Max+"",f;return{c(){e=k("div"),s=I("Seed must be between "),a=I(l),n=I(" and "),f=I(t),this.h()},l(c){e=S(c,"DIV",{class:!0});var m=D(e);s=A(m,"Seed must be between "),a=A(m,l),n=A(m," and "),f=A(m,t),m.forEach(g),this.h()},h(){w(e,"class","mt-2")},m(c,m){C(c,e,m),v(e,s),v(e,a),v(e,n),v(e,f)},p(c,m){m&1&&l!==(l=P.TimelessJewelSeedRanges[c[0].value].Min+"")&&J(a,l),m&1&&t!==(t=P.TimelessJewelSeedRanges[c[0].value].Max+"")&&J(f,t)},d(c){c&&g(e)}}}function ue(i){var n;let e,s,l=i[4].AlternatePassiveSkill&&ce(i),a="AlternatePassiveAdditionInformations"in i[4]&&((n=i[4].AlternatePassiveAdditionInformations)==null?void 0:n.length)>0&&me(i);return{c(){l&&l.c(),e=j(),a&&a.c(),s=O()},l(t){l&&l.l(t),e=$(t),a&&a.l(t),s=O()},m(t,f){l&&l.m(t,f),C(t,e,f),a&&a.m(t,f),C(t,s,f)},p(t,f){var c;t[4].AlternatePassiveSkill?l?l.p(t,f):(l=ce(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),"AlternatePassiveAdditionInformations"in t[4]&&((c=t[4].AlternatePassiveAdditionInformations)==null?void 0:c.length)>0?a?a.p(t,f):(a=me(t),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(t){t&&(g(e),g(s)),l&&l.d(t),a&&a.d(t)}}}function ce(i){let e,s,l="Alternate Passive Skill",a,n,t=i[4].AlternatePassiveSkill.Name+"",f,c,m=i[4].AlternatePassiveSkill.ID+"",r,d,h,u=i[4].StatRolls&&Object.keys(i[4].StatRolls).length>0,o,_=u&&_e(i);return{c(){e=k("div"),s=k("h3"),s.textContent=l,a=j(),n=k("span"),f=I(t),c=I(" ("),r=I(m),d=I(")"),h=j(),_&&_.c(),o=O(),this.h()},l(p){e=S(p,"DIV",{class:!0});var R=D(e);s=S(R,"H3",{"data-svelte-h":!0}),M(s)!=="svelte-zgn4l4"&&(s.textContent=l),a=$(R),n=S(R,"SPAN",{});var b=D(n);f=A(b,t),c=A(b," ("),r=A(b,m),d=A(b,")"),b.forEach(g),R.forEach(g),h=$(p),_&&_.l(p),o=O(),this.h()},h(){w(e,"class","mt-4")},m(p,R){C(p,e,R),v(e,s),v(e,a),v(e,n),v(n,f),v(n,c),v(n,r),v(n,d),C(p,h,R),_&&_.m(p,R),C(p,o,R)},p(p,R){R&16&&t!==(t=p[4].AlternatePassiveSkill.Name+"")&&J(f,t),R&16&&m!==(m=p[4].AlternatePassiveSkill.ID+"")&&J(r,m),R&16&&(u=p[4].StatRolls&&Object.keys(p[4].StatRolls).length>0),u?_?_.p(p,R):(_=_e(p),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},d(p){p&&(g(e),g(h),g(o)),_&&_.d(p)}}}function _e(i){let e,s=B(Object.keys(i[4].StatRolls)),l=[];for(let a=0;a<s.length;a+=1)l[a]=de(ne(i,s,a));return{c(){e=k("ol");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=S(a,"OL",{class:!0});var n=D(e);for(let t=0;t<l.length;t+=1)l[t].l(n);n.forEach(g),this.h()},h(){w(e,"class","mt-4 list-decimal pl-8")},m(a,n){C(a,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(a,n){if(n&16){s=B(Object.keys(a[4].StatRolls));let t;for(t=0;t<s.length;t+=1){const f=ne(a,s,t);l[t]?l[t].p(f,n):(l[t]=de(f),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(a){a&&g(e),K(l,a)}}}function de(i){let e,s=(i[19].Text||"<no name>")+"",l,a,n=i[19].ID+"",t,f,c=i[4].StatRolls[i[18]]+"",m;return{c(){e=k("li"),l=I(s),a=I(" ("),t=I(n),f=I(") - "),m=I(c)},l(r){e=S(r,"LI",{});var d=D(e);l=A(d,s),a=A(d," ("),t=A(d,n),f=A(d,") - "),m=A(d,c),d.forEach(g)},m(r,d){C(r,e,d),v(e,l),v(e,a),v(e,t),v(e,f),v(e,m)},p(r,d){d&16&&s!==(s=(r[19].Text||"<no name>")+"")&&J(l,s),d&16&&n!==(n=r[19].ID+"")&&J(t,n),d&16&&c!==(c=r[4].StatRolls[r[18]]+"")&&J(m,c)},d(r){r&&g(e)}}}function me(i){let e,s,l="Additions",a,n,t=B(i[4].AlternatePassiveAdditionInformations),f=[];for(let c=0;c<t.length;c+=1)f[c]=pe(se(i,t,c));return{c(){e=k("div"),s=k("h3"),s.textContent=l,a=j(),n=k("ul");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=S(c,"DIV",{class:!0});var m=D(e);s=S(m,"H3",{"data-svelte-h":!0}),M(s)!=="svelte-3nw52l"&&(s.textContent=l),a=$(m),n=S(m,"UL",{class:!0});var r=D(n);for(let d=0;d<f.length;d+=1)f[d].l(r);r.forEach(g),m.forEach(g),this.h()},h(){w(n,"class","list-disc pl-8"),w(e,"class","mt-4")},m(c,m){C(c,e,m),v(e,s),v(e,a),v(e,n);for(let r=0;r<f.length;r+=1)f[r]&&f[r].m(n,null)},p(c,m){if(m&16){t=B(c[4].AlternatePassiveAdditionInformations);let r;for(r=0;r<t.length;r+=1){const d=se(c,t,r);f[r]?f[r].p(d,m):(f[r]=pe(d),f[r].c(),f[r].m(n,null))}for(;r<f.length;r+=1)f[r].d(1);f.length=t.length}},d(c){c&&g(e),K(f,c)}}}function ve(i){let e,s=B(Object.keys(i[15].StatRolls)),l=[];for(let a=0;a<s.length;a+=1)l[a]=he(ae(i,s,a));return{c(){e=k("ol");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=S(a,"OL",{class:!0});var n=D(e);for(let t=0;t<l.length;t+=1)l[t].l(n);n.forEach(g),this.h()},h(){w(e,"class","list-decimal pl-8")},m(a,n){C(a,e,n);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(a,n){if(n&16){s=B(Object.keys(a[15].StatRolls));let t;for(t=0;t<s.length;t+=1){const f=ae(a,s,t);l[t]?l[t].p(f,n):(l[t]=he(f),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}},d(a){a&&g(e),K(l,a)}}}function he(i){let e,s=(i[19].Text||"<no name>")+"",l,a,n=i[19].ID+"",t,f,c=i[15].StatRolls[i[18]]+"",m;return{c(){e=k("li"),l=I(s),a=I(" ("),t=I(n),f=I(") - "),m=I(c)},l(r){e=S(r,"LI",{});var d=D(e);l=A(d,s),a=A(d," ("),t=A(d,n),f=A(d,") - "),m=A(d,c),d.forEach(g)},m(r,d){C(r,e,d),v(e,l),v(e,a),v(e,t),v(e,f),v(e,m)},p(r,d){d&16&&s!==(s=(r[19].Text||"<no name>")+"")&&J(l,s),d&16&&n!==(n=r[19].ID+"")&&J(t,n),d&16&&c!==(c=r[15].StatRolls[r[18]]+"")&&J(m,c)},d(r){r&&g(e)}}}function pe(i){let e,s,l=i[15].AlternatePassiveAddition.ID+"",a,n,t=i[15].AlternatePassiveAddition.Index+"",f,c,m,r=i[15].StatRolls&&Object.keys(i[15].StatRolls).length>0,d,h=r&&ve(i);return{c(){e=k("li"),s=k("span"),a=I(l),n=I(" ("),f=I(t),c=I(")"),m=j(),h&&h.c(),d=j(),this.h()},l(u){e=S(u,"LI",{class:!0});var o=D(e);s=S(o,"SPAN",{});var _=D(s);a=A(_,l),n=A(_," ("),f=A(_,t),c=A(_,")"),_.forEach(g),m=$(o),h&&h.l(o),d=$(o),o.forEach(g),this.h()},h(){w(e,"class","mt-4")},m(u,o){C(u,e,o),v(e,s),v(s,a),v(s,n),v(s,f),v(s,c),v(e,m),h&&h.m(e,null),v(e,d)},p(u,o){o&16&&l!==(l=u[15].AlternatePassiveAddition.ID+"")&&J(a,l),o&16&&t!==(t=u[15].AlternatePassiveAddition.Index+"")&&J(f,t),o&16&&(r=u[15].StatRolls&&Object.keys(u[15].StatRolls).length>0),r?h?h.p(u,o):(h=ve(u),h.c(),h.m(e,d)):h&&(h.d(1),h=null)},d(u){u&&g(e),h&&h.d()}}}function Ee(i){let e,s,l,a,n="Timeless Calculator",t,f,c='<h2 class="text-white mb-10 text-center underline text-orange-500">Skill Tree View</h2>',m,r,d,h="Timeless Jewel",u,o,_,p,R,b,G=`<div class="text-right text-orange-500"><a href="https://discord.gg/mfacademy" target="_blank" rel="noopener" class="flex flex-row align-middle"><img src="${je}/mf-academy-logo.png" width="24px"/> <span class="ml-2">MF Academy</span></a></div> <div class="text-orange-500"><a href="https://github.com/BlazesRus/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a></div>`,q;function Se(E){i[9](E)}let ee={items:i[6]};i[0]!==void 0&&(ee.value=i[0]),o=new x({props:ee}),U.push(()=>Q(o,"value",Se)),o.$on("select",i[8]);let T=i[0]&&ie(i);return{c(){e=k("div"),s=k("div"),l=k("div"),a=k("h1"),a.textContent=n,t=j(),f=k("a"),f.innerHTML=c,m=j(),r=k("div"),d=k("h3"),d.textContent=h,u=j(),W(o.$$.fragment),p=j(),T&&T.c(),R=j(),b=k("div"),b.innerHTML=G,this.h()},l(E){e=S(E,"DIV",{class:!0});var V=D(e);s=S(V,"DIV",{class:!0});var y=D(s);l=S(y,"DIV",{});var L=D(l);a=S(L,"H1",{class:!0,"data-svelte-h":!0}),M(a)!=="svelte-dvt88y"&&(a.textContent=n),t=$(L),f=S(L,"A",{href:!0,"data-svelte-h":!0}),M(f)!=="svelte-1w6zlan"&&(f.innerHTML=c),m=$(L),r=S(L,"DIV",{class:!0});var z=D(r);d=S(z,"H3",{class:!0,"data-svelte-h":!0}),M(d)!=="svelte-1pbfj8"&&(d.textContent=h),u=$(z),X(o.$$.fragment,z),p=$(z),T&&T.l(z),z.forEach(g),L.forEach(g),R=$(y),b=S(y,"DIV",{class:!0,"data-svelte-h":!0}),M(b)!=="svelte-b6sag9"&&(b.innerHTML=G),y.forEach(g),V.forEach(g),this.h()},h(){w(a,"class","text-white mb-10 text-center"),w(f,"href",$e+"/tree"),w(d,"class","mb-2"),w(r,"class","themed"),w(b,"class","flex justify-between"),w(s,"class","flex flex-col justify-between w-1/3"),w(e,"class","py-10 flex flex-row justify-center w-screen h-screen")},m(E,V){C(E,e,V),v(e,s),v(s,l),v(l,a),v(l,t),v(l,f),v(l,m),v(l,r),v(r,d),v(r,u),Y(o,r,null),v(r,p),T&&T.m(r,null),v(s,R),v(s,b),q=!0},p(E,[V]){const y={};!_&&V&1&&(_=!0,y.value=E[0],F(()=>_=!1)),o.$set(y),E[0]?T?(T.p(E,V),V&1&&N(T,1)):(T=ie(E),T.c(),N(T,1),T.m(r,null)):T&&(ke(),H(T,1,1,()=>{T=null}),ge())},i(E){q||(N(o.$$.fragment,E),N(T),q=!0)},o(E){H(o.$$.fragment,E),H(T),q=!1},d(E){E&&g(e),Z(o),T&&T.d()}}}function Je(i,e,s){let l,a;Ie(i,Pe,b=>s(13,a=b));const n=a.url.searchParams,t=Object.keys(P.TimelessJewels).map(b=>({value:parseInt(b),label:P.TimelessJewels[b]}));let f=n.has("jewel")?t.find(b=>b.value==n.get("jewel")):void 0,c=n.has("conqueror")?{value:n.get("conqueror"),label:n.get("conqueror")}:void 0;const m=Object.values(P.PassiveSkills).map(b=>({value:b.Index,label:b.Name+" ("+b.ID+")"}));let r=n.has("passive_skill")?m.find(b=>b.value==n.get("passive_skill")):void 0,d=n.has("seed")?n.get("seed"):0,h;const u=()=>{{const b={};f&&(b.jewel=f.value),c&&(b.conqueror=c.value),r&&(b.passive_skill=r.value),d&&(b.seed=d);const G=Object.keys(b).map(q=>q+"="+encodeURIComponent(b[q])).join("&");Te(a.url.pathname+"?"+G)}};function o(b){f=b,s(0,f)}function _(b){c=b,s(1,c)}function p(b){r=b,s(2,r)}function R(){d=be(this.value),s(3,d)}return i.$$.update=()=>{i.$$.dirty&1&&s(5,l=f?Object.keys(P.TimelessJewelConquerors[f.value]).map(b=>({value:b,label:b})):[]),i.$$.dirty&15&&r&&d&&f&&c&&s(4,h=De.Calculate(r.value,typeof d=="string"?parseInt(d):d,f.value,c.value))},[f,c,r,d,h,l,t,m,u,o,_,p,R]}class He extends Ce{constructor(e){super(),Re(this,e,Je,Ee,we,{})}}export{He as component};
