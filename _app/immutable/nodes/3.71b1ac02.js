var Kl=Object.defineProperty;var Yl=(t,e,l)=>e in t?Kl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ce=(t,e,l)=>(Yl(t,typeof e!="symbol"?e+"":e,l),l);import{s as $e,r as gt,f as T,a as U,g as E,h as V,d as k,c as B,j as y,k as We,i as j,D as A,H as kt,I as Ae,u as pt,v as vt,w as bt,F as it,J as Gl,o as Ml,K as Ot,L as Xl,M as Q,p as lt,y as He,N as zl,e as ke,A as Nl,z as p,l as G,x as de,m as X,n as we,G as st,E as Ye,O as me,B as Tt,C as Ge,P as Dt,Q as Vt}from"../chunks/scheduler.a4661fe7.js";import{S as et,i as tt,a as F,t as Y,g as De,c as Ve,b as je,d as Je,m as Ue,e as Be,f as Et}from"../chunks/index.0ccbc0e6.js";import{e as Le,u as Wl,o as Ql,g as Zl,S as Ct}from"../chunks/navigation.a31a86e9.js";import{r as xl,h as $l}from"../chunks/singletons.bfe30b90.js";import{b as es,a as Qe,d as zt,t as jt,c as rt,o as Jt,e as St,f as Ut,i as Bt,g as Ft,h as ts,j as Ht,k as qt,m as ls,n as Kt,p as ss,q as It,s as ns,r as is,u as rs}from"../chunks/worker.3cc7398a.js";import{c as Ol,d as se}from"../chunks/index.098253ec.js";import{p as as}from"../chunks/stores.e90a356e.js";const Dl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class os{constructor(){Ce(this,"currentLayerId");Ce(this,"setups");Ce(this,"renderers");Ce(this,"dispatchers");Ce(this,"needsSetup");Ce(this,"needsRedraw");Ce(this,"context");Ce(this,"width");Ce(this,"height");Ce(this,"autoclear");Ce(this,"pixelRatio");Ce(this,"renderLoop");Ce(this,"layerObserver");Ce(this,"layerRef");Ce(this,"layerSequence");Ce(this,"renderingLayerId");Ce(this,"activeLayerId");Ce(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var n;const e=this.context,l=this.width,s=this.height,i=this.pixelRatio;if(this.needsSetup){for(const[r,u]of this.setups)u({context:e,width:l,height:s}),this.setups.delete(r);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(i,0,0,i,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const r of this.layerSequence)this.renderingLayerId=r,(n=this.renderers.get(r))==null||n({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:i,clientY:n}=e.changedTouches[0],r={x:i-l,y:n-s,originalEvent:e};this.activeLayerDispatcher(e.type,r)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const us=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,i=e&255;return`rgb(${l}, ${s}, ${i})`},fs=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},cs=["drawImage"],hs=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],ds=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],ms=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),i=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(i).observe(t.canvas,{attributeFilter:["width","height"]}),i(),new Proxy(t,{get(r,u){if(u==="_getLayerIdAtPixel")return(o,h)=>{const[v,m,_]=s.getImageData(o,h,1,1).data;return fs(v,m,_)};const a=r[u];return typeof a!="function"?a:function(...o){if(ds.includes(u)){const h=us(e());s.fillStyle=h,s.strokeStyle=h}if(u==="drawImage"){const h=o.slice(1);s.fillRect(...h)}return cs.includes(u)||Reflect.apply(a,s,o),Reflect.apply(a,r,o)}},set(r,u,a){return u==="_renderingLayerId"?(e=a,!0):(r[u]=a,hs.includes(u)||(s[u]=a),!0)}})};function _s(t){let e,l,s,i=`${t[0]}px`,n=`${t[1]}px`,r,u,a,o,h;const v=t[18].default,m=gt(v,t,t[17],null);return{c(){e=T("canvas"),r=U(),u=T("div"),m&&m.c(),this.h()},l(_){e=E(_,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),V(e).forEach(k),r=B(_),u=E(_,"DIV",{});var f=V(u);m&&m.l(f),f.forEach(k),this.h()},h(){y(e,"width",l=t[0]*t[5]),y(e,"height",s=t[1]*t[5]),y(e,"class",t[4]),y(e,"style",t[2]),We(e,"display","block"),We(e,"width",i),We(e,"height",n),We(u,"display","none")},m(_,f){j(_,e,f),t[64](e),j(_,r,f),j(_,u,f),m&&m.m(u,null),t[65](u),a=!0,o||(h=[A(e,"touchstart",kt(function(){Ae(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),A(e,"mousemove",function(){Ae(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"pointermove",function(){Ae(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"click",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"contextmenu",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"dblclick",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mousedown",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseenter",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseleave",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseup",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"wheel",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"touchcancel",kt(function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchend",kt(function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchmove",kt(function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"pointerenter",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerleave",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerdown",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerup",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointercancel",function(){Ae(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"focus",t[19]),A(e,"blur",t[20]),A(e,"fullscreenchange",t[21]),A(e,"fullscreenerror",t[22]),A(e,"scroll",t[23]),A(e,"cut",t[24]),A(e,"copy",t[25]),A(e,"paste",t[26]),A(e,"keydown",t[27]),A(e,"keypress",t[28]),A(e,"keyup",t[29]),A(e,"auxclick",t[30]),A(e,"click",t[31]),A(e,"contextmenu",t[32]),A(e,"dblclick",t[33]),A(e,"mousedown",t[34]),A(e,"mouseenter",t[35]),A(e,"mouseleave",t[36]),A(e,"mousemove",t[37]),A(e,"mouseover",t[38]),A(e,"mouseout",t[39]),A(e,"mouseup",t[40]),A(e,"select",t[41]),A(e,"wheel",t[42]),A(e,"drag",t[43]),A(e,"dragend",t[44]),A(e,"dragenter",t[45]),A(e,"dragstart",t[46]),A(e,"dragleave",t[47]),A(e,"dragover",t[48]),A(e,"drop",t[49]),A(e,"touchcancel",t[50]),A(e,"touchend",t[51]),A(e,"touchmove",t[52]),A(e,"touchstart",t[53]),A(e,"pointerover",t[54]),A(e,"pointerenter",t[55]),A(e,"pointerdown",t[56]),A(e,"pointermove",t[57]),A(e,"pointerup",t[58]),A(e,"pointercancel",t[59]),A(e,"pointerout",t[60]),A(e,"pointerleave",t[61]),A(e,"gotpointercapture",t[62]),A(e,"lostpointercapture",t[63])],o=!0)},p(_,f){t=_,(!a||f[0]&33&&l!==(l=t[0]*t[5]))&&y(e,"width",l),(!a||f[0]&34&&s!==(s=t[1]*t[5]))&&y(e,"height",s),(!a||f[0]&16)&&y(e,"class",t[4]),(!a||f[0]&4)&&y(e,"style",t[2]);const c=f[0]&4;c&&We(e,"display","block"),(c||f[0]&5&&i!==(i=`${t[0]}px`))&&We(e,"width",i),(c||f[0]&6&&n!==(n=`${t[1]}px`))&&We(e,"height",n),m&&m.p&&(!a||f[0]&131072)&&pt(m,v,t,t[17],a?bt(v,t[17],f,null):vt(t[17]),null)},i(_){a||(F(m,_),a=!0)},o(_){Y(m,_),a=!1},d(_){_&&(k(e),k(r),k(u)),t[64](null),m&&m.d(_),t[65](null),o=!1,it(h)}}}const Vl=Symbol(),gs=()=>Xl(Vl);function ps(t,e,l){let s,{$$slots:i={},$$scope:n}=e,{width:r=640,height:u=640,pixelRatio:a=null,style:o="",autoclear:h=!0,layerEvents:v=!1}=e,{class:m=""}=e,_,f=null,c;const d=new os;function b(){d.redraw()}function g(){return _}function I(){return f}a==null&&(typeof window<"u"?a=window.devicePixelRatio:a=2),Gl(Vl,{register:d.register,unregister:d.unregister,redraw:d.redraw}),Ml(()=>{const S=_.getContext("2d");v?(f=ms(S),f._renderingLayerId=d.getRenderingLayerId):f=S,d.setup(f,c)}),Ot(()=>d.destroy());const L=S=>{const ht=S.offsetX*s,dt=S.offsetY*s,mt=f._getLayerIdAtPixel(ht,dt);d.setActiveLayer(mt,S),d.dispatchLayerEvent(S)},O=S=>{const{clientX:ht,clientY:dt}=S.changedTouches[0],{left:mt,top:Rt}=_.getBoundingClientRect(),Lt=(ht-mt)*s,Pt=(dt-Rt)*s,Mt=f._getLayerIdAtPixel(Lt,Pt);d.setActiveLayer(Mt,S),d.dispatchLayerEvent(S)},D=S=>{window.TouchEvent&&S instanceof TouchEvent&&S.preventDefault(),d.dispatchLayerEvent(S)};function M(S){Q.call(this,t,S)}function q(S){Q.call(this,t,S)}function z(S){Q.call(this,t,S)}function J(S){Q.call(this,t,S)}function P(S){Q.call(this,t,S)}function x(S){Q.call(this,t,S)}function ne(S){Q.call(this,t,S)}function _e(S){Q.call(this,t,S)}function ce(S){Q.call(this,t,S)}function Se(S){Q.call(this,t,S)}function Pe(S){Q.call(this,t,S)}function pe(S){Q.call(this,t,S)}function ue(S){Q.call(this,t,S)}function ee(S){Q.call(this,t,S)}function ye(S){Q.call(this,t,S)}function Ne(S){Q.call(this,t,S)}function fe(S){Q.call(this,t,S)}function R(S){Q.call(this,t,S)}function w(S){Q.call(this,t,S)}function $(S){Q.call(this,t,S)}function te(S){Q.call(this,t,S)}function N(S){Q.call(this,t,S)}function W(S){Q.call(this,t,S)}function K(S){Q.call(this,t,S)}function he(S){Q.call(this,t,S)}function ve(S){Q.call(this,t,S)}function Oe(S){Q.call(this,t,S)}function ie(S){Q.call(this,t,S)}function H(S){Q.call(this,t,S)}function Z(S){Q.call(this,t,S)}function oe(S){Q.call(this,t,S)}function re(S){Q.call(this,t,S)}function Me(S){Q.call(this,t,S)}function Ie(S){Q.call(this,t,S)}function Ke(S){Q.call(this,t,S)}function ae(S){Q.call(this,t,S)}function Te(S){Q.call(this,t,S)}function Xe(S){Q.call(this,t,S)}function Fe(S){Q.call(this,t,S)}function ze(S){Q.call(this,t,S)}function qe(S){Q.call(this,t,S)}function at(S){Q.call(this,t,S)}function ft(S){Q.call(this,t,S)}function ct(S){Q.call(this,t,S)}function ot(S){Q.call(this,t,S)}function ut(S){lt[S?"unshift":"push"](()=>{_=S,l(6,_)})}function At(S){lt[S?"unshift":"push"](()=>{c=S,l(7,c)})}return t.$$set=S=>{"width"in S&&l(0,r=S.width),"height"in S&&l(1,u=S.height),"pixelRatio"in S&&l(11,a=S.pixelRatio),"style"in S&&l(2,o=S.style),"autoclear"in S&&l(12,h=S.autoclear),"layerEvents"in S&&l(3,v=S.layerEvents),"class"in S&&l(4,m=S.class),"$$scope"in S&&l(17,n=S.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=a??1),t.$$.dirty[0]&1&&l(16,d.width=r,d),t.$$.dirty[0]&2&&l(16,d.height=u,d),t.$$.dirty[0]&32&&l(16,d.pixelRatio=s,d),t.$$.dirty[0]&4096&&l(16,d.autoclear=h,d),t.$$.dirty[0]&71683&&d.redraw()},[r,u,o,v,m,s,_,c,L,O,D,a,h,b,g,I,d,n,i,M,q,z,J,P,x,ne,_e,ce,Se,Pe,pe,ue,ee,ye,Ne,fe,R,w,$,te,N,W,K,he,ve,Oe,ie,H,Z,oe,re,Me,Ie,Ke,ae,Te,Xe,Fe,ze,qe,at,ft,ct,ot,ut,At]}class vs extends et{constructor(e){super(),tt(this,e,ps,_s,$e,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function bs(t){let e;return{c(){e=T("div"),this.h()},l(l){e=E(l,"DIV",{"data-layer-id":!0}),V(e).forEach(k),this.h()},h(){y(e,"data-layer-id",t[0])},m(l,s){j(l,e,s)},p:He,i:He,o:He,d(l){l&&k(e)}}}function ws(t,e,l){const{register:s,unregister:i,redraw:n}=gs(),r=zl();let{setup:u=void 0}=e,{render:a=()=>{}}=e;const o=s({setup:u,render:a,dispatcher:r});return Ot(()=>i(o)),t.$$set=h=>{"setup"in h&&l(1,u=h.setup),"render"in h&&l(2,a=h.render)},t.$$.update=()=>{t.$$.dirty&4&&n()},[o,u,a]}class ks extends et{constructor(e){super(),tt(this,e,ws,bs,$e,{setup:1,render:2})}}let Yt;const ql=Date.now(),jl=t=>(t(Date.now()-ql),Yt=window.requestAnimationFrame(()=>jl(t)),()=>window.cancelAnimationFrame(Yt));function Ss(){}const ys=xl(Date.now()-ql,typeof window>"u"?Ss:jl),{window:Nt}=Dl;function Gt(t){let e,l,s,i,n,r;l=new vs({props:{width:t[0],height:t[1],$$slots:{default:[Is]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const u=t[26].default,a=gt(u,t,t[27],null);return{c(){e=T("div"),je(l.$$.fragment),s=U(),a&&a.c(),this.h()},l(o){e=E(o,"DIV",{style:!0});var h=V(e);Je(l.$$.fragment,h),s=B(h),a&&a.l(h),h.forEach(k),this.h()},h(){We(e,"touch-action","none"),We(e,"cursor",t[2])},m(o,h){j(o,e,h),Ue(l,e,null),p(e,s),a&&a.m(e,null),i=!0,n||(r=A(e,"resize",t[9]),n=!0)},p(o,h){const v={};h[0]&1&&(v.width=o[0]),h[0]&2&&(v.height=o[1]),h[0]&134217736&&(v.$$scope={dirty:h,ctx:o}),l.$set(v),a&&a.p&&(!i||h[0]&134217728)&&pt(a,u,o,o[27],i?bt(u,o[27],h,null):vt(o[27]),null),(!i||h[0]&4)&&We(e,"cursor",o[2])},i(o){i||(F(l.$$.fragment,o),F(a,o),i=!0)},o(o){Y(l.$$.fragment,o),Y(a,o),i=!1},d(o){o&&k(e),Be(l),a&&a.d(o),n=!1,r()}}}function Is(t){let e,l;return e=new ks({props:{render:t[3]}}),{c(){je(e.$$.fragment)},l(s){Je(e.$$.fragment,s)},m(s,i){Ue(e,s,i),l=!0},p(s,i){const n={};i[0]&8&&(n.render=s[3]),e.$set(n)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){Be(e,s)}}}function Ts(t){let e,l,s,i,n=t[0]&&t[1]&&Gt(t);return{c(){n&&n.c(),e=ke()},l(r){n&&n.l(r),e=ke()},m(r,u){n&&n.m(r,u),j(r,e,u),l=!0,s||(i=[A(Nt,"pointerup",t[6]),A(Nt,"pointermove",t[7]),A(Nt,"resize",t[9])],s=!0)},p(r,u){r[0]&&r[1]?n?(n.p(r,u),u[0]&3&&F(n,1)):(n=Gt(r),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(De(),Y(n,1,1,()=>{n=null}),Ve())},i(r){l||(F(n),l=!0)},o(r){Y(n),l=!1},d(r){r&&k(e),n&&n.d(r),s=!1,it(i)}}}const Xt="25px Roboto Mono",Wt="17px Roboto Mono",Qt=2.6;function Es(t,e,l){let s,i,n,{$$slots:r={},$$scope:u}=e,{clickNode:a}=e,{circledNode:o}=e,{selectedJewel:h}=e,{selectedConqueror:v}=e,{seed:m}=e,{highlighted:_=[]}=e,{disabled:f=[]}=e,{highlightJewels:c=!1}=e;const d=$l(ys,w=>(!_||!_.length)&&!c?0:Math.round(w/40));Nl(t,d,w=>l(25,n=w));const b=[427,320,226,227,323,422,329];let g=10,I=0,L=0;const O={},D={},M=(w,$,te,N=!1,W=!1)=>{let K=N?ts[$]:Ht[$];!K&&N&&(K=Ht[$]);const he=K.filename;he in(N?D:O)||((N?D:O)[he]=new Image,(N?D:O)[he].src=he);const ve=K.coords[$],Oe=ve.w/g*Qt,ie=ve.h/g*Qt,H=te.x-Oe/2,Z=te.y-ie/2;let oe=Z;W&&(oe=Z-ie/2),w.drawImage((N?D:O)[he],ve.x,ve.y,ve.w,ve.h,H,oe,Oe,ie),W&&(w.save(),w.translate(H,Z),w.rotate(Math.PI),w.drawImage((N?D:O)[he],ve.x,ve.y,ve.w,ve.h,-Oe,-(ie/2),Oe,-ie),w.restore())},q=(w,$,te)=>{const N=[];let W="";return w.split(" ").forEach(K=>{$.measureText(W+K).width<te?W+=" "+K:(N.push(W.trim()),W=K)}),W.length>0&&N.push(W.trim()),N};let z={x:Number.MIN_VALUE,y:Number.MIN_VALUE},J="unset",P,x=0,ne=0,_e=0,ce=0,Se=!1;const Pe=w=>{Se=!0,x=w.offsetX,ne=w.offsetY,_e=I,ce=L,l(21,z={x:w.offsetX,y:w.offsetY}),P&&a(P)},pe=w=>{w.type==="pointerup"&&(Se=!1),l(21,z={x:w.offsetX,y:w.offsetY})},ue=w=>{Se&&(l(19,I=_e-(x-w.offsetX)*g),l(20,L=ce-(ne-w.offsetY)*g)),l(21,z={x:w.offsetX,y:w.offsetY})},ee=w=>{w.deltaY>0?g<30&&(l(19,I+=w.offsetX),l(20,L+=w.offsetY)):g>3&&(l(19,I-=w.offsetX),l(20,L-=w.offsetY)),l(18,g=Math.min(30,Math.max(3,g+w.deltaY/100))),w.preventDefault(),w.stopPropagation(),w.stopImmediatePropagation()};let ye=0,Ne=0;const fe=()=>{l(0,ye=window.innerWidth),l(1,Ne=window.innerHeight)};let R=!1;return t.$$set=w=>{"clickNode"in w&&l(10,a=w.clickNode),"circledNode"in w&&l(11,o=w.circledNode),"selectedJewel"in w&&l(12,h=w.selectedJewel),"selectedConqueror"in w&&l(13,v=w.selectedConqueror),"seed"in w&&l(14,m=w.seed),"highlighted"in w&&l(15,_=w.highlighted),"disabled"in w&&l(16,f=w.disabled),"highlightJewels"in w&&l(17,c=w.highlightJewels),"$$scope"in w&&l(27,u=w.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=es/g),t.$$.dirty[0]&8650752&&(!R&&Qe&&(l(23,R=!0),l(19,I=Qe.min_x+window.innerWidth/2*g),l(20,L=Qe.min_y+window.innerHeight/2*g)),fe()),t.$$.dirty[0]&58718208&&l(3,i=({context:w,width:$,height:te})=>{const N=window.performance.now();w.clearRect(0,0,$,te),w.fillStyle="#080c11",w.fillRect(0,0,$,te);const W={};Object.keys(zt).forEach(ie=>{const H=zt[ie],Z=jt(H.x,H.y,I,L,g),oe=Math.max(...H.orbits);b.indexOf(parseInt(ie))>=0||(oe==1?M(w,"PSGroupBackground1",Z,!1):oe==2?M(w,"PSGroupBackground2",Z,!1):(oe==3||H.orbits.length>1)&&M(w,"PSGroupBackground3",Z,!1,!0))}),Object.keys(rt).forEach(ie=>{var re;const H=rt[ie],Z=Jt(H.orbit,H.orbitIndex),oe=St(H,I,L,g);(re=H.out)==null||re.forEach(Me=>{if(!rt[parseInt(Me)])return;const Ie=Math.min(parseInt(Me),parseInt(ie)),Ke=Math.max(parseInt(Me),parseInt(ie)),ae=Ie+":"+Ke;if(ae in W)return;W[ae]=!0;const Te=rt[parseInt(Me)];if(!Te||Te.isMastery)return;const Xe=Jt(Te.orbit,Te.orbitIndex),Fe=St(Te,I,L,g);if(w.beginPath(),H.group!=Te.group||H.orbit!=Te.orbit)w.moveTo(oe.x,oe.y),w.lineTo(Fe.x,Fe.y);else{let ze=Math.PI/180-Math.PI/180*Z,qe=Math.PI/180-Math.PI/180*Xe;ze-=Math.PI/2,qe-=Math.PI/2;const at=Math.abs(Math.max(ze,qe)-Math.min(ze,qe)),ft=at>Math.PI?Math.max(ze,qe):Math.min(ze,qe),ct=at>Math.PI?Math.min(ze,qe):Math.max(ze,qe),ot=zt[H.group],ut=jt(ot.x,ot.y,I,L,g);w.arc(ut.x,ut.y,Qe.constants.orbitRadii[H.orbit]/g+1,ft,ct)}w.lineWidth=6/g,w.strokeStyle="#524518",w.stroke()})});let K;o&&(K=St(rt[o],I,L,g),w.strokeStyle="#ad2b2b");let he=!1,ve;if(Object.keys(rt).forEach(ie=>{const H=rt[ie],Z=St(H,I,L,g);let oe=0,re=!1;o&&Ut(Z,K)<s&&(re=!0),f.indexOf(H.skill)>=0&&(re=!1),H.isKeystone?(oe=110,M(w,H.icon,Z,re),re?M(w,"KeystoneFrameAllocated",Z,!1):M(w,"KeystoneFrameUnallocated",Z,!1)):H.isNotable?(oe=70,M(w,H.icon,Z,re),re?M(w,"NotableFrameAllocated",Z,!1):M(w,"NotableFrameUnallocated",Z,!1)):H.isJewelSocket?(oe=70,H.expansionJewel?M(w,"JewelSocketAltNormal",Z,!1):re?M(w,"JewelFrameAllocated",Z,!1):M(w,"JewelFrameUnallocated",Z,!1)):H.isMastery?M(w,H.inactiveIcon,Z,re):(oe=50,M(w,H.icon,Z,re),re?M(w,"PSSkillFrameActive",Z,!1):M(w,"PSSkillFrame",Z,!1)),(_.indexOf(H.skill)>=0||c&&H.isJewelSocket)&&(w.strokeStyle=`hsl(${n}, 100%, 50%)`,w.lineWidth=3,w.beginPath(),w.arc(Z.x,Z.y,(oe+30)/g,0,Math.PI*2),w.stroke()),Ut(Z,z)<oe/g&&(ve=H,he=re)}),l(22,P=ve),o&&(w.strokeStyle="#ad2b2b",w.lineWidth=1,w.beginPath(),w.arc(K.x,K.y,s,0,Math.PI*2),w.stroke()),P){let ie=P.name,H=(P.stats||[]).map(ae=>({text:ae,special:!1}));if(!P.isJewelSocket&&he&&P.skill&&m&&h&&v){const ae=Ol.Calculate(se.TreeToPassive[P.skill].Index,m,h,v);ae&&("AlternatePassiveSkill"in ae&&ae.AlternatePassiveSkill&&(H=[],ie=ae.AlternatePassiveSkill.Name,"StatsKeys"in ae.AlternatePassiveSkill&&ae.AlternatePassiveSkill.StatsKeys.forEach((Te,Xe)=>{const Fe=se.GetStatByIndex(Te),ze=Bt[Fe.ID]||"";ze&&H.push({text:Ft(ze,ae.StatRolls[Xe])||Fe.ID,special:!0})})),ae.AlternatePassiveAdditionInformations&&ae.AlternatePassiveAdditionInformations.forEach(Te=>{"StatsKeys"in Te.AlternatePassiveAddition&&Te.AlternatePassiveAddition.StatsKeys.forEach((Xe,Fe)=>{const ze=se.GetStatByIndex(Xe),qe=Bt[ze.ID]||"";qe&&H.push({text:Ft(qe,Te.StatRolls[Fe])||ze.ID,special:!0})})}))}w.font=Xt;const Z=w.measureText(ie),oe=Math.max(Z.width+50,600);w.font=Wt;const re=[],Me=30;let Ie=85;H&&H.length>0?H.forEach(ae=>{re.length>0&&(Ie+=5),ae.text.split(`
`).forEach(Te=>{re.length>0&&(Ie+=10),q(Te,w,oe-Me).forEach(Fe=>{re.push({text:Fe,offset:Ie,special:ae.special}),Ie+=20})})}):P.isJewelSocket&&(re.push({text:"Click to select this socket",offset:Ie,special:!0}),Ie+=20);const Ke=55;w.fillStyle="rgba(75,63,24,0.9)",w.fillRect(z.x,z.y,oe,Ke),w.fillStyle="#ffffff",w.font=Xt,w.textAlign="center",w.fillText(ie,z.x+oe/2,z.y+35),w.fillStyle="rgba(0,0,0,0.8)",w.fillRect(z.x,z.y+Ke,oe,Ie-Ke),w.font=Wt,w.textAlign="left",re.forEach(ae=>{ae.special?w.fillStyle="#8cf34c":w.fillStyle="#ffffff",w.fillText(ae.text,z.x+Me/2,z.y+ae.offset)})}P&&P.isJewelSocket?l(2,J="pointer"):l(2,J="unset"),w.fillStyle="#ffffff",w.textAlign="right",w.font="12px Roboto Mono";const Oe=window.performance.now();w.fillText(`${(Oe-N).toFixed(1)}ms`,$-5,17)})},[ye,Ne,J,i,d,Pe,pe,ue,ee,fe,a,o,h,v,m,_,f,c,g,I,L,z,P,R,s,n,r,u]}class Cs extends et{constructor(e){super(),tt(this,e,Es,Ts,$e,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}function Zt(t,e,l){const s=t.slice();return s[6]=e[l],s}function xt(t,e,l){const s=t.slice();return s[9]=e[l],s}function $t(t){let e,l=Kt(t[9],t[6].stats[t[9]])+"",s;return{c(){e=T("li"),s=G(l)},l(i){e=E(i,"LI",{});var n=V(e);s=X(n,l),n.forEach(k)},m(i,n){j(i,e,n),p(e,s)},p(i,n){n&1&&l!==(l=Kt(i[9],i[6].stats[i[9]])+"")&&we(s,l)},d(i){i&&k(e)}}}function el(t){let e,l,s=Qe.nodes[t[6].passive].name+"",i,n,r=t[6].passive+"",u,a,o,h,v,m=Le(Object.keys(t[6].stats)),_=[];for(let f=0;f<m.length;f+=1)_[f]=$t(xt(t,m,f));return{c(){e=T("div"),l=T("span"),i=G(s),n=G(" ("),u=G(r),a=G(")"),o=U(),h=T("ul");for(let f=0;f<_.length;f+=1)_[f].c();v=U(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=V(e);l=E(c,"SPAN",{});var d=V(l);i=X(d,s),n=X(d," ("),u=X(d,r),a=X(d,")"),d.forEach(k),o=B(c),h=E(c,"UL",{class:!0});var b=V(h);for(let g=0;g<_.length;g+=1)_[g].l(b);b.forEach(k),v=B(c),c.forEach(k),this.h()},h(){y(h,"class","list-disc pl-6 font-bold"),y(e,"class","mt-2")},m(f,c){j(f,e,c),p(e,l),p(l,i),p(l,n),p(l,u),p(l,a),p(e,o),p(e,h);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(h,null);p(e,v)},p(f,c){if(c&1&&s!==(s=Qe.nodes[f[6].passive].name+"")&&we(i,s),c&1&&r!==(r=f[6].passive+"")&&we(u,r),c&1){m=Le(Object.keys(f[6].stats));let d;for(d=0;d<m.length;d+=1){const b=xt(f,m,d);_[d]?_[d].p(b,c):(_[d]=$t(b),_[d].c(),_[d].m(h,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=m.length}},d(f){f&&k(e),st(_,f)}}}function As(t){let e,l,s,i="Trade",n,r,u,a=t[0].seed+"",o,h,v=t[0].weight+"",m,_,f=t[0].statTotal+"",c,d,b,g,I="Trade",L,O,D,M=Le(t[0].skills),q=[];for(let z=0;z<M.length;z+=1)q[z]=el(Zt(t,M,z));return{c(){e=T("div"),l=T("div"),s=T("button"),s.textContent=i,n=U(),r=T("div"),u=G("Seed "),o=G(a),h=G(" (weight "),m=G(v),_=G(") (Stat Total "),c=G(f),d=G(")"),b=U(),g=T("button"),g.textContent=I,L=U();for(let z=0;z<q.length;z+=1)q[z].c();this.h()},l(z){e=E(z,"DIV",{class:!0,role:!0,tabindex:!0});var J=V(e);l=E(J,"DIV",{class:!0});var P=V(l);s=E(P,"BUTTON",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-1wpptz2"&&(s.textContent=i),n=B(P),r=E(P,"DIV",{class:!0});var x=V(r);u=X(x,"Seed "),o=X(x,a),h=X(x," (weight "),m=X(x,v),_=X(x,") (Stat Total "),c=X(x,f),d=X(x,")"),x.forEach(k),b=B(P),g=E(P,"BUTTON",{class:!0,"data-svelte-h":!0}),de(g)!=="svelte-8a6tec"&&(g.textContent=I),P.forEach(k),L=B(J);for(let ne=0;ne<q.length;ne+=1)q[ne].l(J);J.forEach(k),this.h()},h(){y(s,"class","px-3 invisible"),y(r,"class","font-bold text-orange-500 text-center"),y(g,"class","px-3 bg-blue-500/40 rounded"),y(l,"class","flex flex-row justify-between"),y(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer"),y(e,"role","button"),y(e,"tabindex","0")},m(z,J){j(z,e,J),p(e,l),p(l,s),p(l,n),p(l,r),p(r,u),p(r,o),p(r,h),p(r,m),p(r,_),p(r,c),p(r,d),p(l,b),p(l,g),p(e,L);for(let P=0;P<q.length;P+=1)q[P]&&q[P].m(e,null);O||(D=[A(g,"click",t[5]),A(e,"click",t[3]),A(e,"keydown",t[3])],O=!0)},p(z,[J]){if(J&1&&a!==(a=z[0].seed+"")&&we(o,a),J&1&&v!==(v=z[0].weight+"")&&we(m,v),J&1&&f!==(f=z[0].statTotal+"")&&we(c,f),J&1){M=Le(z[0].skills);let P;for(P=0;P<M.length;P+=1){const x=Zt(z,M,P);q[P]?q[P].p(x,J):(q[P]=el(x),q[P].c(),q[P].m(e,null))}for(;P<q.length;P+=1)q[P].d(1);q.length=M.length}},i:He,o:He,d(z){z&&k(e),st(q,z),O=!1,it(D)}}}function Rs(t,e,l){let{highlight:s}=e,{set:i}=e,{jewel:n}=e,{conqueror:r}=e;const u=()=>s(i.seed,i.skills.map(o=>o.passive)),a=()=>qt(ls(n,r,i));return t.$$set=o=>{"highlight"in o&&l(4,s=o.highlight),"set"in o&&l(0,i=o.set),"jewel"in o&&l(1,n=o.jewel),"conqueror"in o&&l(2,r=o.conqueror)},[i,n,r,u,s,a]}class Jl extends et{constructor(e){super(),tt(this,e,Rs,As,$e,{highlight:4,set:0,jewel:1,conqueror:2})}}const yt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},xe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},_t={OBSERVED:0,REQUESTED:1},Ls={[xe.VERTICAL]:"top",[xe.HORIZONTAL]:"left"},tl={[xe.VERTICAL]:"scrollTop",[xe.HORIZONTAL]:"scrollLeft"};class Ps{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),i=e;e+=s,this.itemSizeAndPositionData[l]={offset:i,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const n=this.getSize(i);if(n==null||isNaN(n))throw Error(`Invalid size returned for index ${i} of value ${n}`);this.itemSizeAndPositionData[i]={offset:s,size:n},s+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=yt.START,containerSize:l,currentOffset:s,targetIndex:i}){if(l<=0)return 0;const n=this.getSizeAndPositionForIndex(i),r=n.offset,u=r-l+n.size;let a;switch(e){case yt.END:a=u;break;case yt.CENTER:a=r-(l-n.size)/2;break;case yt.START:a=r;break;default:a=Math.max(u,Math.min(r,s))}const o=this.getTotalSize();return Math.max(0,Math.min(o-l,a))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const n=l+e;let r=this.findNearestItem(l);if(r===void 0)throw Error(`Invalid offset ${l} specified`);const u=this.getSizeAndPositionForIndex(r);l=u.offset+u.size;let a=r;for(;l<n&&a<this.itemCount-1;)a++,l+=this.getSizeAndPositionForIndex(a).size;return s&&(r=Math.max(0,r-s),a=Math.min(a+s,this.itemCount-1)),{start:r,stop:a}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let i=0,n=0;for(;e<=l;){if(i=e+Math.floor((l-e)/2),n=this.getSizeAndPositionForIndex(i).offset,n===s)return i;n<s?e=i+1:n>s&&(l=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const Ms=t=>({}),ll=t=>({});function sl(t,e,l){const s=t.slice();return s[37]=e[l],s}const zs=t=>({style:t[0]&4,index:t[0]&4}),nl=t=>({style:t[37].style,index:t[37].index}),Ns=t=>({}),il=t=>({});function rl(t,e){let l,s;const i=e[21].item,n=gt(i,e,e[20],nl);return{key:t,first:null,c(){l=ke(),n&&n.c(),this.h()},l(r){l=ke(),n&&n.l(r),this.h()},h(){this.first=l},m(r,u){j(r,l,u),n&&n.m(r,u),s=!0},p(r,u){e=r,n&&n.p&&(!s||u[0]&1048580)&&pt(n,i,e,e[20],s?bt(i,e[20],u,zs):vt(e[20]),nl)},i(r){s||(F(n,r),s=!0)},o(r){Y(n,r),s=!1},d(r){r&&k(l),n&&n.d(r)}}}function Os(t){let e,l,s,i=[],n=new Map,r,u;const a=t[21].header,o=gt(a,t,t[20],il);let h=Le(t[2]);const v=f=>f[0]?f[0](f[37].index):f[37].index;for(let f=0;f<h.length;f+=1){let c=sl(t,h,f),d=v(c);n.set(d,i[f]=rl(d,c))}const m=t[21].footer,_=gt(m,t,t[20],ll);return{c(){e=T("div"),o&&o.c(),l=U(),s=T("div");for(let f=0;f<i.length;f+=1)i[f].c();r=U(),_&&_.c(),this.h()},l(f){e=E(f,"DIV",{class:!0,style:!0});var c=V(e);o&&o.l(c),l=B(c),s=E(c,"DIV",{class:!0,style:!0});var d=V(s);for(let b=0;b<i.length;b+=1)i[b].l(d);d.forEach(k),r=B(c),_&&_.l(c),c.forEach(k),this.h()},h(){y(s,"class","virtual-list-inner svelte-1d4hv8l"),y(s,"style",t[4]),y(e,"class","virtual-list-wrapper svelte-1d4hv8l"),y(e,"style",t[3])},m(f,c){j(f,e,c),o&&o.m(e,null),p(e,l),p(e,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);p(e,r),_&&_.m(e,null),t[22](e),u=!0},p(f,c){o&&o.p&&(!u||c[0]&1048576)&&pt(o,a,f,f[20],u?bt(a,f[20],c,Ns):vt(f[20]),il),c[0]&1048581&&(h=Le(f[2]),De(),i=Wl(i,c,v,1,f,h,n,s,Ql,rl,null,sl),Ve()),(!u||c[0]&16)&&y(s,"style",f[4]),_&&_.p&&(!u||c[0]&1048576)&&pt(_,m,f,f[20],u?bt(m,f[20],c,Ms):vt(f[20]),ll),(!u||c[0]&8)&&y(e,"style",f[3])},i(f){if(!u){F(o,f);for(let c=0;c<h.length;c+=1)F(i[c]);F(_,f),u=!0}},o(f){Y(o,f);for(let c=0;c<i.length;c+=1)Y(i[c]);Y(_,f),u=!1},d(f){f&&k(e),o&&o.d(f);for(let c=0;c<i.length;c+=1)i[c].d();_&&_.d(f),t[22](null)}}}const Ds=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Vs(t,e,l){let{$$slots:s={},$$scope:i}=e,{height:n}=e,{width:r="100%"}=e,{itemCount:u}=e,{itemSize:a}=e,{estimatedItemSize:o=null}=e,{stickyIndices:h=null}=e,{getKey:v=null}=e,{scrollDirection:m=xe.VERTICAL}=e,{scrollOffset:_=null}=e,{scrollToIndex:f=null}=e,{scrollToAlignment:c=null}=e,{scrollToBehaviour:d="instant"}=e,{overscanCount:b=3}=e;const g=zl(),I=new Ps({itemCount:u,itemSize:a,estimatedItemSize:ye()});let L=!1,O,D=[],M={offset:_||f!=null&&D.length&&pe(f)||0,scrollChangeReason:_t.REQUESTED},q=M,z={scrollToIndex:f,scrollToAlignment:c,scrollOffset:_,itemCount:u,itemSize:a,estimatedItemSize:o},J={},P="",x="";ce(),Ml(()=>{l(18,L=!0),O.addEventListener("scroll",ue,Ds),_!=null?Se(_):f!=null&&Se(pe(f))}),Ot(()=>{L&&O.removeEventListener("scroll",ue)});function ne(){if(!L)return;const R=z.scrollToIndex!==f||z.scrollToAlignment!==c,w=z.itemCount!==u||z.itemSize!==a||z.estimatedItemSize!==o;w&&(I.updateConfig({itemSize:a,itemCount:u,estimatedItemSize:ye()}),Pe()),z.scrollOffset!==_?l(19,M={offset:_||0,scrollChangeReason:_t.REQUESTED}):typeof f=="number"&&(R||w)&&l(19,M={offset:pe(f,c,u),scrollChangeReason:_t.REQUESTED}),z={scrollToIndex:f,scrollToAlignment:c,scrollOffset:_,itemCount:u,itemSize:a,estimatedItemSize:o}}function _e(){if(!L)return;const{offset:R,scrollChangeReason:w}=M;(q.offset!==R||q.scrollChangeReason!==w)&&ce(),q.offset!==R&&w===_t.REQUESTED&&Se(R),q=M}function ce(){const{offset:R}=M,{start:w,stop:$}=I.getVisibleRange({containerSize:m===xe.VERTICAL?n:r,offset:R,overscanCount:b});let te=[];const N=I.getTotalSize();m===xe.VERTICAL?(l(3,P=`height:${n}px;width:${r};`),l(4,x=`flex-direction:column;height:${N}px;`)):(l(3,P=`height:${n};width:${r}px`),l(4,x=`min-height:100%;width:${N}px;`));const W=h!=null&&h.length!==0;if(W)for(let K=0;K<h.length;K++){const he=h[K];te.push({index:he,style:Ne(he,!0)})}if(w!==void 0&&$!==void 0){for(let K=w;K<=$;K++)W&&h.includes(K)||te.push({index:K,style:Ne(K,!1)});g("itemsUpdated",{start:w,end:$})}l(2,D=te)}function Se(R){"scroll"in O?O.scroll({[Ls[m]]:R,behavior:d}):l(1,O[tl[m]]=R,O)}function Pe(R=0){J={},I.resetItem(R),ce()}function pe(R,w=c,$=u){return(R<0||R>=$)&&(R=0),I.getUpdatedOffsetForIndex({align:w,containerSize:m===xe.VERTICAL?n:r,currentOffset:M.offset||0,targetIndex:R})}function ue(R){const w=ee();w<0||M.offset===w||R.target!==O||(l(19,M={offset:w,scrollChangeReason:_t.OBSERVED}),g("afterScroll",{offset:w,event:R}))}function ee(){return O[tl[m]]}function ye(){return o||typeof a=="number"&&a||50}function Ne(R,w){if(J[R])return J[R];const{size:$,offset:te}=I.getSizeAndPositionForIndex(R);let N;return m===xe.VERTICAL?(N=`left:0;width:100%;height:${$}px;`,w?N+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${te}px;margin-bottom:${-(te+$)}px;`:N+=`position:absolute;top:${te}px;`):(N=`top:0;width:${$}px;`,w?N+=`position:sticky;z-index:1;left:0;margin-left:${te}px;margin-right:${-(te+$)}px;`:N+=`position:absolute;height:100%;left:${te}px;`),J[R]=N}function fe(R){lt[R?"unshift":"push"](()=>{O=R,l(1,O)})}return t.$$set=R=>{"height"in R&&l(5,n=R.height),"width"in R&&l(6,r=R.width),"itemCount"in R&&l(7,u=R.itemCount),"itemSize"in R&&l(8,a=R.itemSize),"estimatedItemSize"in R&&l(9,o=R.estimatedItemSize),"stickyIndices"in R&&l(10,h=R.stickyIndices),"getKey"in R&&l(0,v=R.getKey),"scrollDirection"in R&&l(11,m=R.scrollDirection),"scrollOffset"in R&&l(12,_=R.scrollOffset),"scrollToIndex"in R&&l(13,f=R.scrollToIndex),"scrollToAlignment"in R&&l(14,c=R.scrollToAlignment),"scrollToBehaviour"in R&&l(15,d=R.scrollToBehaviour),"overscanCount"in R&&l(16,b=R.overscanCount),"$$scope"in R&&l(20,i=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&ne(),t.$$.dirty[0]&524288&&_e(),t.$$.dirty[0]&263264&&L&&Pe(0)},[v,O,D,P,x,n,r,u,a,o,h,m,_,f,c,d,b,Pe,L,M,i,s,fe]}class Ul extends et{constructor(e){super(),tt(this,e,Vs,Os,$e,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function al(t,e,l){const s=t.slice();return s[9]=e[l],s}function qs(t){let e,l,s;return l=new Ul({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[6]),$$slots:{item:[Js,({style:i,index:n})=>({12:i,13:n}),({style:i,index:n})=>(i?4096:0)|(n?8192:0)]},$$scope:{ctx:t}}}),{c(){e=T("div"),je(l.$$.fragment),this.h()},l(i){e=E(i,"DIV",{class:!0});var n=V(e);Je(l.$$.fragment,n),n.forEach(k),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto")},m(i,n){j(i,e,n),Ue(l,e,null),s=!0},p(i,n){const r={};n&1&&(r.itemCount=i[0].raw.length),n&1&&(r.itemSize=i[0].raw.map(i[6])),n&28699&&(r.$$scope={dirty:n,ctx:i}),l.$set(r)},i(i){s||(F(l.$$.fragment,i),s=!0)},o(i){Y(l.$$.fragment,i),s=!1},d(i){i&&k(e),Be(l)}}}function js(t){let e,l,s=Le(Object.keys(t[0].grouped).map(t[7]).sort(fl).reverse()),i=[];for(let r=0;r<s.length;r+=1)i[r]=ul(al(t,s,r));const n=r=>Y(i[r],1,1,()=>{i[r]=null});return{c(){e=T("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=E(r,"DIV",{class:!0});var u=V(e);for(let a=0;a<i.length;a+=1)i[a].l(u);u.forEach(k),this.h()},h(){y(e,"class","flex flex-col overflow-auto")},m(r,u){j(r,e,u);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);l=!0},p(r,u){if(u&12411){s=Le(Object.keys(r[0].grouped).map(r[7]).sort(fl).reverse());let a;for(a=0;a<s.length;a+=1){const o=al(r,s,a);i[a]?(i[a].p(o,u),F(i[a],1)):(i[a]=ul(o),i[a].c(),F(i[a],1),i[a].m(e,null))}for(De(),a=s.length;a<i.length;a+=1)n(a);Ve()}},i(r){if(!l){for(let u=0;u<s.length;u+=1)F(i[u]);l=!0}},o(r){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)Y(i[u]);l=!1},d(r){r&&k(e),st(i,r)}}}function Js(t){let e,l,s,i;return l=new Jl({props:{set:t[0].raw[t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=T("div"),je(l.$$.fragment),this.h()},l(n){e=E(n,"DIV",{slot:!0,style:!0});var r=V(e);Je(l.$$.fragment,r),r.forEach(k),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(n,r){j(n,e,r),Ue(l,e,null),i=!0},p(n,r){const u={};r&8193&&(u.set=n[0].raw[n[13]]),r&2&&(u.highlight=n[1]),r&8&&(u.jewel=n[3]),r&16&&(u.conqueror=n[4]),l.$set(u),(!i||r&4096&&s!==(s=n[12]))&&y(e,"style",s)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){Y(l.$$.fragment,n),i=!1},d(n){n&&k(e),Be(l)}}}function ol(t){let e,l,s,i;return l=new Ul({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[9]].length,itemSize:t[0].grouped[t[9]].map(t[6]),$$slots:{item:[Us,({style:n,index:r})=>({12:n,13:r}),({style:n,index:r})=>(n?4096:0)|(r?8192:0)]},$$scope:{ctx:t}}}),{c(){e=T("div"),je(l.$$.fragment),s=U(),this.h()},l(n){e=E(n,"DIV",{class:!0});var r=V(e);Je(l.$$.fragment,r),s=B(r),r.forEach(k),this.h()},h(){y(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(n,r){j(n,e,r),Ue(l,e,null),p(e,s),i=!0},p(n,r){const u={};r&1&&(u.itemCount=n[0].grouped[n[9]].length),r&1&&(u.itemSize=n[0].grouped[n[9]].map(n[6])),r&28699&&(u.$$scope={dirty:r,ctx:n}),l.$set(u)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){Y(l.$$.fragment,n),i=!1},d(n){n&&k(e),Be(l)}}}function Us(t){let e,l,s,i;return l=new Jl({props:{set:t[0].grouped[t[9]][t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=T("div"),je(l.$$.fragment),this.h()},l(n){e=E(n,"DIV",{slot:!0,style:!0});var r=V(e);Je(l.$$.fragment,r),r.forEach(k),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(n,r){j(n,e,r),Ue(l,e,null),i=!0},p(n,r){const u={};r&8193&&(u.set=n[0].grouped[n[9]][n[13]]),r&2&&(u.highlight=n[1]),r&8&&(u.jewel=n[3]),r&16&&(u.conqueror=n[4]),l.$set(u),(!i||r&4096&&s!==(s=n[12]))&&y(e,"style",s)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){Y(l.$$.fragment,n),i=!1},d(n){n&&k(e),Be(l)}}}function ul(t){let e,l,s=t[9]+"",i,n,r=t[9]>1?"es":"",u,a,o=t[0].grouped[t[9]].length+"",h,v,m,_,f=t[5]===t[9]?"^":"V",c,d,b,g,I,L;function O(){return t[8](t[9])}let D=t[5]===t[9]&&ol(t);return{c(){e=T("button"),l=T("span"),i=G(s),n=G(" Match"),u=G(r),a=G(" ["),h=G(o),v=G("]"),m=U(),_=T("span"),c=G(f),d=U(),D&&D.c(),b=ke(),this.h()},l(M){e=E(M,"BUTTON",{class:!0});var q=V(e);l=E(q,"SPAN",{});var z=V(l);i=X(z,s),n=X(z," Match"),u=X(z,r),a=X(z," ["),h=X(z,o),v=X(z,"]"),z.forEach(k),m=B(q),_=E(q,"SPAN",{});var J=V(_);c=X(J,f),J.forEach(k),q.forEach(k),d=B(M),D&&D.l(M),b=ke(),this.h()},h(){y(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(M,q){j(M,e,q),p(e,l),p(l,i),p(l,n),p(l,u),p(l,a),p(l,h),p(l,v),p(e,m),p(e,_),p(_,c),j(M,d,q),D&&D.m(M,q),j(M,b,q),g=!0,I||(L=A(e,"click",O),I=!0)},p(M,q){t=M,(!g||q&1)&&s!==(s=t[9]+"")&&we(i,s),(!g||q&1)&&r!==(r=t[9]>1?"es":"")&&we(u,r),(!g||q&1)&&o!==(o=t[0].grouped[t[9]].length+"")&&we(h,o),(!g||q&33)&&f!==(f=t[5]===t[9]?"^":"V")&&we(c,f),t[5]===t[9]?D?(D.p(t,q),q&33&&F(D,1)):(D=ol(t),D.c(),F(D,1),D.m(b.parentNode,b)):D&&(De(),Y(D,1,1,()=>{D=null}),Ve())},i(M){g||(F(D),g=!0)},o(M){Y(D),g=!1},d(M){M&&(k(e),k(d),k(b)),D&&D.d(M),I=!1,L()}}}function Bs(t){let e,l,s,i;const n=[js,qs],r=[];function u(a,o){return a[2]?0:1}return e=u(t),l=r[e]=n[e](t),{c(){l.c(),s=ke()},l(a){l.l(a),s=ke()},m(a,o){r[e].m(a,o),j(a,s,o),i=!0},p(a,[o]){let h=e;e=u(a),e===h?r[e].p(a,o):(De(),Y(r[h],1,1,()=>{r[h]=null}),Ve(),l=r[e],l?l.p(a,o):(l=r[e]=n[e](a),l.c()),F(l,1),l.m(s.parentNode,s))},i(a){i||(F(l),i=!0)},o(a){Y(l),i=!1},d(a){a&&k(s),r[e].d(a)}}}const fl=(t,e)=>t-e;function Fs(t,e,l){let{searchResults:s}=e,{highlight:i}=e,{groupResults:n=!0}=e,{jewel:r}=e,{conqueror:u}=e;const a=m=>8+48+m.skills.reduce((_,f)=>_+32+Object.keys(f.stats).length*24,0);let o="";const h=m=>parseInt(m),v=m=>l(5,o=o===m?"":m);return t.$$set=m=>{"searchResults"in m&&l(0,s=m.searchResults),"highlight"in m&&l(1,i=m.highlight),"groupResults"in m&&l(2,n=m.groupResults),"jewel"in m&&l(3,r=m.jewel),"conqueror"in m&&l(4,u=m.conqueror)},[s,i,n,r,u,o,a,h,v]}class Hs extends et{constructor(e){super(),tt(this,e,Fs,Bs,$e,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const nt={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};function Ks(t){let e,l=t[2]?t[0]?"Hide Trade Links":"Show Trade Links":"Trade",s,i,n,r;return{c(){e=T("button"),s=G(l),this.h()},l(u){e=E(u,"BUTTON",{class:!0});var a=V(e);s=X(a,l),a.forEach(k),this.h()},h(){y(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!t[1]},m(u,a){j(u,e,a),p(e,s),n||(r=A(e,"click",t[3]),n=!0)},p(u,[a]){a&5&&l!==(l=u[2]?u[0]?"Hide Trade Links":"Show Trade Links":"Trade")&&we(s,l),a&2&&i!==(i=!u[1])&&(e.disabled=i)},i:He,o:He,d(u){u&&k(e),n=!1,r()}}}function Ys(t,e,l){let s,{queries:i}=e,{showTradeLinks:n=!1}=e;const r=()=>{i.length===1?qt(i[0]):s&&l(0,n=!n)};return t.$$set=u=>{"queries"in u&&l(1,i=u.queries),"showTradeLinks"in u&&l(0,n=u.showTradeLinks)},t.$$.update=()=>{t.$$.dirty&1&&console.log(n),t.$$.dirty&2&&l(2,s=i.length>1)},[n,i,s,r]}class Gs extends et{constructor(e){super(),tt(this,e,Ys,Ks,$e,{queries:1,showTradeLinks:0})}}function cl(t,e,l){const s=t.slice();return s[2]=e[l],s[4]=l,s}function hl(t){let e,l,s=t[4]+1+"",i,n,r,u;function a(){return t[1](t[2])}return{c(){e=T("button"),l=G("Trade Batch "),i=G(s),n=U(),this.h()},l(o){e=E(o,"BUTTON",{class:!0});var h=V(e);l=X(h,"Trade Batch "),i=X(h,s),n=B(h),h.forEach(k),this.h()},h(){y(e,"class","p-1 px-3 bg-blue-500/40 rounded")},m(o,h){j(o,e,h),p(e,l),p(e,i),p(e,n),r||(u=A(e,"click",a),r=!0)},p(o,h){t=o},d(o){o&&k(e),r=!1,u()}}}function Xs(t){let e,l=Le(t[0]),s=[];for(let i=0;i<l.length;i+=1)s[i]=hl(cl(t,l,i));return{c(){e=T("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=E(i,"DIV",{class:!0});var n=V(e);for(let r=0;r<s.length;r+=1)s[r].l(n);n.forEach(k),this.h()},h(){y(e,"class","flex flex-wrap gap-2.5 my-2")},m(i,n){j(i,e,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(i,[n]){if(n&1){l=Le(i[0]);let r;for(r=0;r<l.length;r+=1){const u=cl(i,l,r);s[r]?s[r].p(u,n):(s[r]=hl(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}},i:He,o:He,d(i){i&&k(e),st(s,i)}}}function Ws(t,e,l){let{queries:s}=e;const i=n=>qt(n);return t.$$set=n=>{"queries"in n&&l(0,s=n.queries)},[s,i]}class Qs extends et{constructor(e){super(),tt(this,e,Ws,Xs,$e,{queries:0})}}const{window:Zs}=Dl;function dl(t,e,l){const s=t.slice();return s[85]=e[l],s[86]=e,s[87]=l,s}function ml(t,e,l){const s=t.slice();return s[78]=e[l],s}function _l(t,e,l){const s=t.slice();return s[78]=e[l],s}function gl(t,e,l){const s=t.slice();return s[78]=e[l],s}function xs(t){let e,l="<div></div> <div></div> <div></div>",s,i;return{c(){e=T("button"),e.innerHTML=l,this.h()},l(n){e=E(n,"BUTTON",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){y(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(n,r){j(n,e,r),s||(i=A(e,"click",t[72]),s=!0)},p:He,i:He,o:He,d(n){n&&k(e),s=!1,i()}}}function $s(t){let e,l,s,i,n,r="<div></div> <div></div> <div></div>",u,a,o,h,v,m,_,f;function c(O,D){return O[5]?tn:en}let d=c(t),b=d(t),g=t[6]&&pl(t),I=!t[5]&&bl(t),L=t[6]&&t[5]&&Ll(t);return{c(){e=T("div"),l=T("div"),s=T("div"),i=T("div"),n=T("button"),n.innerHTML=r,u=U(),a=T("h3"),b.c(),o=U(),g&&g.c(),h=U(),I&&I.c(),v=U(),L&&L.c(),this.h()},l(O){e=E(O,"DIV",{class:!0});var D=V(e);l=E(D,"DIV",{class:!0});var M=V(l);s=E(M,"DIV",{class:!0});var q=V(s);i=E(q,"DIV",{class:!0});var z=V(i);n=E(z,"BUTTON",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-mvbl10"&&(n.innerHTML=r),u=B(z),a=E(z,"H3",{class:!0});var J=V(a);b.l(J),J.forEach(k),z.forEach(k),o=B(q),g&&g.l(q),q.forEach(k),h=B(M),I&&I.l(M),v=B(M),L&&L.l(M),M.forEach(k),D.forEach(k),this.h()},h(){y(n,"class","burger-menu mr-3"),y(a,"class","flex-grow"),y(i,"class","flex flex-row items-center"),y(s,"class","flex flex-row justify-between mb-2"),y(l,"class","p-4 max-h-screen flex flex-col"),y(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(O,D){j(O,e,D),p(e,l),p(l,s),p(s,i),p(i,n),p(i,u),p(i,a),b.m(a,null),p(s,o),g&&g.m(s,null),p(l,h),I&&I.m(l,null),p(l,v),L&&L.m(l,null),m=!0,_||(f=A(n,"click",t[49]),_=!0)},p(O,D){d!==(d=c(O))&&(b.d(1),b=d(O),b&&(b.c(),b.m(a,null))),O[6]?g?(g.p(O,D),D[0]&64&&F(g,1)):(g=pl(O),g.c(),F(g,1),g.m(s,null)):g&&(De(),Y(g,1,1,()=>{g=null}),Ve()),O[5]?I&&(De(),Y(I,1,1,()=>{I=null}),Ve()):I?(I.p(O,D),D[0]&32&&F(I,1)):(I=bl(O),I.c(),F(I,1),I.m(l,v)),O[6]&&O[5]?L?(L.p(O,D),D[0]&96&&F(L,1)):(L=Ll(O),L.c(),F(L,1),L.m(l,null)):L&&(De(),Y(L,1,1,()=>{L=null}),Ve())},i(O){m||(F(g),F(I),F(L),m=!0)},o(O){Y(g),Y(I),Y(L),m=!1},d(O){O&&k(e),b.d(),g&&g.d(),I&&I.d(),L&&L.d(),_=!1,f()}}}function en(t){let e,l="Timeless Jewel";return{c(){e=T("span"),e.textContent=l},l(s){e=E(s,"SPAN",{"data-svelte-h":!0}),de(e)!=="svelte-ddxked"&&(e.textContent=l)},m(s,i){j(s,e,i)},d(s){s&&k(e)}}}function tn(t){let e,l="Results";return{c(){e=T("span"),e.textContent=l},l(s){e=E(s,"SPAN",{"data-svelte-h":!0}),de(e)!=="svelte-rq68qg"&&(e.textContent=l)},m(s,i){j(s,e,i)},d(s){s&&k(e)}}}function pl(t){let e,l,s,i=t[5]?"Config":"Results",n,r,u,a,o=t[5]&&vl(t);return{c(){e=T("div"),o&&o.c(),l=U(),s=T("button"),n=G(i),this.h()},l(h){e=E(h,"DIV",{class:!0});var v=V(e);o&&o.l(v),l=B(v),s=E(v,"BUTTON",{class:!0});var m=V(s);n=X(m,i),m.forEach(k),v.forEach(k),this.h()},h(){y(s,"class","bg-neutral-100/20 px-4 p-1 rounded"),y(e,"class","flex flex-row")},m(h,v){j(h,e,v),o&&o.m(e,null),p(e,l),p(e,s),p(s,n),r=!0,u||(a=A(s,"click",t[52]),u=!0)},p(h,v){h[5]?o?(o.p(h,v),v[0]&32&&F(o,1)):(o=vl(h),o.c(),F(o,1),o.m(e,l)):o&&(De(),Y(o,1,1,()=>{o=null}),Ve()),(!r||v[0]&32)&&i!==(i=h[5]?"Config":"Results")&&we(n,i)},i(h){r||(F(o),r=!0)},o(h){Y(o),r=!1},d(h){h&&k(e),o&&o.d(),u=!1,a()}}}function vl(t){let e,l,s,i,n,r,u,a,o;function h(m){t[50](m)}let v={queries:t[13]};return t[25]!==void 0&&(v.showTradeLinks=t[25]),e=new Gs({props:v}),lt.push(()=>Et(e,"showTradeLinks",h)),{c(){je(e.$$.fragment),s=U(),i=T("button"),n=G("Grouped"),this.h()},l(m){Je(e.$$.fragment,m),s=B(m),i=E(m,"BUTTON",{class:!0});var _=V(i);n=X(_,"Grouped"),_.forEach(k),this.h()},h(){y(i,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-1n2bhso"),i.disabled=r=!t[6],me(i,"grouped",t[9])},m(m,_){Ue(e,m,_),j(m,s,_),j(m,i,_),p(i,n),u=!0,a||(o=A(i,"click",t[51]),a=!0)},p(m,_){const f={};_[0]&8192&&(f.queries=m[13]),!l&&_[0]&33554432&&(l=!0,f.showTradeLinks=m[25],Tt(()=>l=!1)),e.$set(f),(!u||_[0]&64&&r!==(r=!m[6]))&&(i.disabled=r),(!u||_[0]&512)&&me(i,"grouped",m[9])},i(m){u||(F(e.$$.fragment,m),u=!0)},o(m){Y(e.$$.fragment,m),u=!1},d(m){m&&(k(s),k(i)),Be(e,m),a=!1,o()}}}function bl(t){let e,l,s,i,n;function r(o){t[53](o)}let u={items:t[29]};t[0]!==void 0&&(u.value=t[0]),e=new Ct({props:u}),lt.push(()=>Et(e,"value",r)),e.$on("change",t[35]);let a=t[0]&&wl(t);return{c(){je(e.$$.fragment),s=U(),a&&a.c(),i=ke()},l(o){Je(e.$$.fragment,o),s=B(o),a&&a.l(o),i=ke()},m(o,h){Ue(e,o,h),j(o,s,h),a&&a.m(o,h),j(o,i,h),n=!0},p(o,h){const v={};!l&&h[0]&1&&(l=!0,v.value=o[0],Tt(()=>l=!1)),e.$set(v),o[0]?a?(a.p(o,h),h[0]&1&&F(a,1)):(a=wl(o),a.c(),F(a,1),a.m(i.parentNode,i)):a&&(De(),Y(a,1,1,()=>{a=null}),Ve())},i(o){n||(F(e.$$.fragment,o),F(a),n=!0)},o(o){Y(e.$$.fragment,o),Y(a),n=!1},d(o){o&&(k(s),k(i)),Be(e,o),a&&a.d(o)}}}function wl(t){let e,l,s="Conqueror",i,n,r,u,a=t[14]&&Object.keys(se.TimelessJewelConquerors[t[0].value]).indexOf(t[14].value)>=0,o,h;function v(f){t[54](f)}let m={items:t[28]};t[1]!==void 0&&(m.value=t[1]),n=new Ct({props:m}),lt.push(()=>Et(n,"value",v)),n.$on("change",t[30]);let _=a&&kl(t);return{c(){e=T("div"),l=T("h3"),l.textContent=s,i=U(),je(n.$$.fragment),u=U(),_&&_.c(),o=ke(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=V(e);l=E(c,"H3",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1jyt00f"&&(l.textContent=s),i=B(c),Je(n.$$.fragment,c),c.forEach(k),u=B(f),_&&_.l(f),o=ke(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(f,c){j(f,e,c),p(e,l),p(e,i),Ue(n,e,null),j(f,u,c),_&&_.m(f,c),j(f,o,c),h=!0},p(f,c){const d={};c[0]&268435456&&(d.items=f[28]),!r&&c[0]&2&&(r=!0,d.value=f[1],Tt(()=>r=!1)),n.$set(d),c[0]&16385&&(a=f[14]&&Object.keys(se.TimelessJewelConquerors[f[0].value]).indexOf(f[14].value)>=0),a?_?(_.p(f,c),c[0]&16385&&F(_,1)):(_=kl(f),_.c(),F(_,1),_.m(o.parentNode,o)):_&&(De(),Y(_,1,1,()=>{_=null}),Ve())},i(f){h||(F(n.$$.fragment,f),F(_),h=!0)},o(f){Y(n.$$.fragment,f),Y(_),h=!1},d(f){f&&(k(e),k(u),k(o)),Be(n),_&&_.d(f)}}}function kl(t){let e,l,s="Enter Seed",i,n,r="Select Stats",u,a,o,h,v,m,_,f;const c=[sn,ln],d=[];function b(I,L){return I[16]==="seed"?0:I[16]==="stats"?1:-1}~(a=b(t))&&(o=d[a]=c[a](t));let g=!t[3]&&Rl();return{c(){e=T("div"),l=T("button"),l.textContent=s,i=U(),n=T("button"),n.textContent=r,u=U(),o&&o.c(),h=U(),g&&g.c(),v=ke(),this.h()},l(I){e=E(I,"DIV",{class:!0});var L=V(e);l=E(L,"BUTTON",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-l4qe05"&&(l.textContent=s),i=B(L),n=E(L,"BUTTON",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-1d9agkx"&&(n.textContent=r),L.forEach(k),u=B(I),o&&o.l(I),h=B(I),g&&g.l(I),v=ke(),this.h()},h(){y(l,"class","selection-button svelte-1n2bhso"),me(l,"selected",t[16]==="seed"),y(n,"class","selection-button svelte-1n2bhso"),me(n,"selected",t[16]==="stats"),y(e,"class","mt-4 w-full flex flex-row")},m(I,L){j(I,e,L),p(e,l),p(e,i),p(e,n),j(I,u,L),~a&&d[a].m(I,L),j(I,h,L),g&&g.m(I,L),j(I,v,L),m=!0,_||(f=[A(l,"click",t[55]),A(n,"click",t[56])],_=!0)},p(I,L){(!m||L[0]&65536)&&me(l,"selected",I[16]==="seed"),(!m||L[0]&65536)&&me(n,"selected",I[16]==="stats");let O=a;a=b(I),a===O?~a&&d[a].p(I,L):(o&&(De(),Y(d[O],1,1,()=>{d[O]=null}),Ve()),~a?(o=d[a],o?o.p(I,L):(o=d[a]=c[a](I),o.c()),F(o,1),o.m(h.parentNode,h)):o=null),I[3]?g&&(g.d(1),g=null):g||(g=Rl(),g.c(),g.m(v.parentNode,v))},i(I){m||(F(o),m=!0)},o(I){Y(o),m=!1},d(I){I&&(k(e),k(u),k(h),k(v)),~a&&d[a].d(I),g&&g.d(I),_=!1,it(f)}}}function ln(t){let e,l,s="Add Stat",i,n,r,u=Object.keys(t[4]).length>0,a,o,h={items:t[26]};n=new Ct({props:h}),t[64](n),n.$on("change",t[33]);let v=u&&Sl(t);return{c(){e=T("div"),l=T("h3"),l.textContent=s,i=U(),je(n.$$.fragment),r=U(),v&&v.c(),a=ke(),this.h()},l(m){e=E(m,"DIV",{class:!0});var _=V(e);l=E(_,"H3",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-8jbl9c"&&(l.textContent=s),i=B(_),Je(n.$$.fragment,_),_.forEach(k),r=B(m),v&&v.l(m),a=ke(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(m,_){j(m,e,_),p(e,l),p(e,i),Ue(n,e,null),j(m,r,_),v&&v.m(m,_),j(m,a,_),o=!0},p(m,_){const f={};_[0]&67108864&&(f.items=m[26]),n.$set(f),_[0]&16&&(u=Object.keys(m[4]).length>0),u?v?v.p(m,_):(v=Sl(m),v.c(),v.m(a.parentNode,a)):v&&(v.d(1),v=null)},i(m){o||(F(n.$$.fragment,m),o=!0)},o(m){Y(n.$$.fragment,m),o=!1},d(m){m&&(k(e),k(r),k(a)),t[64](null),Be(n),v&&v.d(m)}}}function sn(t){let e,l,s="Seed",i,n,r,u,a,o,h,v,m,_,f=(t[2]<se.TimelessJewelSeedRanges[t[0].value].Min||t[2]>se.TimelessJewelSeedRanges[t[0].value].Max)&&Il(t),c=t[2]>=se.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=se.TimelessJewelSeedRanges[t[0].value].Max&&Tl(t);return{c(){e=T("div"),l=T("h3"),l.textContent=s,i=U(),n=T("input"),a=U(),f&&f.c(),o=U(),c&&c.c(),h=ke(),this.h()},l(d){e=E(d,"DIV",{class:!0});var b=V(e);l=E(b,"H3",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-12wsj4m"&&(l.textContent=s),i=B(b),n=E(b,"INPUT",{type:!0,min:!0,max:!0}),a=B(b),f&&f.l(b),b.forEach(k),o=B(d),c&&c.l(d),h=ke(),this.h()},h(){y(l,"class","mb-2"),y(n,"type","number"),y(n,"min",r=se.TimelessJewelSeedRanges[t[0].value].Min),y(n,"max",u=se.TimelessJewelSeedRanges[t[0].value].Max),y(e,"class","mt-4")},m(d,b){j(d,e,b),p(e,l),p(e,i),p(e,n),Ge(n,t[2]),p(e,a),f&&f.m(e,null),j(d,o,b),c&&c.m(d,b),j(d,h,b),v=!0,m||(_=[A(n,"input",t[57]),A(n,"blur",t[30])],m=!0)},p(d,b){(!v||b[0]&1&&r!==(r=se.TimelessJewelSeedRanges[d[0].value].Min))&&y(n,"min",r),(!v||b[0]&1&&u!==(u=se.TimelessJewelSeedRanges[d[0].value].Max))&&y(n,"max",u),b[0]&4&&Ye(n.value)!==d[2]&&Ge(n,d[2]),d[2]<se.TimelessJewelSeedRanges[d[0].value].Min||d[2]>se.TimelessJewelSeedRanges[d[0].value].Max?f?f.p(d,b):(f=Il(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),d[2]>=se.TimelessJewelSeedRanges[d[0].value].Min&&d[2]<=se.TimelessJewelSeedRanges[d[0].value].Max?c?(c.p(d,b),b[0]&5&&F(c,1)):(c=Tl(d),c.c(),F(c,1),c.m(h.parentNode,h)):c&&(De(),Y(c,1,1,()=>{c=null}),Ve())},i(d){v||(F(c),v=!0)},o(d){Y(c),v=!1},d(d){d&&(k(e),k(o),k(h)),f&&f.d(),c&&c.d(d),m=!1,it(_)}}}function Sl(t){let e,l,s,i,n,r="Minimum Total Weight:",u,a,o,h,v,m,_="Minimum Stat Total:",f,c,d,b,g,I,L,O,D,M,q,z,J,P,x,ne,_e,ce,Se,Pe,pe,ue,ee,ye,Ne,fe=Le(Object.keys(t[4])),R=[];for(let N=0;N<fe.length;N+=1)R[N]=yl(dl(t,fe,N));function w(N,W){return N[21]?rn:nn}let $=w(t),te=$(t);return{c(){e=T("div");for(let N=0;N<R.length;N+=1)R[N].c();l=U(),s=T("div"),i=T("div"),n=T("div"),n.textContent=r,u=U(),a=T("input"),o=U(),h=T("div"),v=T("div"),m=T("div"),m.textContent=_,f=U(),c=T("input"),d=U(),b=T("div"),g=T("div"),I=T("button"),L=G("Select All"),D=U(),M=T("button"),q=G("Notables"),J=U(),P=T("button"),x=G("Passives"),_e=U(),ce=T("button"),Se=G("Deselect"),pe=U(),ue=T("div"),ee=T("button"),te.c(),this.h()},l(N){e=E(N,"DIV",{class:!0});var W=V(e);for(let ae=0;ae<R.length;ae+=1)R[ae].l(W);W.forEach(k),l=B(N),s=E(N,"DIV",{class:!0});var K=V(s);i=E(K,"DIV",{class:!0});var he=V(i);n=E(he,"DIV",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-guh17n"&&(n.textContent=r),u=B(he),a=E(he,"INPUT",{type:!0,min:!0}),he.forEach(k),K.forEach(k),o=B(N),h=E(N,"DIV",{class:!0});var ve=V(h);v=E(ve,"DIV",{class:!0});var Oe=V(v);m=E(Oe,"DIV",{class:!0,"data-svelte-h":!0}),de(m)!=="svelte-1yc7psl"&&(m.textContent=_),f=B(Oe),c=E(Oe,"INPUT",{type:!0,min:!0}),Oe.forEach(k),ve.forEach(k),d=B(N),b=E(N,"DIV",{class:!0});var ie=V(b);g=E(ie,"DIV",{class:!0});var H=V(g);I=E(H,"BUTTON",{class:!0});var Z=V(I);L=X(Z,"Select All"),Z.forEach(k),D=B(H),M=E(H,"BUTTON",{class:!0});var oe=V(M);q=X(oe,"Notables"),oe.forEach(k),J=B(H),P=E(H,"BUTTON",{class:!0});var re=V(P);x=X(re,"Passives"),re.forEach(k),_e=B(H),ce=E(H,"BUTTON",{class:!0});var Me=V(ce);Se=X(Me,"Deselect"),Me.forEach(k),H.forEach(k),pe=B(ie),ue=E(ie,"DIV",{class:!0});var Ie=V(ue);ee=E(Ie,"BUTTON",{class:!0});var Ke=V(ee);te.l(Ke),Ke.forEach(k),Ie.forEach(k),ie.forEach(k),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),y(n,"class","mr-2 min-w-fit"),y(a,"type","number"),y(a,"min","0"),y(i,"class","flex flex-row items-center"),y(s,"class","flex flex-col mt-2"),y(m,"class","mr-2 min-w-fit"),y(c,"type","number"),y(c,"min","0"),y(v,"class","flex flex-row items-center"),y(h,"class","flex flex-col mt-2"),y(I,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),I.disabled=O=t[21]||t[17].size==0,y(M,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),M.disabled=z=t[21]||t[17].size==0,y(P,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),P.disabled=ne=t[21]||t[17].size==0,y(ce,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),ce.disabled=Pe=t[21]||t[17].size>=t[15].length,y(g,"class","flex flex-row"),y(ee,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),ee.disabled=t[21],y(ue,"class","flex flex-row mt-2"),y(b,"class","flex flex-col mt-4")},m(N,W){j(N,e,W);for(let K=0;K<R.length;K+=1)R[K]&&R[K].m(e,null);j(N,l,W),j(N,s,W),p(s,i),p(i,n),p(i,u),p(i,a),Ge(a,t[19]),j(N,o,W),j(N,h,W),p(h,v),p(v,m),p(v,f),p(v,c),Ge(c,t[20]),j(N,d,W),j(N,b,W),p(b,g),p(g,I),p(I,L),p(g,D),p(g,M),p(M,q),p(g,J),p(g,P),p(P,x),p(g,_e),p(g,ce),p(ce,Se),p(b,pe),p(b,ue),p(ue,ee),te.m(ee,null),ye||(Ne=[A(a,"input",t[69]),A(c,"input",t[70]),A(I,"click",t[38]),A(M,"click",t[39]),A(P,"click",t[40]),A(ce,"click",t[41]),A(ee,"click",t[71])],ye=!0)},p(N,W){if(W[0]&16|W[1]&8){fe=Le(Object.keys(N[4]));let K;for(K=0;K<fe.length;K+=1){const he=dl(N,fe,K);R[K]?R[K].p(he,W):(R[K]=yl(he),R[K].c(),R[K].m(e,null))}for(;K<R.length;K+=1)R[K].d(1);R.length=fe.length}W[0]&524288&&Ye(a.value)!==N[19]&&Ge(a,N[19]),W[0]&1048576&&Ye(c.value)!==N[20]&&Ge(c,N[20]),W[0]&2228224&&O!==(O=N[21]||N[17].size==0)&&(I.disabled=O),W[0]&2228224&&z!==(z=N[21]||N[17].size==0)&&(M.disabled=z),W[0]&2228224&&ne!==(ne=N[21]||N[17].size==0)&&(P.disabled=ne),W[0]&2260992&&Pe!==(Pe=N[21]||N[17].size>=N[15].length)&&(ce.disabled=Pe),$===($=w(N))&&te?te.p(N,W):(te.d(1),te=$(N),te&&(te.c(),te.m(ee,null))),W[0]&2097152&&(ee.disabled=N[21])},d(N){N&&(k(e),k(l),k(s),k(o),k(h),k(d),k(b)),st(R,N),te.d(),ye=!1,it(Ne)}}}function yl(t){let e,l,s,i="-",n,r,u=It(t[4][t[85]].id)+"",a,o,h,v,m,_="Min:",f,c,d,b,g,I="Weight:",L,O,D,M,q,z="Minimum Stat Total:",J,P,x,ne,_e;function ce(){return t[65](t[85])}function Se(){t[66].call(c,t[85])}function Pe(){t[67].call(O,t[85])}function pe(){t[68].call(P,t[85])}return{c(){e=T("div"),l=T("div"),s=T("button"),s.textContent=i,n=U(),r=T("span"),a=G(u),o=U(),h=T("div"),v=T("div"),m=T("div"),m.textContent=_,f=U(),c=T("input"),d=U(),b=T("div"),g=T("div"),g.textContent=I,L=U(),O=T("input"),D=U(),M=T("div"),q=T("div"),q.textContent=z,J=U(),P=T("input"),x=U(),this.h()},l(ue){e=E(ue,"DIV",{class:!0});var ee=V(e);l=E(ee,"DIV",{});var ye=V(l);s=E(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-bzfob2"&&(s.textContent=i),n=B(ye),r=E(ye,"SPAN",{});var Ne=V(r);a=X(Ne,u),Ne.forEach(k),ye.forEach(k),o=B(ee),h=E(ee,"DIV",{class:!0});var fe=V(h);v=E(fe,"DIV",{class:!0});var R=V(v);m=E(R,"DIV",{class:!0,"data-svelte-h":!0}),de(m)!=="svelte-1m3cjix"&&(m.textContent=_),f=B(R),c=E(R,"INPUT",{type:!0,min:!0}),R.forEach(k),d=B(fe),b=E(fe,"DIV",{class:!0});var w=V(b);g=E(w,"DIV",{class:!0,"data-svelte-h":!0}),de(g)!=="svelte-nrzr8j"&&(g.textContent=I),L=B(w),O=E(w,"INPUT",{type:!0,min:!0}),w.forEach(k),D=B(fe),M=E(fe,"DIV",{class:!0});var $=V(M);q=E($,"DIV",{class:!0,"data-svelte-h":!0}),de(q)!=="svelte-17d24if"&&(q.textContent=z),J=B($),P=E($,"INPUT",{type:!0,min:!0}),$.forEach(k),fe.forEach(k),x=B(ee),ee.forEach(k),this.h()},h(){y(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),y(m,"class","mr-2"),y(c,"type","number"),y(c,"min","0"),y(v,"class","mr-4 flex flex-row items-center"),y(g,"class","mr-2"),y(O,"type","number"),y(O,"min","0"),y(b,"class","flex flex-row items-center"),y(q,"class","mr-2"),y(P,"type","number"),y(P,"min","0"),y(M,"class","flex flex-row items-center"),y(h,"class","mt-2 flex flex-row"),y(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(ue,ee){j(ue,e,ee),p(e,l),p(l,s),p(l,n),p(l,r),p(r,a),p(e,o),p(e,h),p(h,v),p(v,m),p(v,f),p(v,c),Ge(c,t[4][t[85]].min),p(h,d),p(h,b),p(b,g),p(b,L),p(b,O),Ge(O,t[4][t[85]].weight),p(h,D),p(h,M),p(M,q),p(M,J),p(M,P),Ge(P,t[4][t[85]].statTotal),p(e,x),ne||(_e=[A(s,"click",ce),A(c,"input",Se),A(O,"input",Pe),A(P,"input",pe)],ne=!0)},p(ue,ee){t=ue,ee[0]&16&&u!==(u=It(t[4][t[85]].id)+"")&&we(a,u),ee[0]&16&&Ye(c.value)!==t[4][t[85]].min&&Ge(c,t[4][t[85]].min),ee[0]&16&&Ye(O.value)!==t[4][t[85]].weight&&Ge(O,t[4][t[85]].weight),ee[0]&16&&Ye(P.value)!==t[4][t[85]].statTotal&&Ge(P,t[4][t[85]].statTotal)},d(ue){ue&&k(e),ne=!1,it(_e)}}}function nn(t){let e;return{c(){e=G("Search")},l(l){e=X(l,"Search")},m(l,s){j(l,e,s)},p:He,d(l){l&&k(e)}}}function rn(t){let e,l,s=se.TimelessJewelSeedRanges[t[0].value].Max+"",i;return{c(){e=G(t[22]),l=G(" / "),i=G(s)},l(n){e=X(n,t[22]),l=X(n," / "),i=X(n,s)},m(n,r){j(n,e,r),j(n,l,r),j(n,i,r)},p(n,r){r[0]&4194304&&we(e,n[22]),r[0]&1&&s!==(s=se.TimelessJewelSeedRanges[n[0].value].Max+"")&&we(i,s)},d(n){n&&(k(e),k(l),k(i))}}}function Il(t){let e,l,s=se.TimelessJewelSeedRanges[t[0].value].Min+"",i,n,r=se.TimelessJewelSeedRanges[t[0].value].Max+"",u;return{c(){e=T("div"),l=G("Seed must be between "),i=G(s),n=G(`
                      and `),u=G(r),this.h()},l(a){e=E(a,"DIV",{class:!0});var o=V(e);l=X(o,"Seed must be between "),i=X(o,s),n=X(o,`
                      and `),u=X(o,r),o.forEach(k),this.h()},h(){y(e,"class","mt-2")},m(a,o){j(a,e,o),p(e,l),p(e,i),p(e,n),p(e,u)},p(a,o){o[0]&1&&s!==(s=se.TimelessJewelSeedRanges[a[0].value].Min+"")&&we(i,s),o[0]&1&&r!==(r=se.TimelessJewelSeedRanges[a[0].value].Max+"")&&we(u,r)},d(a){a&&k(e)}}}function Tl(t){let e,l,s,i="Sort Order",n,r,u,a,o,h,v="Colors",m,_,f,c="Split",d,b,g,I,L;function O(J){t[58](J)}let D={items:t[44]};t[10]!==void 0&&(D.value=t[10]),r=new Ct({props:D}),lt.push(()=>Et(r,"value",O));function M(J,P){return J[12]?an:on}let q=M(t),z=q(t);return{c(){e=T("div"),l=T("div"),s=T("h3"),s.textContent=i,n=U(),je(r.$$.fragment),a=U(),o=T("div"),h=T("button"),h.textContent=v,m=U(),_=T("div"),f=T("button"),f.textContent=c,d=U(),z.c(),b=ke(),this.h()},l(J){e=E(J,"DIV",{class:!0});var P=V(e);l=E(P,"DIV",{class:!0});var x=V(l);s=E(x,"H3",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-6mxxgp"&&(s.textContent=i),n=B(x),Je(r.$$.fragment,x),x.forEach(k),a=B(P),o=E(P,"DIV",{class:!0});var ne=V(o);h=E(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),de(h)!=="svelte-79cf57"&&(h.textContent=v),ne.forEach(k),m=B(P),_=E(P,"DIV",{class:!0});var _e=V(_);f=E(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),de(f)!=="svelte-1jp80zt"&&(f.textContent=c),_e.forEach(k),P.forEach(k),d=B(J),z.l(J),b=ke(),this.h()},h(){y(s,"class","mb-2"),y(l,"class","flex-grow"),y(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-1n2bhso"),me(h,"selected",t[11]),y(o,"class","ml-2"),y(f,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-1n2bhso"),me(f,"selected",t[12]),y(_,"class","ml-2"),y(e,"class","flex flex-row mt-4 items-end")},m(J,P){j(J,e,P),p(e,l),p(l,s),p(l,n),Ue(r,l,null),p(e,a),p(e,o),p(o,h),p(e,m),p(e,_),p(_,f),j(J,d,P),z.m(J,P),j(J,b,P),g=!0,I||(L=[A(h,"click",t[59]),A(f,"click",t[60])],I=!0)},p(J,P){const x={};!u&&P[0]&1024&&(u=!0,x.value=J[10],Tt(()=>u=!1)),r.$set(x),(!g||P[0]&2048)&&me(h,"selected",J[11]),(!g||P[0]&4096)&&me(f,"selected",J[12]),q===(q=M(J))&&z?z.p(J,P):(z.d(1),z=q(J),z&&(z.c(),z.m(b.parentNode,b)))},i(J){g||(F(r.$$.fragment,J),g=!0)},o(J){Y(r.$$.fragment,J),g=!1},d(J){J&&(k(e),k(d),k(b)),Be(r),z.d(J),I=!1,it(L)}}}function an(t){let e,l,s="Notables",i,n,r,u,a="Smalls",o,h,v=Le(t[43](t[42](t[27],t[11],"notables"),t[10].value)),m=[];for(let c=0;c<v.length;c+=1)m[c]=El(_l(t,v,c));let _=Le(t[43](t[42](t[27],t[11],"passives"),t[10].value)),f=[];for(let c=0;c<_.length;c+=1)f[c]=Cl(ml(t,_,c));return{c(){e=T("div"),l=T("h3"),l.textContent=s,i=U(),n=T("ul");for(let c=0;c<m.length;c+=1)m[c].c();r=U(),u=T("h3"),u.textContent=a,o=U(),h=T("ul");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=E(c,"DIV",{class:!0});var d=V(e);l=E(d,"H3",{"data-svelte-h":!0}),de(l)!=="svelte-uhg2bi"&&(l.textContent=s),i=B(d),n=E(d,"UL",{class:!0});var b=V(n);for(let I=0;I<m.length;I+=1)m[I].l(b);b.forEach(k),r=B(d),u=E(d,"H3",{class:!0,"data-svelte-h":!0}),de(u)!=="svelte-mdvksr"&&(u.textContent=a),o=B(d),h=E(d,"UL",{class:!0});var g=V(h);for(let I=0;I<f.length;I+=1)f[I].l(g);g.forEach(k),d.forEach(k),this.h()},h(){y(n,"class","mt-1 svelte-1n2bhso"),me(n,"rainbow",t[11]),y(u,"class","mt-2"),y(h,"class","mt-1 svelte-1n2bhso"),me(h,"rainbow",t[11]),y(e,"class","overflow-auto mt-4")},m(c,d){j(c,e,d),p(e,l),p(e,i),p(e,n);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(n,null);p(e,r),p(e,u),p(e,o),p(e,h);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(h,null)},p(c,d){if(d[0]&134220804|d[1]&6208){v=Le(c[43](c[42](c[27],c[11],"notables"),c[10].value));let b;for(b=0;b<v.length;b+=1){const g=_l(c,v,b);m[b]?m[b].p(g,d):(m[b]=El(g),m[b].c(),m[b].m(n,null))}for(;b<m.length;b+=1)m[b].d(1);m.length=v.length}if(d[0]&2048&&me(n,"rainbow",c[11]),d[0]&134220804|d[1]&6208){_=Le(c[43](c[42](c[27],c[11],"passives"),c[10].value));let b;for(b=0;b<_.length;b+=1){const g=ml(c,_,b);f[b]?f[b].p(g,d):(f[b]=Cl(g),f[b].c(),f[b].m(h,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=_.length}d[0]&2048&&me(h,"rainbow",c[11])},d(c){c&&k(e),st(m,c),st(f,c)}}}function on(t){let e,l=Le(t[43](t[42](t[27],t[11],"all"),t[10].value)),s=[];for(let i=0;i<l.length;i+=1)s[i]=Al(gl(t,l,i));return{c(){e=T("ul");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=E(i,"UL",{class:!0});var n=V(e);for(let r=0;r<s.length;r+=1)s[r].l(n);n.forEach(k),this.h()},h(){y(e,"class","mt-4 overflow-auto svelte-1n2bhso"),me(e,"rainbow",t[11])},m(i,n){j(i,e,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(i,n){if(n[0]&134220804|n[1]&6208){l=Le(i[43](i[42](i[27],i[11],"all"),i[10].value));let r;for(r=0;r<l.length;r+=1){const u=gl(i,l,r);s[r]?s[r].p(u,n):(s[r]=Al(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}n[0]&2048&&me(e,"rainbow",i[11])},d(i){i&&k(e),st(s,i)}}}function El(t){let e,l,s,i=t[78].passives.length+"",n,r,u,a,o,h=t[78].stat+"",v,m,_;function f(){return t[62](t[78])}return{c(){e=T("li"),l=T("span"),s=G("("),n=G(i),r=G(")"),u=U(),a=T("span"),o=new Dt(!1),v=U(),this.h()},l(c){e=E(c,"LI",{class:!0});var d=V(e);l=E(d,"SPAN",{class:!0});var b=V(l);s=X(b,"("),n=X(b,i),r=X(b,")"),b.forEach(k),u=B(d),a=E(d,"SPAN",{class:!0});var g=V(a);o=Vt(g,!1),g.forEach(k),v=B(d),d.forEach(k),this.h()},h(){y(l,"class","font-bold"),me(l,"text-white",(nt[t[78].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(c,d){j(c,e,d),p(e,l),p(l,s),p(l,n),p(l,r),p(e,u),p(e,a),o.m(h,a),p(e,v),m||(_=A(e,"click",f),m=!0)},p(c,d){t=c,d[0]&134220800&&i!==(i=t[78].passives.length+"")&&we(n,i),d[0]&134220800|d[1]&6144&&me(l,"text-white",(nt[t[78].id]||0)<3),d[0]&134220800&&h!==(h=t[78].stat+"")&&o.p(h)},d(c){c&&k(e),m=!1,_()}}}function Cl(t){let e,l,s,i=t[78].passives.length+"",n,r,u,a,o,h=t[78].stat+"",v,m,_;function f(){return t[63](t[78])}return{c(){e=T("li"),l=T("span"),s=G("("),n=G(i),r=G(")"),u=U(),a=T("span"),o=new Dt(!1),v=U(),this.h()},l(c){e=E(c,"LI",{class:!0});var d=V(e);l=E(d,"SPAN",{class:!0});var b=V(l);s=X(b,"("),n=X(b,i),r=X(b,")"),b.forEach(k),u=B(d),a=E(d,"SPAN",{class:!0});var g=V(a);o=Vt(g,!1),g.forEach(k),v=B(d),d.forEach(k),this.h()},h(){y(l,"class","font-bold"),me(l,"text-white",(nt[t[78].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(c,d){j(c,e,d),p(e,l),p(l,s),p(l,n),p(l,r),p(e,u),p(e,a),o.m(h,a),p(e,v),m||(_=A(e,"click",f),m=!0)},p(c,d){t=c,d[0]&134220800&&i!==(i=t[78].passives.length+"")&&we(n,i),d[0]&134220800|d[1]&6144&&me(l,"text-white",(nt[t[78].id]||0)<3),d[0]&134220800&&h!==(h=t[78].stat+"")&&o.p(h)},d(c){c&&k(e),m=!1,_()}}}function Al(t){let e,l,s,i=t[78].passives.length+"",n,r,u,a,o,h=t[78].stat+"",v,m,_;function f(){return t[61](t[78])}return{c(){e=T("li"),l=T("span"),s=G("("),n=G(i),r=G(")"),u=U(),a=T("span"),o=new Dt(!1),v=U(),this.h()},l(c){e=E(c,"LI",{class:!0});var d=V(e);l=E(d,"SPAN",{class:!0});var b=V(l);s=X(b,"("),n=X(b,i),r=X(b,")"),b.forEach(k),u=B(d),a=E(d,"SPAN",{class:!0});var g=V(a);o=Vt(g,!1),g.forEach(k),v=B(d),d.forEach(k),this.h()},h(){y(l,"class","font-bold"),me(l,"text-white",(nt[t[78].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(c,d){j(c,e,d),p(e,l),p(l,s),p(l,n),p(l,r),p(e,u),p(e,a),o.m(h,a),p(e,v),m||(_=A(e,"click",f),m=!0)},p(c,d){t=c,d[0]&134220800&&i!==(i=t[78].passives.length+"")&&we(n,i),d[0]&134220800|d[1]&6144&&me(l,"text-white",(nt[t[78].id]||0)<3),d[0]&134220800&&h!==(h=t[78].stat+"")&&o.p(h)},d(c){c&&k(e),m=!1,_()}}}function Rl(t){let e,l="Click on a jewel socket";return{c(){e=T("h2"),e.textContent=l,this.h()},l(s){e=E(s,"H2",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-4ztcob"&&(e.textContent=l),this.h()},h(){y(e,"class","mt-4")},m(s,i){j(s,e,i)},d(s){s&&k(e)}}}function Ll(t){let e,l,s,i=t[25]&&Pl(t);return l=new Hs({props:{searchResults:t[6],groupResults:t[9],highlight:t[37],jewel:t[7],conqueror:t[8]}}),{c(){i&&i.c(),e=U(),je(l.$$.fragment)},l(n){i&&i.l(n),e=B(n),Je(l.$$.fragment,n)},m(n,r){i&&i.m(n,r),j(n,e,r),Ue(l,n,r),s=!0},p(n,r){n[25]?i?(i.p(n,r),r[0]&33554432&&F(i,1)):(i=Pl(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(De(),Y(i,1,1,()=>{i=null}),Ve());const u={};r[0]&64&&(u.searchResults=n[6]),r[0]&512&&(u.groupResults=n[9]),r[0]&128&&(u.jewel=n[7]),r[0]&256&&(u.conqueror=n[8]),l.$set(u)},i(n){s||(F(i),F(l.$$.fragment,n),s=!0)},o(n){Y(i),Y(l.$$.fragment,n),s=!1},d(n){n&&k(e),i&&i.d(n),Be(l,n)}}}function Pl(t){let e,l;return e=new Qs({props:{queries:t[13]}}),{c(){je(e.$$.fragment)},l(s){Je(e.$$.fragment,s)},m(s,i){Ue(e,s,i),l=!0},p(s,i){const n={};i[0]&8192&&(n.queries=s[13]),e.$set(n)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){Y(e.$$.fragment,s),l=!1},d(s){Be(e,s)}}}function un(t){let e,l,s,i,n='<a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source of official branch code(Github)</a> <a href="https://github.com/BlazesRus/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a>',r;const u=[$s,xs],a=[];function o(h,v){return h[24]?1:0}return e=o(t),l=a[e]=u[e](t),{c(){l.c(),s=U(),i=T("div"),i.innerHTML=n,this.h()},l(h){l.l(h),s=B(h),i=E(h,"DIV",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-bgo7mc"&&(i.innerHTML=n),this.h()},h(){y(i,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(h,v){a[e].m(h,v),j(h,s,v),j(h,i,v),r=!0},p(h,v){let m=e;e=o(h),e===m?a[e].p(h,v):(De(),Y(a[m],1,1,()=>{a[m]=null}),Ve(),l=a[e],l?l.p(h,v):(l=a[e]=u[e](h),l.c()),F(l,1),l.m(s.parentNode,s))},i(h){r||(F(l),r=!0)},o(h){Y(l),r=!1},d(h){h&&(k(s),k(i)),a[e].d(h)}}}function fn(t){var n,r;let e,l,s,i;return e=new Cs({props:{clickNode:t[32],circledNode:t[3],selectedJewel:(n=t[0])==null?void 0:n.value,selectedConqueror:(r=t[14])==null?void 0:r.value,highlighted:t[23],seed:t[2],highlightJewels:!t[3],disabled:[...t[17]],$$slots:{default:[un]},$$scope:{ctx:t}}}),{c(){je(e.$$.fragment)},l(u){Je(e.$$.fragment,u)},m(u,a){Ue(e,u,a),l=!0,s||(i=A(Zs,"paste",t[45]),s=!0)},p(u,a){var h,v;const o={};a[0]&8&&(o.circledNode=u[3]),a[0]&1&&(o.selectedJewel=(h=u[0])==null?void 0:h.value),a[0]&16384&&(o.selectedConqueror=(v=u[14])==null?void 0:v.value),a[0]&8388608&&(o.highlighted=u[23]),a[0]&4&&(o.seed=u[2]),a[0]&8&&(o.highlightJewels=!u[3]),a[0]&131072&&(o.disabled=[...u[17]]),a[0]&528482303|a[2]&67108864&&(o.$$scope={dirty:a,ctx:u}),e.$set(o)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){Y(e.$$.fragment,u),l=!1},d(u){Be(e,u),s=!1,i()}}}function cn(t,e,l){let s,i,n,r,u,a,o,h,v;Nl(t,as,C=>l(74,v=C));const m=v.url.searchParams,_=Object.keys(se.TimelessJewels).map(C=>({value:parseInt(C),label:se.TimelessJewels[C]}));let f=m.has("jewel")?_.find(C=>C.value==m.get("jewel")):void 0,c=m.has("conqueror")?{value:m.get("conqueror"),label:m.get("conqueror")}:void 0,d=m.has("seed")?parseInt(m.get("seed")):0,b=m.has("location")?parseInt(m.get("location")):void 0,g={};m.has("stat")&&m.getAll("stat").forEach(C=>{const le=parseInt(C);l(4,g[le]={weight:1,min:0,id:le,minStatTotal:0},g)});let I=m.has("mode")?m.get("mode"):"";const L=()=>{const C=new URL(window.location.origin+window.location.pathname);f&&C.searchParams.append("jewel",f.value.toString()),c&&C.searchParams.append("conqueror",c.value),d&&C.searchParams.append("seed",d.toString()),b&&C.searchParams.append("location",b.toString()),I&&C.searchParams.append("mode",I),Object.keys(g).forEach(le=>{C.searchParams.append("stat",le.toString())}),Zl(C.toString())},O=C=>{l(16,I=C),L()};let D=new Set;const M=C=>{C.isJewelSocket?(l(3,b=C.skill),L()):C.isMastery||(D.has(C.skill)?D.delete(C.skill):D.add(C.skill),l(17,D))},q=JSON.parse(se.PossibleStats);let z;const J=C=>{l(4,g[C.detail.value]={weight:1,min:0,id:C.detail.value,minStatTotal:0},g),l(4,g),z.handleClear(),L()},P=C=>{delete g[C],l(4,g),L()},x=()=>{l(4,g={}),L()};let ne=!1,_e=0,ce=0,Se=!1,Pe=0,pe,ue=1,ee=null;const ye=()=>{if(!b)return;l(7,ue=f.value),l(8,ee=n?null:r.value),l(21,Se=!0),l(6,pe=void 0);const C={jewel:f.value,conqueror:r.value,nodes:u.filter(le=>!D.has(le.skill)).map(le=>se.TreeToPassive[le.skill]).filter(le=>!!le).map(le=>le.Index),stats:Object.keys(g).map(le=>g[le]),minTotalWeight:_e};ns.search(C,is(le=>l(22,Pe=le))).then(le=>{l(6,pe=le),l(21,Se=!1),l(5,ne=!0)})};let Ne=[];const fe=(C,le)=>{l(2,d=C),l(23,Ne=le),L()},R=()=>{D.clear(),l(17,D)},w=()=>{u.forEach(C=>{C.isNotable&&D.delete(C.skill)}),l(17,D)},$=()=>{u.forEach(C=>{C.isNotable||D.delete(C.skill)}),l(17,D)},te=()=>{u.filter(C=>!C.isJewelSocket&&!C.isMastery).forEach(C=>D.add(C.skill)),l(17,D)};let N=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const W={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},K=C=>(Object.keys(W).forEach(le=>{const be=W[le];C=C.replace(new RegExp(`(${le}(?:$|\\s))|((?:^|\\s)${le})`,"gi"),`<span style='color: ${be}; font-weight: bold'>$1$2</span>`)}),C),he=(C,le,be)=>{const Ee={};return C.forEach(ge=>{Qe.nodes[ge.node].isKeystone||be!=="all"&&(be==="notables"&&!Qe.nodes[ge.node].isNotable||be==="passives"&&Qe.nodes[ge.node].isNotable)||(ge.result.AlternatePassiveSkill&&ge.result.AlternatePassiveSkill.StatsKeys&&ge.result.AlternatePassiveSkill.StatsKeys.forEach(Re=>{Ee[Re]=[...Ee[Re]||[],ge.node]}),ge.result.AlternatePassiveAdditionInformations&&ge.result.AlternatePassiveAdditionInformations.forEach(Re=>{Re.AlternatePassiveAddition.StatsKeys&&Re.AlternatePassiveAddition.StatsKeys.forEach(Ze=>{Ee[Ze]=[...Ee[Ze]||[],ge.node]})}))}),Object.keys(Ee).map(ge=>{const Re=It(parseInt(ge));return{stat:le?K(Re):Re,rawStat:Re,id:ge,passives:Ee[ge]}})},ve=(C,le)=>{switch(le){case"alphabet":return C.sort((be,Ee)=>be.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(Ee.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return C.sort((be,Ee)=>Ee.passives.length-be.passives.length);case"rarity":return C.sort((be,Ee)=>q[f.value][be.id]-q[f.value][Ee.id]);case"value":return C.sort((be,Ee)=>{const ge=nt[be.id]||0,Re=nt[Ee.id]||0;return ge!=Re?Re-ge:q[f.value][be.id]-q[f.value][Ee.id]})}return C},Oe=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let ie=Oe.find(C=>C.value===(localStorage.getItem("sortOrder")||"count")),H=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",Z=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const oe=C=>{if(C.type!=="paste")return;const be=(C.clipboardData||window.clipboardData).getData("text").split(`
`);if(be.length<14)return;const Ee=_.find(Ze=>Ze.label===be[2]);if(!Ee)return;let ge,Re;for(let Ze=10;Ze<be.length;Ze++)if(Re=Object.keys(se.TimelessJewelConquerors[Ee.value]).find(wt=>be[Ze].indexOf(wt)>=0),Re){const wt=/(\d+)/.exec(be[Ze]);if(wt.length===0)continue;ge=parseInt(wt[1]);break}!Re||!ge||(l(5,ne=!1),l(16,I="seed"),l(2,d=ge),l(0,f=Ee),l(14,r={label:Re,value:Re}),L())};let re=!1,Me=!1,Ie;const Ke=()=>l(24,re=!0);function ae(C){Me=C,l(25,Me),l(6,pe),l(5,ne),l(7,ue),l(8,ee),l(13,Ie)}const Te=()=>l(9,N=!N),Xe=()=>l(5,ne=!ne);function Fe(C){f=C,l(0,f)}function ze(C){c=C,l(1,c)}const qe=()=>O("seed"),at=()=>O("stats");function ft(){d=Ye(this.value),l(2,d)}function ct(C){ie=C,l(10,ie)}const ot=()=>l(11,H=!H),ut=()=>l(12,Z=!Z),At=C=>fe(d,C.passives),S=C=>fe(d,C.passives),ht=C=>fe(d,C.passives);function dt(C){lt[C?"unshift":"push"](()=>{z=C,l(18,z)})}const mt=C=>P(g[C].id);function Rt(C){g[C].min=Ye(this.value),l(4,g)}function Lt(C){g[C].weight=Ye(this.value),l(4,g)}function Pt(C){g[C].statTotal=Ye(this.value),l(4,g)}function Mt(){_e=Ye(this.value),l(19,_e)}function Bl(){ce=Ye(this.value),l(20,ce)}const Fl=()=>ye(),Hl=()=>l(24,re=!1);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(48,s=f?Object.keys(se.TimelessJewelConquerors[f.value]).map(C=>({value:C,label:C})):[]),t.$$.dirty[1]&131072&&l(28,i=s.concat([{value:"Any",label:"Any"}])),t.$$.dirty[0]&2&&(n=(c==null?void 0:c.value)==="Any"),t.$$.dirty[0]&2|t.$$.dirty[1]&131072&&l(14,r=(c==null?void 0:c.value)==="Any"?s[0]:c),t.$$.dirty[0]&8&&l(15,u=b?ss(Qe.nodes[b]).filter(C=>!C.isJewelSocket&&!C.isMastery):[]),t.$$.dirty[0]&49157&&l(27,a=!d||!f||!r||Object.keys(se.TimelessJewelConquerors[f.value]).indexOf(r.value)<0?[]:u.filter(C=>!!se.TreeToPassive[C.skill]).map(C=>({node:C.skill,result:Ol.Calculate(se.TreeToPassive[C.skill].Index,d,f.value,r.value)}))),t.$$.dirty[0]&1&&l(47,o=f?Object.keys(q[f.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&65536&&l(26,h=o.map(C=>{const le=parseInt(C);return{label:It(le),value:le}}).filter(C=>!(C.value in g))),t.$$.dirty[0]&512&&localStorage.setItem("groupResults",N?"true":"false"),t.$$.dirty[0]&1024&&localStorage.setItem("sortOrder",ie.value),t.$$.dirty[0]&2048&&localStorage.setItem("colored",H?"true":"false"),t.$$.dirty[0]&4096&&localStorage.setItem("split",Z?"true":"false"),t.$$.dirty[0]&8672&&pe&&ne&&(l(13,Ie=rs(ue,ee,pe.raw)),Ie.length===1&&l(25,Me=!1))},[f,c,d,b,g,ne,pe,ue,ee,N,ie,H,Z,Ie,r,u,I,D,z,_e,ce,Se,Pe,Ne,re,Me,h,a,i,_,L,O,M,J,P,x,ye,fe,R,w,$,te,he,ve,Oe,oe,W,o,s,Ke,ae,Te,Xe,Fe,ze,qe,at,ft,ct,ot,ut,At,S,ht,dt,mt,Rt,Lt,Pt,Mt,Bl,Fl,Hl]}class wn extends et{constructor(e){super(),tt(this,e,cn,fn,$e,{colorKeys:46},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[46]}}export{wn as component};
