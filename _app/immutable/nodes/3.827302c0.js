var Bl=Object.defineProperty;var Fl=(t,e,l)=>e in t?Bl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ee=(t,e,l)=>(Fl(t,typeof e!="symbol"?e+"":e,l),l);import{s as $e,r as pt,f as E,a as J,g as C,h as V,d as k,c as U,j as y,k as Ye,i as q,D as A,H as St,I as Ce,u as vt,v as bt,w as wt,F as it,J as Hl,o as Pl,K as Ot,L as Kl,M as X,p as lt,y as He,N as Ml,e as Se,A as zl,z as v,l as K,x as de,m as Y,n as ke,G as st,E as Xe,O as _e,B as Tt,C as Ge,P as Dt,Q as Vt}from"../chunks/scheduler.a4661fe7.js";import{S as et,i as tt,a as F,t as H,g as Ne,c as Oe,b as qe,d as je,m as Je,e as Ue,f as Et}from"../chunks/index.0ccbc0e6.js";import{e as Re,u as Yl,o as Gl,g as Xl,S as Ct}from"../chunks/navigation.73886779.js";import{r as Wl,h as Ql}from"../chunks/singletons.388bef75.js";import{b as Zl,a as We,d as zt,t as jt,c as rt,o as Jt,e as yt,f as Ut,i as Bt,g as Ft,h as xl,j as Ht,k as qt,m as $l,n as ft,p as es,s as ts,q as ls,r as ss}from"../chunks/worker.428c1838.js";import{c as Nl,d as ie}from"../chunks/index.098253ec.js";import{p as ns}from"../chunks/stores.e6ac443e.js";const Ol=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;class is{constructor(){Ee(this,"currentLayerId");Ee(this,"setups");Ee(this,"renderers");Ee(this,"dispatchers");Ee(this,"needsSetup");Ee(this,"needsRedraw");Ee(this,"context");Ee(this,"width");Ee(this,"height");Ee(this,"autoclear");Ee(this,"pixelRatio");Ee(this,"renderLoop");Ee(this,"layerObserver");Ee(this,"layerRef");Ee(this,"layerSequence");Ee(this,"renderingLayerId");Ee(this,"activeLayerId");Ee(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:l,dispatcher:s}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.dispatchers.set(this.currentLayerId,s),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,l){this.context=e,this.layerRef=l,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(l=>+(l.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var n;const e=this.context,l=this.width,s=this.height,i=this.pixelRatio;if(this.needsSetup){for(const[r,u]of this.setups)u({context:e,width:l,height:s}),this.setups.delete(r);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(i,0,0,i,0,0),this.autoclear&&e.clearRect(0,0,l,s);for(const r of this.layerSequence)this.renderingLayerId=r,(n=this.renderers.get(r))==null||n({context:e,width:l,height:s});this.needsRedraw=!1}}setActiveLayer(e,l){this.activeLayerId!==e&&(l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",l)),this.dispatchLayerEvent(new MouseEvent("mouseleave",l))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),l instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",l)),this.dispatchLayerEvent(new MouseEvent("mouseenter",l))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:l,top:s}=e.target.getBoundingClientRect(),{clientX:i,clientY:n}=e.changedTouches[0],r={x:i-l,y:n-s,originalEvent:e};this.activeLayerDispatcher(e.type,r)}else if(e instanceof MouseEvent){const l={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,l)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const rs=t=>{const e=t*2,l=e>>16&255,s=e>>8&255,i=e&255;return`rgb(${l}, ${s}, ${i})`},as=(t,e,l)=>{const s=(t<<16|e<<8|l)/2;return s%1?0:s},os=["drawImage"],us=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],fs=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],cs=t=>{let e;const l=document.createElement("canvas"),s=l.getContext("2d",{willReadFrequently:!0}),i=()=>{l.width=t.canvas.width,l.height=t.canvas.height};return new MutationObserver(i).observe(t.canvas,{attributeFilter:["width","height"]}),i(),new Proxy(t,{get(r,u){if(u==="_getLayerIdAtPixel")return(o,h)=>{const[g,m,_]=s.getImageData(o,h,1,1).data;return as(g,m,_)};const a=r[u];return typeof a!="function"?a:function(...o){if(fs.includes(u)){const h=rs(e());s.fillStyle=h,s.strokeStyle=h}if(u==="drawImage"){const h=o.slice(1);s.fillRect(...h)}return os.includes(u)||Reflect.apply(a,s,o),Reflect.apply(a,r,o)}},set(r,u,a){return u==="_renderingLayerId"?(e=a,!0):(r[u]=a,us.includes(u)||(s[u]=a),!0)}})};function hs(t){let e,l,s,i=`${t[0]}px`,n=`${t[1]}px`,r,u,a,o,h;const g=t[18].default,m=pt(g,t,t[17],null);return{c(){e=E("canvas"),r=J(),u=E("div"),m&&m.c(),this.h()},l(_){e=C(_,"CANVAS",{width:!0,height:!0,class:!0,style:!0}),V(e).forEach(k),r=U(_),u=C(_,"DIV",{});var f=V(u);m&&m.l(f),f.forEach(k),this.h()},h(){y(e,"width",l=t[0]*t[5]),y(e,"height",s=t[1]*t[5]),y(e,"class",t[4]),y(e,"style",t[2]),Ye(e,"display","block"),Ye(e,"width",i),Ye(e,"height",n),Ye(u,"display","none")},m(_,f){q(_,e,f),t[64](e),q(_,r,f),q(_,u,f),m&&m.m(u,null),t[65](u),a=!0,o||(h=[A(e,"touchstart",St(function(){Ce(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),A(e,"mousemove",function(){Ce(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"pointermove",function(){Ce(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),A(e,"click",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"contextmenu",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"dblclick",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mousedown",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseenter",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseleave",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"mouseup",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"wheel",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"touchcancel",St(function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchend",St(function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"touchmove",St(function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),A(e,"pointerenter",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerleave",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerdown",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointerup",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"pointercancel",function(){Ce(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),A(e,"focus",t[19]),A(e,"blur",t[20]),A(e,"fullscreenchange",t[21]),A(e,"fullscreenerror",t[22]),A(e,"scroll",t[23]),A(e,"cut",t[24]),A(e,"copy",t[25]),A(e,"paste",t[26]),A(e,"keydown",t[27]),A(e,"keypress",t[28]),A(e,"keyup",t[29]),A(e,"auxclick",t[30]),A(e,"click",t[31]),A(e,"contextmenu",t[32]),A(e,"dblclick",t[33]),A(e,"mousedown",t[34]),A(e,"mouseenter",t[35]),A(e,"mouseleave",t[36]),A(e,"mousemove",t[37]),A(e,"mouseover",t[38]),A(e,"mouseout",t[39]),A(e,"mouseup",t[40]),A(e,"select",t[41]),A(e,"wheel",t[42]),A(e,"drag",t[43]),A(e,"dragend",t[44]),A(e,"dragenter",t[45]),A(e,"dragstart",t[46]),A(e,"dragleave",t[47]),A(e,"dragover",t[48]),A(e,"drop",t[49]),A(e,"touchcancel",t[50]),A(e,"touchend",t[51]),A(e,"touchmove",t[52]),A(e,"touchstart",t[53]),A(e,"pointerover",t[54]),A(e,"pointerenter",t[55]),A(e,"pointerdown",t[56]),A(e,"pointermove",t[57]),A(e,"pointerup",t[58]),A(e,"pointercancel",t[59]),A(e,"pointerout",t[60]),A(e,"pointerleave",t[61]),A(e,"gotpointercapture",t[62]),A(e,"lostpointercapture",t[63])],o=!0)},p(_,f){t=_,(!a||f[0]&33&&l!==(l=t[0]*t[5]))&&y(e,"width",l),(!a||f[0]&34&&s!==(s=t[1]*t[5]))&&y(e,"height",s),(!a||f[0]&16)&&y(e,"class",t[4]),(!a||f[0]&4)&&y(e,"style",t[2]);const c=f[0]&4;c&&Ye(e,"display","block"),(c||f[0]&5&&i!==(i=`${t[0]}px`))&&Ye(e,"width",i),(c||f[0]&6&&n!==(n=`${t[1]}px`))&&Ye(e,"height",n),m&&m.p&&(!a||f[0]&131072)&&vt(m,g,t,t[17],a?wt(g,t[17],f,null):bt(t[17]),null)},i(_){a||(F(m,_),a=!0)},o(_){H(m,_),a=!1},d(_){_&&(k(e),k(r),k(u)),t[64](null),m&&m.d(_),t[65](null),o=!1,it(h)}}}const Dl=Symbol(),ds=()=>Kl(Dl);function ms(t,e,l){let s,{$$slots:i={},$$scope:n}=e,{width:r=640,height:u=640,pixelRatio:a=null,style:o="",autoclear:h=!0,layerEvents:g=!1}=e,{class:m=""}=e,_,f=null,c;const d=new is;function w(){d.redraw()}function b(){return _}function I(){return f}a==null&&(typeof window<"u"?a=window.devicePixelRatio:a=2),Hl(Dl,{register:d.register,unregister:d.unregister,redraw:d.redraw}),Pl(()=>{const S=_.getContext("2d");g?(f=cs(S),f._renderingLayerId=d.getRenderingLayerId):f=S,d.setup(f,c)}),Ot(()=>d.destroy());const R=S=>{const dt=S.offsetX*s,mt=S.offsetY*s,_t=f._getLayerIdAtPixel(dt,mt);d.setActiveLayer(_t,S),d.dispatchLayerEvent(S)},D=S=>{const{clientX:dt,clientY:mt}=S.changedTouches[0],{left:_t,top:Rt}=_.getBoundingClientRect(),Lt=(dt-_t)*s,Pt=(mt-Rt)*s,Mt=f._getLayerIdAtPixel(Lt,Pt);d.setActiveLayer(Mt,S),d.dispatchLayerEvent(S)},O=S=>{window.TouchEvent&&S instanceof TouchEvent&&S.preventDefault(),d.dispatchLayerEvent(S)};function M(S){X.call(this,t,S)}function N(S){X.call(this,t,S)}function L(S){X.call(this,t,S)}function j(S){X.call(this,t,S)}function P(S){X.call(this,t,S)}function W(S){X.call(this,t,S)}function Z(S){X.call(this,t,S)}function ge(S){X.call(this,t,S)}function Le(S){X.call(this,t,S)}function pe(S){X.call(this,t,S)}function ee(S){X.call(this,t,S)}function Pe(S){X.call(this,t,S)}function he(S){X.call(this,t,S)}function le(S){X.call(this,t,S)}function B(S){X.call(this,t,S)}function x(S){X.call(this,t,S)}function $(S){X.call(this,t,S)}function z(S){X.call(this,t,S)}function p(S){X.call(this,t,S)}function Q(S){X.call(this,t,S)}function ae(S){X.call(this,t,S)}function se(S){X.call(this,t,S)}function me(S){X.call(this,t,S)}function re(S){X.call(this,t,S)}function ye(S){X.call(this,t,S)}function ve(S){X.call(this,t,S)}function Me(S){X.call(this,t,S)}function fe(S){X.call(this,t,S)}function G(S){X.call(this,t,S)}function te(S){X.call(this,t,S)}function ue(S){X.call(this,t,S)}function oe(S){X.call(this,t,S)}function De(S){X.call(this,t,S)}function Be(S){X.call(this,t,S)}function Qe(S){X.call(this,t,S)}function ce(S){X.call(this,t,S)}function Ie(S){X.call(this,t,S)}function Ke(S){X.call(this,t,S)}function Fe(S){X.call(this,t,S)}function ze(S){X.call(this,t,S)}function Ve(S){X.call(this,t,S)}function at(S){X.call(this,t,S)}function ct(S){X.call(this,t,S)}function ht(S){X.call(this,t,S)}function ot(S){X.call(this,t,S)}function ut(S){lt[S?"unshift":"push"](()=>{_=S,l(6,_)})}function At(S){lt[S?"unshift":"push"](()=>{c=S,l(7,c)})}return t.$$set=S=>{"width"in S&&l(0,r=S.width),"height"in S&&l(1,u=S.height),"pixelRatio"in S&&l(11,a=S.pixelRatio),"style"in S&&l(2,o=S.style),"autoclear"in S&&l(12,h=S.autoclear),"layerEvents"in S&&l(3,g=S.layerEvents),"class"in S&&l(4,m=S.class),"$$scope"in S&&l(17,n=S.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&l(5,s=a??1),t.$$.dirty[0]&1&&l(16,d.width=r,d),t.$$.dirty[0]&2&&l(16,d.height=u,d),t.$$.dirty[0]&32&&l(16,d.pixelRatio=s,d),t.$$.dirty[0]&4096&&l(16,d.autoclear=h,d),t.$$.dirty[0]&71683&&d.redraw()},[r,u,o,g,m,s,_,c,R,D,O,a,h,w,b,I,d,n,i,M,N,L,j,P,W,Z,ge,Le,pe,ee,Pe,he,le,B,x,$,z,p,Q,ae,se,me,re,ye,ve,Me,fe,G,te,ue,oe,De,Be,Qe,ce,Ie,Ke,Fe,ze,Ve,at,ct,ht,ot,ut,At]}class _s extends et{constructor(e){super(),tt(this,e,ms,hs,$e,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function gs(t){let e;return{c(){e=E("div"),this.h()},l(l){e=C(l,"DIV",{"data-layer-id":!0}),V(e).forEach(k),this.h()},h(){y(e,"data-layer-id",t[0])},m(l,s){q(l,e,s)},p:He,i:He,o:He,d(l){l&&k(e)}}}function ps(t,e,l){const{register:s,unregister:i,redraw:n}=ds(),r=Ml();let{setup:u=void 0}=e,{render:a=()=>{}}=e;const o=s({setup:u,render:a,dispatcher:r});return Ot(()=>i(o)),t.$$set=h=>{"setup"in h&&l(1,u=h.setup),"render"in h&&l(2,a=h.render)},t.$$.update=()=>{t.$$.dirty&4&&n()},[o,u,a]}class vs extends et{constructor(e){super(),tt(this,e,ps,gs,$e,{setup:1,render:2})}}let Kt;const Vl=Date.now(),ql=t=>(t(Date.now()-Vl),Kt=window.requestAnimationFrame(()=>ql(t)),()=>window.cancelAnimationFrame(Kt));function bs(){}const ws=Wl(Date.now()-Vl,typeof window>"u"?bs:ql),{window:Nt}=Ol;function Yt(t){let e,l,s,i,n,r;l=new _s({props:{width:t[0],height:t[1],$$slots:{default:[ks]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const u=t[26].default,a=pt(u,t,t[27],null);return{c(){e=E("div"),qe(l.$$.fragment),s=J(),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{style:!0});var h=V(e);je(l.$$.fragment,h),s=U(h),a&&a.l(h),h.forEach(k),this.h()},h(){Ye(e,"touch-action","none"),Ye(e,"cursor",t[2])},m(o,h){q(o,e,h),Je(l,e,null),v(e,s),a&&a.m(e,null),i=!0,n||(r=A(e,"resize",t[9]),n=!0)},p(o,h){const g={};h[0]&1&&(g.width=o[0]),h[0]&2&&(g.height=o[1]),h[0]&134217736&&(g.$$scope={dirty:h,ctx:o}),l.$set(g),a&&a.p&&(!i||h[0]&134217728)&&vt(a,u,o,o[27],i?wt(u,o[27],h,null):bt(o[27]),null),(!i||h[0]&4)&&Ye(e,"cursor",o[2])},i(o){i||(F(l.$$.fragment,o),F(a,o),i=!0)},o(o){H(l.$$.fragment,o),H(a,o),i=!1},d(o){o&&k(e),Ue(l),a&&a.d(o),n=!1,r()}}}function ks(t){let e,l;return e=new vs({props:{render:t[3]}}),{c(){qe(e.$$.fragment)},l(s){je(e.$$.fragment,s)},m(s,i){Je(e,s,i),l=!0},p(s,i){const n={};i[0]&8&&(n.render=s[3]),e.$set(n)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){H(e.$$.fragment,s),l=!1},d(s){Ue(e,s)}}}function Ss(t){let e,l,s,i,n=t[0]&&t[1]&&Yt(t);return{c(){n&&n.c(),e=Se()},l(r){n&&n.l(r),e=Se()},m(r,u){n&&n.m(r,u),q(r,e,u),l=!0,s||(i=[A(Nt,"pointerup",t[6]),A(Nt,"pointermove",t[7]),A(Nt,"resize",t[9])],s=!0)},p(r,u){r[0]&&r[1]?n?(n.p(r,u),u[0]&3&&F(n,1)):(n=Yt(r),n.c(),F(n,1),n.m(e.parentNode,e)):n&&(Ne(),H(n,1,1,()=>{n=null}),Oe())},i(r){l||(F(n),l=!0)},o(r){H(n),l=!1},d(r){r&&k(e),n&&n.d(r),s=!1,it(i)}}}const Gt="25px Roboto Mono",Xt="17px Roboto Mono",Wt=2.6;function ys(t,e,l){let s,i,n,{$$slots:r={},$$scope:u}=e,{clickNode:a}=e,{circledNode:o}=e,{selectedJewel:h}=e,{selectedConqueror:g}=e,{seed:m}=e,{highlighted:_=[]}=e,{disabled:f=[]}=e,{highlightJewels:c=!1}=e;const d=Ql(ws,p=>(!_||!_.length)&&!c?0:Math.round(p/40));zl(t,d,p=>l(25,n=p));const w=[427,320,226,227,323,422,329];let b=10,I=0,R=0;const D={},O={},M=(p,Q,ae,se=!1,me=!1)=>{let re=se?xl[Q]:Ht[Q];!re&&se&&(re=Ht[Q]);const ye=re.filename;ye in(se?O:D)||((se?O:D)[ye]=new Image,(se?O:D)[ye].src=ye);const ve=re.coords[Q],Me=ve.w/b*Wt,fe=ve.h/b*Wt,G=ae.x-Me/2,te=ae.y-fe/2;let ue=te;me&&(ue=te-fe/2),p.drawImage((se?O:D)[ye],ve.x,ve.y,ve.w,ve.h,G,ue,Me,fe),me&&(p.save(),p.translate(G,te),p.rotate(Math.PI),p.drawImage((se?O:D)[ye],ve.x,ve.y,ve.w,ve.h,-Me,-(fe/2),Me,-fe),p.restore())},N=(p,Q,ae)=>{const se=[];let me="";return p.split(" ").forEach(re=>{Q.measureText(me+re).width<ae?me+=" "+re:(se.push(me.trim()),me=re)}),me.length>0&&se.push(me.trim()),se};let L={x:Number.MIN_VALUE,y:Number.MIN_VALUE},j="unset",P,W=0,Z=0,ge=0,Le=0,pe=!1;const ee=p=>{pe=!0,W=p.offsetX,Z=p.offsetY,ge=I,Le=R,l(21,L={x:p.offsetX,y:p.offsetY}),P&&a(P)},Pe=p=>{p.type==="pointerup"&&(pe=!1),l(21,L={x:p.offsetX,y:p.offsetY})},he=p=>{pe&&(l(19,I=ge-(W-p.offsetX)*b),l(20,R=Le-(Z-p.offsetY)*b)),l(21,L={x:p.offsetX,y:p.offsetY})},le=p=>{p.deltaY>0?b<30&&(l(19,I+=p.offsetX),l(20,R+=p.offsetY)):b>3&&(l(19,I-=p.offsetX),l(20,R-=p.offsetY)),l(18,b=Math.min(30,Math.max(3,b+p.deltaY/100))),p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation()};let B=0,x=0;const $=()=>{l(0,B=window.innerWidth),l(1,x=window.innerHeight)};let z=!1;return t.$$set=p=>{"clickNode"in p&&l(10,a=p.clickNode),"circledNode"in p&&l(11,o=p.circledNode),"selectedJewel"in p&&l(12,h=p.selectedJewel),"selectedConqueror"in p&&l(13,g=p.selectedConqueror),"seed"in p&&l(14,m=p.seed),"highlighted"in p&&l(15,_=p.highlighted),"disabled"in p&&l(16,f=p.disabled),"highlightJewels"in p&&l(17,c=p.highlightJewels),"$$scope"in p&&l(27,u=p.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,s=Zl/b),t.$$.dirty[0]&8650752&&(!z&&We&&(l(23,z=!0),l(19,I=We.min_x+window.innerWidth/2*b),l(20,R=We.min_y+window.innerHeight/2*b)),$()),t.$$.dirty[0]&58718208&&l(3,i=({context:p,width:Q,height:ae})=>{const se=window.performance.now();p.clearRect(0,0,Q,ae),p.fillStyle="#080c11",p.fillRect(0,0,Q,ae);const me={};Object.keys(zt).forEach(fe=>{const G=zt[fe],te=jt(G.x,G.y,I,R,b),ue=Math.max(...G.orbits);w.indexOf(parseInt(fe))>=0||(ue==1?M(p,"PSGroupBackground1",te,!1):ue==2?M(p,"PSGroupBackground2",te,!1):(ue==3||G.orbits.length>1)&&M(p,"PSGroupBackground3",te,!1,!0))}),Object.keys(rt).forEach(fe=>{var oe;const G=rt[fe],te=Jt(G.orbit,G.orbitIndex),ue=yt(G,I,R,b);(oe=G.out)==null||oe.forEach(De=>{if(!rt[parseInt(De)])return;const Be=Math.min(parseInt(De),parseInt(fe)),Qe=Math.max(parseInt(De),parseInt(fe)),ce=Be+":"+Qe;if(ce in me)return;me[ce]=!0;const Ie=rt[parseInt(De)];if(!Ie||Ie.isMastery)return;const Ke=Jt(Ie.orbit,Ie.orbitIndex),Fe=yt(Ie,I,R,b);if(p.beginPath(),G.group!=Ie.group||G.orbit!=Ie.orbit)p.moveTo(ue.x,ue.y),p.lineTo(Fe.x,Fe.y);else{let ze=Math.PI/180-Math.PI/180*te,Ve=Math.PI/180-Math.PI/180*Ke;ze-=Math.PI/2,Ve-=Math.PI/2;const at=Math.abs(Math.max(ze,Ve)-Math.min(ze,Ve)),ct=at>Math.PI?Math.max(ze,Ve):Math.min(ze,Ve),ht=at>Math.PI?Math.min(ze,Ve):Math.max(ze,Ve),ot=zt[G.group],ut=jt(ot.x,ot.y,I,R,b);p.arc(ut.x,ut.y,We.constants.orbitRadii[G.orbit]/b+1,ct,ht)}p.lineWidth=6/b,p.strokeStyle="#524518",p.stroke()})});let re;o&&(re=yt(rt[o],I,R,b),p.strokeStyle="#ad2b2b");let ye=!1,ve;if(Object.keys(rt).forEach(fe=>{const G=rt[fe],te=yt(G,I,R,b);let ue=0,oe=!1;o&&Ut(te,re)<s&&(oe=!0),f.indexOf(G.skill)>=0&&(oe=!1),G.isKeystone?(ue=110,M(p,G.icon,te,oe),oe?M(p,"KeystoneFrameAllocated",te,!1):M(p,"KeystoneFrameUnallocated",te,!1)):G.isNotable?(ue=70,M(p,G.icon,te,oe),oe?M(p,"NotableFrameAllocated",te,!1):M(p,"NotableFrameUnallocated",te,!1)):G.isJewelSocket?(ue=70,G.expansionJewel?M(p,"JewelSocketAltNormal",te,!1):oe?M(p,"JewelFrameAllocated",te,!1):M(p,"JewelFrameUnallocated",te,!1)):G.isMastery?M(p,G.inactiveIcon,te,oe):(ue=50,M(p,G.icon,te,oe),oe?M(p,"PSSkillFrameActive",te,!1):M(p,"PSSkillFrame",te,!1)),(_.indexOf(G.skill)>=0||c&&G.isJewelSocket)&&(p.strokeStyle=`hsl(${n}, 100%, 50%)`,p.lineWidth=3,p.beginPath(),p.arc(te.x,te.y,(ue+30)/b,0,Math.PI*2),p.stroke()),Ut(te,L)<ue/b&&(ve=G,ye=oe)}),l(22,P=ve),o&&(p.strokeStyle="#ad2b2b",p.lineWidth=1,p.beginPath(),p.arc(re.x,re.y,s,0,Math.PI*2),p.stroke()),P){let fe=P.name,G=(P.stats||[]).map(ce=>({text:ce,special:!1}));if(!P.isJewelSocket&&ye&&P.skill&&m&&h&&g){const ce=Nl.Calculate(ie.TreeToPassive[P.skill].Index,m,h,g);ce&&("AlternatePassiveSkill"in ce&&ce.AlternatePassiveSkill&&(G=[],fe=ce.AlternatePassiveSkill.Name,"StatsKeys"in ce.AlternatePassiveSkill&&ce.AlternatePassiveSkill.StatsKeys.forEach((Ie,Ke)=>{const Fe=ie.GetStatByIndex(Ie),ze=Bt[Fe.ID]||"";ze&&G.push({text:Ft(ze,ce.StatRolls[Ke])||Fe.ID,special:!0})})),ce.AlternatePassiveAdditionInformations&&ce.AlternatePassiveAdditionInformations.forEach(Ie=>{"StatsKeys"in Ie.AlternatePassiveAddition&&Ie.AlternatePassiveAddition.StatsKeys.forEach((Ke,Fe)=>{const ze=ie.GetStatByIndex(Ke),Ve=Bt[ze.ID]||"";Ve&&G.push({text:Ft(Ve,Ie.StatRolls[Fe])||ze.ID,special:!0})})}))}p.font=Gt;const te=p.measureText(fe),ue=Math.max(te.width+50,600);p.font=Xt;const oe=[],De=30;let Be=85;G&&G.length>0?G.forEach(ce=>{oe.length>0&&(Be+=5),ce.text.split(`
`).forEach(Ie=>{oe.length>0&&(Be+=10),N(Ie,p,ue-De).forEach(Fe=>{oe.push({text:Fe,offset:Be,special:ce.special}),Be+=20})})}):P.isJewelSocket&&(oe.push({text:"Click to select this socket",offset:Be,special:!0}),Be+=20);const Qe=55;p.fillStyle="rgba(75,63,24,0.9)",p.fillRect(L.x,L.y,ue,Qe),p.fillStyle="#ffffff",p.font=Gt,p.textAlign="center",p.fillText(fe,L.x+ue/2,L.y+35),p.fillStyle="rgba(0,0,0,0.8)",p.fillRect(L.x,L.y+Qe,ue,Be-Qe),p.font=Xt,p.textAlign="left",oe.forEach(ce=>{ce.special?p.fillStyle="#8cf34c":p.fillStyle="#ffffff",p.fillText(ce.text,L.x+De/2,L.y+ce.offset)})}P&&P.isJewelSocket?l(2,j="pointer"):l(2,j="unset"),p.fillStyle="#ffffff",p.textAlign="right",p.font="12px Roboto Mono";const Me=window.performance.now();p.fillText(`${(Me-se).toFixed(1)}ms`,Q-5,17)})},[B,x,j,i,d,ee,Pe,he,le,$,a,o,h,g,m,_,f,c,b,I,R,L,P,z,s,n,r,u]}class Is extends et{constructor(e){super(),tt(this,e,ys,Ss,$e,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}function Qt(t,e,l){const s=t.slice();return s[6]=e[l],s}function Zt(t,e,l){const s=t.slice();return s[9]=e[l],s}function xt(t){let e,l=ft(t[9],t[6].stats[t[9]])+"",s;return{c(){e=E("li"),s=K(l)},l(i){e=C(i,"LI",{});var n=V(e);s=Y(n,l),n.forEach(k)},m(i,n){q(i,e,n),v(e,s)},p(i,n){n&1&&l!==(l=ft(i[9],i[6].stats[i[9]])+"")&&ke(s,l)},d(i){i&&k(e)}}}function $t(t){let e,l,s=We.nodes[t[6].passive].name+"",i,n,r=t[6].passive+"",u,a,o,h,g,m=Re(Object.keys(t[6].stats)),_=[];for(let f=0;f<m.length;f+=1)_[f]=xt(Zt(t,m,f));return{c(){e=E("div"),l=E("span"),i=K(s),n=K(" ("),u=K(r),a=K(")"),o=J(),h=E("ul");for(let f=0;f<_.length;f+=1)_[f].c();g=J(),this.h()},l(f){e=C(f,"DIV",{class:!0});var c=V(e);l=C(c,"SPAN",{});var d=V(l);i=Y(d,s),n=Y(d," ("),u=Y(d,r),a=Y(d,")"),d.forEach(k),o=U(c),h=C(c,"UL",{class:!0});var w=V(h);for(let b=0;b<_.length;b+=1)_[b].l(w);w.forEach(k),g=U(c),c.forEach(k),this.h()},h(){y(h,"class","list-disc pl-6 font-bold"),y(e,"class","mt-2")},m(f,c){q(f,e,c),v(e,l),v(l,i),v(l,n),v(l,u),v(l,a),v(e,o),v(e,h);for(let d=0;d<_.length;d+=1)_[d]&&_[d].m(h,null);v(e,g)},p(f,c){if(c&1&&s!==(s=We.nodes[f[6].passive].name+"")&&ke(i,s),c&1&&r!==(r=f[6].passive+"")&&ke(u,r),c&1){m=Re(Object.keys(f[6].stats));let d;for(d=0;d<m.length;d+=1){const w=Zt(f,m,d);_[d]?_[d].p(w,c):(_[d]=xt(w),_[d].c(),_[d].m(h,null))}for(;d<_.length;d+=1)_[d].d(1);_.length=m.length}},d(f){f&&k(e),st(_,f)}}}function Ts(t){let e,l,s,i="Trade",n,r,u,a=t[0].seed+"",o,h,g=t[0].weight+"",m,_,f=t[0].stattotal+"",c,d,w,b,I="Trade",R,D,O,M=Re(t[0].skills),N=[];for(let L=0;L<M.length;L+=1)N[L]=$t(Qt(t,M,L));return{c(){e=E("div"),l=E("div"),s=E("button"),s.textContent=i,n=J(),r=E("div"),u=K("Seed "),o=K(a),h=K(" (weight "),m=K(g),_=K(") (Stat Total "),c=K(f),d=K(")"),w=J(),b=E("button"),b.textContent=I,R=J();for(let L=0;L<N.length;L+=1)N[L].c();this.h()},l(L){e=C(L,"DIV",{class:!0,role:!0,tabindex:!0});var j=V(e);l=C(j,"DIV",{class:!0});var P=V(l);s=C(P,"BUTTON",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-1wpptz2"&&(s.textContent=i),n=U(P),r=C(P,"DIV",{class:!0});var W=V(r);u=Y(W,"Seed "),o=Y(W,a),h=Y(W," (weight "),m=Y(W,g),_=Y(W,") (Stat Total "),c=Y(W,f),d=Y(W,")"),W.forEach(k),w=U(P),b=C(P,"BUTTON",{class:!0,"data-svelte-h":!0}),de(b)!=="svelte-8a6tec"&&(b.textContent=I),P.forEach(k),R=U(j);for(let Z=0;Z<N.length;Z+=1)N[Z].l(j);j.forEach(k),this.h()},h(){y(s,"class","px-3 invisible"),y(r,"class","font-bold text-orange-500 text-center"),y(b,"class","px-3 bg-blue-500/40 rounded"),y(l,"class","flex flex-row justify-between"),y(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer"),y(e,"role","button"),y(e,"tabindex","0")},m(L,j){q(L,e,j),v(e,l),v(l,s),v(l,n),v(l,r),v(r,u),v(r,o),v(r,h),v(r,m),v(r,_),v(r,c),v(r,d),v(l,w),v(l,b),v(e,R);for(let P=0;P<N.length;P+=1)N[P]&&N[P].m(e,null);D||(O=[A(b,"click",t[5]),A(e,"click",t[3]),A(e,"keydown",t[3])],D=!0)},p(L,[j]){if(j&1&&a!==(a=L[0].seed+"")&&ke(o,a),j&1&&g!==(g=L[0].weight+"")&&ke(m,g),j&1&&f!==(f=L[0].stattotal+"")&&ke(c,f),j&1){M=Re(L[0].skills);let P;for(P=0;P<M.length;P+=1){const W=Qt(L,M,P);N[P]?N[P].p(W,j):(N[P]=$t(W),N[P].c(),N[P].m(e,null))}for(;P<N.length;P+=1)N[P].d(1);N.length=M.length}},i:He,o:He,d(L){L&&k(e),st(N,L),D=!1,it(O)}}}function Es(t,e,l){let{highlight:s}=e,{set:i}=e,{jewel:n}=e,{conqueror:r}=e;const u=()=>s(i.seed,i.skills.map(o=>o.passive)),a=()=>qt($l(n,r,i));return t.$$set=o=>{"highlight"in o&&l(4,s=o.highlight),"set"in o&&l(0,i=o.set),"jewel"in o&&l(1,n=o.jewel),"conqueror"in o&&l(2,r=o.conqueror)},[i,n,r,u,s,a]}class jl extends et{constructor(e){super(),tt(this,e,Es,Ts,$e,{highlight:4,set:0,jewel:1,conqueror:2})}}const It={AUTO:"auto",START:"start",CENTER:"center",END:"end"},xe={HORIZONTAL:"horizontal",VERTICAL:"vertical"},gt={OBSERVED:0,REQUESTED:1},Cs={[xe.VERTICAL]:"top",[xe.HORIZONTAL]:"left"},el={[xe.VERTICAL]:"scrollTop",[xe.HORIZONTAL]:"scrollLeft"};class As{constructor({itemSize:e,itemCount:l,estimatedItemSize:s}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=s,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:s}){l!=null&&(this.itemCount=l),s!=null&&(this.estimatedItemSize=s),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const s=this.getSize(l),i=e;e+=s,this.itemSizeAndPositionData[l]={offset:i,size:s}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let s=l.offset+l.size;for(let i=this.lastMeasuredIndex+1;i<=e;i++){const n=this.getSize(i);if(n==null||isNaN(n))throw Error(`Invalid size returned for index ${i} of value ${n}`);this.itemSizeAndPositionData[i]={offset:s,size:n},s+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=It.START,containerSize:l,currentOffset:s,targetIndex:i}){if(l<=0)return 0;const n=this.getSizeAndPositionForIndex(i),r=n.offset,u=r-l+n.size;let a;switch(e){case It.END:a=u;break;case It.CENTER:a=r-(l-n.size)/2;break;case It.START:a=r;break;default:a=Math.max(u,Math.min(r,s))}const o=this.getTotalSize();return Math.max(0,Math.min(o-l,a))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:s}){if(this.getTotalSize()===0)return{};const n=l+e;let r=this.findNearestItem(l);if(r===void 0)throw Error(`Invalid offset ${l} specified`);const u=this.getSizeAndPositionForIndex(r);l=u.offset+u.size;let a=r;for(;l<n&&a<this.itemCount-1;)a++,l+=this.getSizeAndPositionForIndex(a).size;return s&&(r=Math.max(0,r-s),a=Math.min(a+s,this.itemCount-1)),{start:r,stop:a}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),s=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:s,low:0,offset:e}):this.exponentialSearch({index:s,offset:e})}binarySearch({low:e,high:l,offset:s}){let i=0,n=0;for(;e<=l;){if(i=e+Math.floor((l-e)/2),n=this.getSizeAndPositionForIndex(i).offset,n===s)return i;n<s?e=i+1:n>s&&(l=i-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let s=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=s,s*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const Rs=t=>({}),tl=t=>({});function ll(t,e,l){const s=t.slice();return s[37]=e[l],s}const Ls=t=>({style:t[0]&4,index:t[0]&4}),sl=t=>({style:t[37].style,index:t[37].index}),Ps=t=>({}),nl=t=>({});function il(t,e){let l,s;const i=e[21].item,n=pt(i,e,e[20],sl);return{key:t,first:null,c(){l=Se(),n&&n.c(),this.h()},l(r){l=Se(),n&&n.l(r),this.h()},h(){this.first=l},m(r,u){q(r,l,u),n&&n.m(r,u),s=!0},p(r,u){e=r,n&&n.p&&(!s||u[0]&1048580)&&vt(n,i,e,e[20],s?wt(i,e[20],u,Ls):bt(e[20]),sl)},i(r){s||(F(n,r),s=!0)},o(r){H(n,r),s=!1},d(r){r&&k(l),n&&n.d(r)}}}function Ms(t){let e,l,s,i=[],n=new Map,r,u;const a=t[21].header,o=pt(a,t,t[20],nl);let h=Re(t[2]);const g=f=>f[0]?f[0](f[37].index):f[37].index;for(let f=0;f<h.length;f+=1){let c=ll(t,h,f),d=g(c);n.set(d,i[f]=il(d,c))}const m=t[21].footer,_=pt(m,t,t[20],tl);return{c(){e=E("div"),o&&o.c(),l=J(),s=E("div");for(let f=0;f<i.length;f+=1)i[f].c();r=J(),_&&_.c(),this.h()},l(f){e=C(f,"DIV",{class:!0,style:!0});var c=V(e);o&&o.l(c),l=U(c),s=C(c,"DIV",{class:!0,style:!0});var d=V(s);for(let w=0;w<i.length;w+=1)i[w].l(d);d.forEach(k),r=U(c),_&&_.l(c),c.forEach(k),this.h()},h(){y(s,"class","virtual-list-inner svelte-1d4hv8l"),y(s,"style",t[4]),y(e,"class","virtual-list-wrapper svelte-1d4hv8l"),y(e,"style",t[3])},m(f,c){q(f,e,c),o&&o.m(e,null),v(e,l),v(e,s);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(s,null);v(e,r),_&&_.m(e,null),t[22](e),u=!0},p(f,c){o&&o.p&&(!u||c[0]&1048576)&&vt(o,a,f,f[20],u?wt(a,f[20],c,Ps):bt(f[20]),nl),c[0]&1048581&&(h=Re(f[2]),Ne(),i=Yl(i,c,g,1,f,h,n,s,Gl,il,null,ll),Oe()),(!u||c[0]&16)&&y(s,"style",f[4]),_&&_.p&&(!u||c[0]&1048576)&&vt(_,m,f,f[20],u?wt(m,f[20],c,Rs):bt(f[20]),tl),(!u||c[0]&8)&&y(e,"style",f[3])},i(f){if(!u){F(o,f);for(let c=0;c<h.length;c+=1)F(i[c]);F(_,f),u=!0}},o(f){H(o,f);for(let c=0;c<i.length;c+=1)H(i[c]);H(_,f),u=!1},d(f){f&&k(e),o&&o.d(f);for(let c=0;c<i.length;c+=1)i[c].d();_&&_.d(f),t[22](null)}}}const zs=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function Ns(t,e,l){let{$$slots:s={},$$scope:i}=e,{height:n}=e,{width:r="100%"}=e,{itemCount:u}=e,{itemSize:a}=e,{estimatedItemSize:o=null}=e,{stickyIndices:h=null}=e,{getKey:g=null}=e,{scrollDirection:m=xe.VERTICAL}=e,{scrollOffset:_=null}=e,{scrollToIndex:f=null}=e,{scrollToAlignment:c=null}=e,{scrollToBehaviour:d="instant"}=e,{overscanCount:w=3}=e;const b=Ml(),I=new As({itemCount:u,itemSize:a,estimatedItemSize:B()});let R=!1,D,O=[],M={offset:_||f!=null&&O.length&&Pe(f)||0,scrollChangeReason:gt.REQUESTED},N=M,L={scrollToIndex:f,scrollToAlignment:c,scrollOffset:_,itemCount:u,itemSize:a,estimatedItemSize:o},j={},P="",W="";Le(),Pl(()=>{l(18,R=!0),D.addEventListener("scroll",he,zs),_!=null?pe(_):f!=null&&pe(Pe(f))}),Ot(()=>{R&&D.removeEventListener("scroll",he)});function Z(){if(!R)return;const z=L.scrollToIndex!==f||L.scrollToAlignment!==c,p=L.itemCount!==u||L.itemSize!==a||L.estimatedItemSize!==o;p&&(I.updateConfig({itemSize:a,itemCount:u,estimatedItemSize:B()}),ee()),L.scrollOffset!==_?l(19,M={offset:_||0,scrollChangeReason:gt.REQUESTED}):typeof f=="number"&&(z||p)&&l(19,M={offset:Pe(f,c,u),scrollChangeReason:gt.REQUESTED}),L={scrollToIndex:f,scrollToAlignment:c,scrollOffset:_,itemCount:u,itemSize:a,estimatedItemSize:o}}function ge(){if(!R)return;const{offset:z,scrollChangeReason:p}=M;(N.offset!==z||N.scrollChangeReason!==p)&&Le(),N.offset!==z&&p===gt.REQUESTED&&pe(z),N=M}function Le(){const{offset:z}=M,{start:p,stop:Q}=I.getVisibleRange({containerSize:m===xe.VERTICAL?n:r,offset:z,overscanCount:w});let ae=[];const se=I.getTotalSize();m===xe.VERTICAL?(l(3,P=`height:${n}px;width:${r};`),l(4,W=`flex-direction:column;height:${se}px;`)):(l(3,P=`height:${n};width:${r}px`),l(4,W=`min-height:100%;width:${se}px;`));const me=h!=null&&h.length!==0;if(me)for(let re=0;re<h.length;re++){const ye=h[re];ae.push({index:ye,style:x(ye,!0)})}if(p!==void 0&&Q!==void 0){for(let re=p;re<=Q;re++)me&&h.includes(re)||ae.push({index:re,style:x(re,!1)});b("itemsUpdated",{start:p,end:Q})}l(2,O=ae)}function pe(z){"scroll"in D?D.scroll({[Cs[m]]:z,behavior:d}):l(1,D[el[m]]=z,D)}function ee(z=0){j={},I.resetItem(z),Le()}function Pe(z,p=c,Q=u){return(z<0||z>=Q)&&(z=0),I.getUpdatedOffsetForIndex({align:p,containerSize:m===xe.VERTICAL?n:r,currentOffset:M.offset||0,targetIndex:z})}function he(z){const p=le();p<0||M.offset===p||z.target!==D||(l(19,M={offset:p,scrollChangeReason:gt.OBSERVED}),b("afterScroll",{offset:p,event:z}))}function le(){return D[el[m]]}function B(){return o||typeof a=="number"&&a||50}function x(z,p){if(j[z])return j[z];const{size:Q,offset:ae}=I.getSizeAndPositionForIndex(z);let se;return m===xe.VERTICAL?(se=`left:0;width:100%;height:${Q}px;`,p?se+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${ae}px;margin-bottom:${-(ae+Q)}px;`:se+=`position:absolute;top:${ae}px;`):(se=`top:0;width:${Q}px;`,p?se+=`position:sticky;z-index:1;left:0;margin-left:${ae}px;margin-right:${-(ae+Q)}px;`:se+=`position:absolute;height:100%;left:${ae}px;`),j[z]=se}function $(z){lt[z?"unshift":"push"](()=>{D=z,l(1,D)})}return t.$$set=z=>{"height"in z&&l(5,n=z.height),"width"in z&&l(6,r=z.width),"itemCount"in z&&l(7,u=z.itemCount),"itemSize"in z&&l(8,a=z.itemSize),"estimatedItemSize"in z&&l(9,o=z.estimatedItemSize),"stickyIndices"in z&&l(10,h=z.stickyIndices),"getKey"in z&&l(0,g=z.getKey),"scrollDirection"in z&&l(11,m=z.scrollDirection),"scrollOffset"in z&&l(12,_=z.scrollOffset),"scrollToIndex"in z&&l(13,f=z.scrollToIndex),"scrollToAlignment"in z&&l(14,c=z.scrollToAlignment),"scrollToBehaviour"in z&&l(15,d=z.scrollToBehaviour),"overscanCount"in z&&l(16,w=z.overscanCount),"$$scope"in z&&l(20,i=z.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&Z(),t.$$.dirty[0]&524288&&ge(),t.$$.dirty[0]&263264&&R&&ee(0)},[g,D,O,P,W,n,r,u,a,o,h,m,_,f,c,d,w,ee,R,M,i,s,$]}class Jl extends et{constructor(e){super(),tt(this,e,Ns,Ms,$e,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function rl(t,e,l){const s=t.slice();return s[9]=e[l],s}function Os(t){let e,l,s;return l=new Jl({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[6]),$$slots:{item:[Vs,({style:i,index:n})=>({12:i,13:n}),({style:i,index:n})=>(i?4096:0)|(n?8192:0)]},$$scope:{ctx:t}}}),{c(){e=E("div"),qe(l.$$.fragment),this.h()},l(i){e=C(i,"DIV",{class:!0});var n=V(e);je(l.$$.fragment,n),n.forEach(k),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto")},m(i,n){q(i,e,n),Je(l,e,null),s=!0},p(i,n){const r={};n&1&&(r.itemCount=i[0].raw.length),n&1&&(r.itemSize=i[0].raw.map(i[6])),n&28699&&(r.$$scope={dirty:n,ctx:i}),l.$set(r)},i(i){s||(F(l.$$.fragment,i),s=!0)},o(i){H(l.$$.fragment,i),s=!1},d(i){i&&k(e),Ue(l)}}}function Ds(t){let e,l,s=Re(Object.keys(t[0].grouped).map(t[7]).sort(ul).reverse()),i=[];for(let r=0;r<s.length;r+=1)i[r]=ol(rl(t,s,r));const n=r=>H(i[r],1,1,()=>{i[r]=null});return{c(){e=E("div");for(let r=0;r<i.length;r+=1)i[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var u=V(e);for(let a=0;a<i.length;a+=1)i[a].l(u);u.forEach(k),this.h()},h(){y(e,"class","flex flex-col overflow-auto")},m(r,u){q(r,e,u);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);l=!0},p(r,u){if(u&12411){s=Re(Object.keys(r[0].grouped).map(r[7]).sort(ul).reverse());let a;for(a=0;a<s.length;a+=1){const o=rl(r,s,a);i[a]?(i[a].p(o,u),F(i[a],1)):(i[a]=ol(o),i[a].c(),F(i[a],1),i[a].m(e,null))}for(Ne(),a=s.length;a<i.length;a+=1)n(a);Oe()}},i(r){if(!l){for(let u=0;u<s.length;u+=1)F(i[u]);l=!0}},o(r){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)H(i[u]);l=!1},d(r){r&&k(e),st(i,r)}}}function Vs(t){let e,l,s,i;return l=new jl({props:{set:t[0].raw[t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=E("div"),qe(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{slot:!0,style:!0});var r=V(e);je(l.$$.fragment,r),r.forEach(k),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(n,r){q(n,e,r),Je(l,e,null),i=!0},p(n,r){const u={};r&8193&&(u.set=n[0].raw[n[13]]),r&2&&(u.highlight=n[1]),r&8&&(u.jewel=n[3]),r&16&&(u.conqueror=n[4]),l.$set(u),(!i||r&4096&&s!==(s=n[12]))&&y(e,"style",s)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){H(l.$$.fragment,n),i=!1},d(n){n&&k(e),Ue(l)}}}function al(t){let e,l,s,i;return l=new Jl({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[9]].length,itemSize:t[0].grouped[t[9]].map(t[6]),$$slots:{item:[qs,({style:n,index:r})=>({12:n,13:r}),({style:n,index:r})=>(n?4096:0)|(r?8192:0)]},$$scope:{ctx:t}}}),{c(){e=E("div"),qe(l.$$.fragment),s=J(),this.h()},l(n){e=C(n,"DIV",{class:!0});var r=V(e);je(l.$$.fragment,r),s=U(r),r.forEach(k),this.h()},h(){y(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(n,r){q(n,e,r),Je(l,e,null),v(e,s),i=!0},p(n,r){const u={};r&1&&(u.itemCount=n[0].grouped[n[9]].length),r&1&&(u.itemSize=n[0].grouped[n[9]].map(n[6])),r&28699&&(u.$$scope={dirty:r,ctx:n}),l.$set(u)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){H(l.$$.fragment,n),i=!1},d(n){n&&k(e),Ue(l)}}}function qs(t){let e,l,s,i;return l=new jl({props:{set:t[0].grouped[t[9]][t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=E("div"),qe(l.$$.fragment),this.h()},l(n){e=C(n,"DIV",{slot:!0,style:!0});var r=V(e);je(l.$$.fragment,r),r.forEach(k),this.h()},h(){y(e,"slot","item"),y(e,"style",s=t[12])},m(n,r){q(n,e,r),Je(l,e,null),i=!0},p(n,r){const u={};r&8193&&(u.set=n[0].grouped[n[9]][n[13]]),r&2&&(u.highlight=n[1]),r&8&&(u.jewel=n[3]),r&16&&(u.conqueror=n[4]),l.$set(u),(!i||r&4096&&s!==(s=n[12]))&&y(e,"style",s)},i(n){i||(F(l.$$.fragment,n),i=!0)},o(n){H(l.$$.fragment,n),i=!1},d(n){n&&k(e),Ue(l)}}}function ol(t){let e,l,s=t[9]+"",i,n,r=t[9]>1?"es":"",u,a,o=t[0].grouped[t[9]].length+"",h,g,m,_,f=t[5]===t[9]?"^":"V",c,d,w,b,I,R;function D(){return t[8](t[9])}let O=t[5]===t[9]&&al(t);return{c(){e=E("button"),l=E("span"),i=K(s),n=K(" Match"),u=K(r),a=K(" ["),h=K(o),g=K("]"),m=J(),_=E("span"),c=K(f),d=J(),O&&O.c(),w=Se(),this.h()},l(M){e=C(M,"BUTTON",{class:!0});var N=V(e);l=C(N,"SPAN",{});var L=V(l);i=Y(L,s),n=Y(L," Match"),u=Y(L,r),a=Y(L," ["),h=Y(L,o),g=Y(L,"]"),L.forEach(k),m=U(N),_=C(N,"SPAN",{});var j=V(_);c=Y(j,f),j.forEach(k),N.forEach(k),d=U(M),O&&O.l(M),w=Se(),this.h()},h(){y(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(M,N){q(M,e,N),v(e,l),v(l,i),v(l,n),v(l,u),v(l,a),v(l,h),v(l,g),v(e,m),v(e,_),v(_,c),q(M,d,N),O&&O.m(M,N),q(M,w,N),b=!0,I||(R=A(e,"click",D),I=!0)},p(M,N){t=M,(!b||N&1)&&s!==(s=t[9]+"")&&ke(i,s),(!b||N&1)&&r!==(r=t[9]>1?"es":"")&&ke(u,r),(!b||N&1)&&o!==(o=t[0].grouped[t[9]].length+"")&&ke(h,o),(!b||N&33)&&f!==(f=t[5]===t[9]?"^":"V")&&ke(c,f),t[5]===t[9]?O?(O.p(t,N),N&33&&F(O,1)):(O=al(t),O.c(),F(O,1),O.m(w.parentNode,w)):O&&(Ne(),H(O,1,1,()=>{O=null}),Oe())},i(M){b||(F(O),b=!0)},o(M){H(O),b=!1},d(M){M&&(k(e),k(d),k(w)),O&&O.d(M),I=!1,R()}}}function js(t){let e,l,s,i;const n=[Ds,Os],r=[];function u(a,o){return a[2]?0:1}return e=u(t),l=r[e]=n[e](t),{c(){l.c(),s=Se()},l(a){l.l(a),s=Se()},m(a,o){r[e].m(a,o),q(a,s,o),i=!0},p(a,[o]){let h=e;e=u(a),e===h?r[e].p(a,o):(Ne(),H(r[h],1,1,()=>{r[h]=null}),Oe(),l=r[e],l?l.p(a,o):(l=r[e]=n[e](a),l.c()),F(l,1),l.m(s.parentNode,s))},i(a){i||(F(l),i=!0)},o(a){H(l),i=!1},d(a){a&&k(s),r[e].d(a)}}}const ul=(t,e)=>t-e;function Js(t,e,l){let{searchResults:s}=e,{highlight:i}=e,{groupResults:n=!0}=e,{jewel:r}=e,{conqueror:u}=e;const a=m=>8+48+m.skills.reduce((_,f)=>_+32+Object.keys(f.stats).length*24,0);let o="";const h=m=>parseInt(m),g=m=>l(5,o=o===m?"":m);return t.$$set=m=>{"searchResults"in m&&l(0,s=m.searchResults),"highlight"in m&&l(1,i=m.highlight),"groupResults"in m&&l(2,n=m.groupResults),"jewel"in m&&l(3,r=m.jewel),"conqueror"in m&&l(4,u=m.conqueror)},[s,i,n,r,u,o,a,h,g]}class Us extends et{constructor(e){super(),tt(this,e,Js,js,$e,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const nt={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};function Bs(t){let e,l=t[2]?t[0]?"Hide Trade Links":"Show Trade Links":"Trade",s,i,n,r;return{c(){e=E("button"),s=K(l),this.h()},l(u){e=C(u,"BUTTON",{class:!0});var a=V(e);s=Y(a,l),a.forEach(k),this.h()},h(){y(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!t[1]},m(u,a){q(u,e,a),v(e,s),n||(r=A(e,"click",t[3]),n=!0)},p(u,[a]){a&5&&l!==(l=u[2]?u[0]?"Hide Trade Links":"Show Trade Links":"Trade")&&ke(s,l),a&2&&i!==(i=!u[1])&&(e.disabled=i)},i:He,o:He,d(u){u&&k(e),n=!1,r()}}}function Fs(t,e,l){let s,{queries:i}=e,{showTradeLinks:n=!1}=e;const r=()=>{i.length===1?qt(i[0]):s&&l(0,n=!n)};return t.$$set=u=>{"queries"in u&&l(1,i=u.queries),"showTradeLinks"in u&&l(0,n=u.showTradeLinks)},t.$$.update=()=>{t.$$.dirty&1&&console.log(n),t.$$.dirty&2&&l(2,s=i.length>1)},[n,i,s,r]}class Hs extends et{constructor(e){super(),tt(this,e,Fs,Bs,$e,{queries:1,showTradeLinks:0})}}function fl(t,e,l){const s=t.slice();return s[2]=e[l],s[4]=l,s}function cl(t){let e,l,s=t[4]+1+"",i,n,r,u;function a(){return t[1](t[2])}return{c(){e=E("button"),l=K("Trade Batch "),i=K(s),n=J(),this.h()},l(o){e=C(o,"BUTTON",{class:!0});var h=V(e);l=Y(h,"Trade Batch "),i=Y(h,s),n=U(h),h.forEach(k),this.h()},h(){y(e,"class","p-1 px-3 bg-blue-500/40 rounded")},m(o,h){q(o,e,h),v(e,l),v(e,i),v(e,n),r||(u=A(e,"click",a),r=!0)},p(o,h){t=o},d(o){o&&k(e),r=!1,u()}}}function Ks(t){let e,l=Re(t[0]),s=[];for(let i=0;i<l.length;i+=1)s[i]=cl(fl(t,l,i));return{c(){e=E("div");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=C(i,"DIV",{class:!0});var n=V(e);for(let r=0;r<s.length;r+=1)s[r].l(n);n.forEach(k),this.h()},h(){y(e,"class","flex flex-wrap gap-2.5 my-2")},m(i,n){q(i,e,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(i,[n]){if(n&1){l=Re(i[0]);let r;for(r=0;r<l.length;r+=1){const u=fl(i,l,r);s[r]?s[r].p(u,n):(s[r]=cl(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}},i:He,o:He,d(i){i&&k(e),st(s,i)}}}function Ys(t,e,l){let{queries:s}=e;const i=n=>qt(n);return t.$$set=n=>{"queries"in n&&l(0,s=n.queries)},[s,i]}class Gs extends et{constructor(e){super(),tt(this,e,Ys,Ks,$e,{queries:0})}}const{window:Xs}=Ol;function hl(t,e,l){const s=t.slice();return s[83]=e[l],s[84]=e,s[85]=l,s}function dl(t,e,l){const s=t.slice();return s[76]=e[l],s}function ml(t,e,l){const s=t.slice();return s[76]=e[l],s}function _l(t,e,l){const s=t.slice();return s[76]=e[l],s}function Ws(t){let e,l="<div></div> <div></div> <div></div>",s,i;return{c(){e=E("button"),e.innerHTML=l,this.h()},l(n){e=C(n,"BUTTON",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-rq6e1l"&&(e.innerHTML=l),this.h()},h(){y(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(n,r){q(n,e,r),s||(i=A(e,"click",t[70]),s=!0)},p:He,i:He,o:He,d(n){n&&k(e),s=!1,i()}}}function Qs(t){let e,l,s,i,n,r="<div></div> <div></div> <div></div>",u,a,o,h,g,m,_,f;function c(D,O){return D[5]?xs:Zs}let d=c(t),w=d(t),b=t[6]&&gl(t),I=!t[5]&&vl(t),R=t[6]&&t[5]&&Rl(t);return{c(){e=E("div"),l=E("div"),s=E("div"),i=E("div"),n=E("button"),n.innerHTML=r,u=J(),a=E("h3"),w.c(),o=J(),b&&b.c(),h=J(),I&&I.c(),g=J(),R&&R.c(),this.h()},l(D){e=C(D,"DIV",{class:!0});var O=V(e);l=C(O,"DIV",{class:!0});var M=V(l);s=C(M,"DIV",{class:!0});var N=V(s);i=C(N,"DIV",{class:!0});var L=V(i);n=C(L,"BUTTON",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-mvbl10"&&(n.innerHTML=r),u=U(L),a=C(L,"H3",{class:!0});var j=V(a);w.l(j),j.forEach(k),L.forEach(k),o=U(N),b&&b.l(N),N.forEach(k),h=U(M),I&&I.l(M),g=U(M),R&&R.l(M),M.forEach(k),O.forEach(k),this.h()},h(){y(n,"class","burger-menu mr-3"),y(a,"class","flex-grow"),y(i,"class","flex flex-row items-center"),y(s,"class","flex flex-row justify-between mb-2"),y(l,"class","p-4 max-h-screen flex flex-col"),y(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(D,O){q(D,e,O),v(e,l),v(l,s),v(s,i),v(i,n),v(i,u),v(i,a),w.m(a,null),v(s,o),b&&b.m(s,null),v(l,h),I&&I.m(l,null),v(l,g),R&&R.m(l,null),m=!0,_||(f=A(n,"click",t[48]),_=!0)},p(D,O){d!==(d=c(D))&&(w.d(1),w=d(D),w&&(w.c(),w.m(a,null))),D[6]?b?(b.p(D,O),O[0]&64&&F(b,1)):(b=gl(D),b.c(),F(b,1),b.m(s,null)):b&&(Ne(),H(b,1,1,()=>{b=null}),Oe()),D[5]?I&&(Ne(),H(I,1,1,()=>{I=null}),Oe()):I?(I.p(D,O),O[0]&32&&F(I,1)):(I=vl(D),I.c(),F(I,1),I.m(l,g)),D[6]&&D[5]?R?(R.p(D,O),O[0]&96&&F(R,1)):(R=Rl(D),R.c(),F(R,1),R.m(l,null)):R&&(Ne(),H(R,1,1,()=>{R=null}),Oe())},i(D){m||(F(b),F(I),F(R),m=!0)},o(D){H(b),H(I),H(R),m=!1},d(D){D&&k(e),w.d(),b&&b.d(),I&&I.d(),R&&R.d(),_=!1,f()}}}function Zs(t){let e,l="Timeless Jewel";return{c(){e=E("span"),e.textContent=l},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),de(e)!=="svelte-ddxked"&&(e.textContent=l)},m(s,i){q(s,e,i)},d(s){s&&k(e)}}}function xs(t){let e,l="Results";return{c(){e=E("span"),e.textContent=l},l(s){e=C(s,"SPAN",{"data-svelte-h":!0}),de(e)!=="svelte-rq68qg"&&(e.textContent=l)},m(s,i){q(s,e,i)},d(s){s&&k(e)}}}function gl(t){let e,l,s,i=t[5]?"Config":"Results",n,r,u,a,o=t[5]&&pl(t);return{c(){e=E("div"),o&&o.c(),l=J(),s=E("button"),n=K(i),this.h()},l(h){e=C(h,"DIV",{class:!0});var g=V(e);o&&o.l(g),l=U(g),s=C(g,"BUTTON",{class:!0});var m=V(s);n=Y(m,i),m.forEach(k),g.forEach(k),this.h()},h(){y(s,"class","bg-neutral-100/20 px-4 p-1 rounded"),y(e,"class","flex flex-row")},m(h,g){q(h,e,g),o&&o.m(e,null),v(e,l),v(e,s),v(s,n),r=!0,u||(a=A(s,"click",t[51]),u=!0)},p(h,g){h[5]?o?(o.p(h,g),g[0]&32&&F(o,1)):(o=pl(h),o.c(),F(o,1),o.m(e,l)):o&&(Ne(),H(o,1,1,()=>{o=null}),Oe()),(!r||g[0]&32)&&i!==(i=h[5]?"Config":"Results")&&ke(n,i)},i(h){r||(F(o),r=!0)},o(h){H(o),r=!1},d(h){h&&k(e),o&&o.d(),u=!1,a()}}}function pl(t){let e,l,s,i,n,r,u,a,o;function h(m){t[49](m)}let g={queries:t[13]};return t[24]!==void 0&&(g.showTradeLinks=t[24]),e=new Hs({props:g}),lt.push(()=>Et(e,"showTradeLinks",h)),{c(){qe(e.$$.fragment),s=J(),i=E("button"),n=K("Grouped"),this.h()},l(m){je(e.$$.fragment,m),s=U(m),i=C(m,"BUTTON",{class:!0});var _=V(i);n=Y(_,"Grouped"),_.forEach(k),this.h()},h(){y(i,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-1n2bhso"),i.disabled=r=!t[6],_e(i,"grouped",t[9])},m(m,_){Je(e,m,_),q(m,s,_),q(m,i,_),v(i,n),u=!0,a||(o=A(i,"click",t[50]),a=!0)},p(m,_){const f={};_[0]&8192&&(f.queries=m[13]),!l&&_[0]&16777216&&(l=!0,f.showTradeLinks=m[24],Tt(()=>l=!1)),e.$set(f),(!u||_[0]&64&&r!==(r=!m[6]))&&(i.disabled=r),(!u||_[0]&512)&&_e(i,"grouped",m[9])},i(m){u||(F(e.$$.fragment,m),u=!0)},o(m){H(e.$$.fragment,m),u=!1},d(m){m&&(k(s),k(i)),Ue(e,m),a=!1,o()}}}function vl(t){let e,l,s,i,n;function r(o){t[52](o)}let u={items:t[28]};t[0]!==void 0&&(u.value=t[0]),e=new Ct({props:u}),lt.push(()=>Et(e,"value",r)),e.$on("change",t[34]);let a=t[0]&&bl(t);return{c(){qe(e.$$.fragment),s=J(),a&&a.c(),i=Se()},l(o){je(e.$$.fragment,o),s=U(o),a&&a.l(o),i=Se()},m(o,h){Je(e,o,h),q(o,s,h),a&&a.m(o,h),q(o,i,h),n=!0},p(o,h){const g={};!l&&h[0]&1&&(l=!0,g.value=o[0],Tt(()=>l=!1)),e.$set(g),o[0]?a?(a.p(o,h),h[0]&1&&F(a,1)):(a=bl(o),a.c(),F(a,1),a.m(i.parentNode,i)):a&&(Ne(),H(a,1,1,()=>{a=null}),Oe())},i(o){n||(F(e.$$.fragment,o),F(a),n=!0)},o(o){H(e.$$.fragment,o),H(a),n=!1},d(o){o&&(k(s),k(i)),Ue(e,o),a&&a.d(o)}}}function bl(t){let e,l,s="Conqueror",i,n,r,u,a=t[14]&&Object.keys(ie.TimelessJewelConquerors[t[0].value]).indexOf(t[14].value)>=0,o,h;function g(f){t[53](f)}let m={items:t[27]};t[1]!==void 0&&(m.value=t[1]),n=new Ct({props:m}),lt.push(()=>Et(n,"value",g)),n.$on("change",t[29]);let _=a&&wl(t);return{c(){e=E("div"),l=E("h3"),l.textContent=s,i=J(),qe(n.$$.fragment),u=J(),_&&_.c(),o=Se(),this.h()},l(f){e=C(f,"DIV",{class:!0});var c=V(e);l=C(c,"H3",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-1jyt00f"&&(l.textContent=s),i=U(c),je(n.$$.fragment,c),c.forEach(k),u=U(f),_&&_.l(f),o=Se(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(f,c){q(f,e,c),v(e,l),v(e,i),Je(n,e,null),q(f,u,c),_&&_.m(f,c),q(f,o,c),h=!0},p(f,c){const d={};c[0]&134217728&&(d.items=f[27]),!r&&c[0]&2&&(r=!0,d.value=f[1],Tt(()=>r=!1)),n.$set(d),c[0]&16385&&(a=f[14]&&Object.keys(ie.TimelessJewelConquerors[f[0].value]).indexOf(f[14].value)>=0),a?_?(_.p(f,c),c[0]&16385&&F(_,1)):(_=wl(f),_.c(),F(_,1),_.m(o.parentNode,o)):_&&(Ne(),H(_,1,1,()=>{_=null}),Oe())},i(f){h||(F(n.$$.fragment,f),F(_),h=!0)},o(f){H(n.$$.fragment,f),H(_),h=!1},d(f){f&&(k(e),k(u),k(o)),Ue(n),_&&_.d(f)}}}function wl(t){let e,l,s="Enter Seed",i,n,r="Select Stats",u,a,o,h,g,m,_,f;const c=[en,$s],d=[];function w(I,R){return I[16]==="seed"?0:I[16]==="stats"?1:-1}~(a=w(t))&&(o=d[a]=c[a](t));let b=!t[3]&&Al();return{c(){e=E("div"),l=E("button"),l.textContent=s,i=J(),n=E("button"),n.textContent=r,u=J(),o&&o.c(),h=J(),b&&b.c(),g=Se(),this.h()},l(I){e=C(I,"DIV",{class:!0});var R=V(e);l=C(R,"BUTTON",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-l4qe05"&&(l.textContent=s),i=U(R),n=C(R,"BUTTON",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-1d9agkx"&&(n.textContent=r),R.forEach(k),u=U(I),o&&o.l(I),h=U(I),b&&b.l(I),g=Se(),this.h()},h(){y(l,"class","selection-button svelte-1n2bhso"),_e(l,"selected",t[16]==="seed"),y(n,"class","selection-button svelte-1n2bhso"),_e(n,"selected",t[16]==="stats"),y(e,"class","mt-4 w-full flex flex-row")},m(I,R){q(I,e,R),v(e,l),v(e,i),v(e,n),q(I,u,R),~a&&d[a].m(I,R),q(I,h,R),b&&b.m(I,R),q(I,g,R),m=!0,_||(f=[A(l,"click",t[54]),A(n,"click",t[55])],_=!0)},p(I,R){(!m||R[0]&65536)&&_e(l,"selected",I[16]==="seed"),(!m||R[0]&65536)&&_e(n,"selected",I[16]==="stats");let D=a;a=w(I),a===D?~a&&d[a].p(I,R):(o&&(Ne(),H(d[D],1,1,()=>{d[D]=null}),Oe()),~a?(o=d[a],o?o.p(I,R):(o=d[a]=c[a](I),o.c()),F(o,1),o.m(h.parentNode,h)):o=null),I[3]?b&&(b.d(1),b=null):b||(b=Al(),b.c(),b.m(g.parentNode,g))},i(I){m||(F(o),m=!0)},o(I){H(o),m=!1},d(I){I&&(k(e),k(u),k(h),k(g)),~a&&d[a].d(I),b&&b.d(I),_=!1,it(f)}}}function $s(t){let e,l,s="Add Stat",i,n,r,u=Object.keys(t[4]).length>0,a,o,h={items:t[25]};n=new Ct({props:h}),t[63](n),n.$on("change",t[32]);let g=u&&kl(t);return{c(){e=E("div"),l=E("h3"),l.textContent=s,i=J(),qe(n.$$.fragment),r=J(),g&&g.c(),a=Se(),this.h()},l(m){e=C(m,"DIV",{class:!0});var _=V(e);l=C(_,"H3",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-8jbl9c"&&(l.textContent=s),i=U(_),je(n.$$.fragment,_),_.forEach(k),r=U(m),g&&g.l(m),a=Se(),this.h()},h(){y(l,"class","mb-2"),y(e,"class","mt-4")},m(m,_){q(m,e,_),v(e,l),v(e,i),Je(n,e,null),q(m,r,_),g&&g.m(m,_),q(m,a,_),o=!0},p(m,_){const f={};_[0]&33554432&&(f.items=m[25]),n.$set(f),_[0]&16&&(u=Object.keys(m[4]).length>0),u?g?g.p(m,_):(g=kl(m),g.c(),g.m(a.parentNode,a)):g&&(g.d(1),g=null)},i(m){o||(F(n.$$.fragment,m),o=!0)},o(m){H(n.$$.fragment,m),o=!1},d(m){m&&(k(e),k(r),k(a)),t[63](null),Ue(n),g&&g.d(m)}}}function en(t){let e,l,s="Seed",i,n,r,u,a,o,h,g,m,_,f=(t[2]<ie.TimelessJewelSeedRanges[t[0].value].Min||t[2]>ie.TimelessJewelSeedRanges[t[0].value].Max)&&yl(t),c=t[2]>=ie.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=ie.TimelessJewelSeedRanges[t[0].value].Max&&Il(t);return{c(){e=E("div"),l=E("h3"),l.textContent=s,i=J(),n=E("input"),a=J(),f&&f.c(),o=J(),c&&c.c(),h=Se(),this.h()},l(d){e=C(d,"DIV",{class:!0});var w=V(e);l=C(w,"H3",{class:!0,"data-svelte-h":!0}),de(l)!=="svelte-12wsj4m"&&(l.textContent=s),i=U(w),n=C(w,"INPUT",{type:!0,min:!0,max:!0}),a=U(w),f&&f.l(w),w.forEach(k),o=U(d),c&&c.l(d),h=Se(),this.h()},h(){y(l,"class","mb-2"),y(n,"type","number"),y(n,"min",r=ie.TimelessJewelSeedRanges[t[0].value].Min),y(n,"max",u=ie.TimelessJewelSeedRanges[t[0].value].Max),y(e,"class","mt-4")},m(d,w){q(d,e,w),v(e,l),v(e,i),v(e,n),Ge(n,t[2]),v(e,a),f&&f.m(e,null),q(d,o,w),c&&c.m(d,w),q(d,h,w),g=!0,m||(_=[A(n,"input",t[56]),A(n,"blur",t[29])],m=!0)},p(d,w){(!g||w[0]&1&&r!==(r=ie.TimelessJewelSeedRanges[d[0].value].Min))&&y(n,"min",r),(!g||w[0]&1&&u!==(u=ie.TimelessJewelSeedRanges[d[0].value].Max))&&y(n,"max",u),w[0]&4&&Xe(n.value)!==d[2]&&Ge(n,d[2]),d[2]<ie.TimelessJewelSeedRanges[d[0].value].Min||d[2]>ie.TimelessJewelSeedRanges[d[0].value].Max?f?f.p(d,w):(f=yl(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),d[2]>=ie.TimelessJewelSeedRanges[d[0].value].Min&&d[2]<=ie.TimelessJewelSeedRanges[d[0].value].Max?c?(c.p(d,w),w[0]&5&&F(c,1)):(c=Il(d),c.c(),F(c,1),c.m(h.parentNode,h)):c&&(Ne(),H(c,1,1,()=>{c=null}),Oe())},i(d){g||(F(c),g=!0)},o(d){H(c),g=!1},d(d){d&&(k(e),k(o),k(h)),f&&f.d(),c&&c.d(d),m=!1,it(_)}}}function kl(t){let e,l,s,i,n,r="Min Total Weight:",u,a,o,h,g,m,_,f,c,d,w,b,I,R,D,O,M,N,L,j,P,W,Z,ge,Le,pe=Re(Object.keys(t[4])),ee=[];for(let B=0;B<pe.length;B+=1)ee[B]=Sl(hl(t,pe,B));function Pe(B,x){return B[20]?ln:tn}let he=Pe(t),le=he(t);return{c(){e=E("div");for(let B=0;B<ee.length;B+=1)ee[B].c();l=J(),s=E("div"),i=E("div"),n=E("div"),n.textContent=r,u=J(),a=E("input"),o=J(),h=E("div"),g=E("div"),m=E("button"),_=K("Select All"),c=J(),d=E("button"),w=K("Notables"),I=J(),R=E("button"),D=K("Passives"),M=J(),N=E("button"),L=K("Deselect"),P=J(),W=E("div"),Z=E("button"),le.c(),this.h()},l(B){e=C(B,"DIV",{class:!0});var x=V(e);for(let Me=0;Me<ee.length;Me+=1)ee[Me].l(x);x.forEach(k),l=U(B),s=C(B,"DIV",{class:!0});var $=V(s);i=C($,"DIV",{class:!0});var z=V(i);n=C(z,"DIV",{class:!0,"data-svelte-h":!0}),de(n)!=="svelte-ydmsqj"&&(n.textContent=r),u=U(z),a=C(z,"INPUT",{type:!0,min:!0}),z.forEach(k),$.forEach(k),o=U(B),h=C(B,"DIV",{class:!0});var p=V(h);g=C(p,"DIV",{class:!0});var Q=V(g);m=C(Q,"BUTTON",{class:!0});var ae=V(m);_=Y(ae,"Select All"),ae.forEach(k),c=U(Q),d=C(Q,"BUTTON",{class:!0});var se=V(d);w=Y(se,"Notables"),se.forEach(k),I=U(Q),R=C(Q,"BUTTON",{class:!0});var me=V(R);D=Y(me,"Passives"),me.forEach(k),M=U(Q),N=C(Q,"BUTTON",{class:!0});var re=V(N);L=Y(re,"Deselect"),re.forEach(k),Q.forEach(k),P=U(p),W=C(p,"DIV",{class:!0});var ye=V(W);Z=C(ye,"BUTTON",{class:!0});var ve=V(Z);le.l(ve),ve.forEach(k),ye.forEach(k),p.forEach(k),this.h()},h(){y(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),y(n,"class","mr-2 min-w-fit"),y(a,"type","number"),y(a,"min","0"),y(i,"class","flex flex-row items-center"),y(s,"class","flex flex-col mt-2"),y(m,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),m.disabled=f=t[20]||t[17].size==0,y(d,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),d.disabled=b=t[20]||t[17].size==0,y(R,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),R.disabled=O=t[20]||t[17].size==0,y(N,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),N.disabled=j=t[20]||t[17].size>=t[15].length,y(g,"class","flex flex-row"),y(Z,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),Z.disabled=t[20],y(W,"class","flex flex-row mt-2"),y(h,"class","flex flex-col mt-4")},m(B,x){q(B,e,x);for(let $=0;$<ee.length;$+=1)ee[$]&&ee[$].m(e,null);q(B,l,x),q(B,s,x),v(s,i),v(i,n),v(i,u),v(i,a),Ge(a,t[19]),q(B,o,x),q(B,h,x),v(h,g),v(g,m),v(m,_),v(g,c),v(g,d),v(d,w),v(g,I),v(g,R),v(R,D),v(g,M),v(g,N),v(N,L),v(h,P),v(h,W),v(W,Z),le.m(Z,null),ge||(Le=[A(a,"input",t[68]),A(m,"click",t[37]),A(d,"click",t[38]),A(R,"click",t[39]),A(N,"click",t[40]),A(Z,"click",t[69])],ge=!0)},p(B,x){if(x[0]&16|x[1]&4){pe=Re(Object.keys(B[4]));let $;for($=0;$<pe.length;$+=1){const z=hl(B,pe,$);ee[$]?ee[$].p(z,x):(ee[$]=Sl(z),ee[$].c(),ee[$].m(e,null))}for(;$<ee.length;$+=1)ee[$].d(1);ee.length=pe.length}x[0]&524288&&Xe(a.value)!==B[19]&&Ge(a,B[19]),x[0]&1179648&&f!==(f=B[20]||B[17].size==0)&&(m.disabled=f),x[0]&1179648&&b!==(b=B[20]||B[17].size==0)&&(d.disabled=b),x[0]&1179648&&O!==(O=B[20]||B[17].size==0)&&(R.disabled=O),x[0]&1212416&&j!==(j=B[20]||B[17].size>=B[15].length)&&(N.disabled=j),he===(he=Pe(B))&&le?le.p(B,x):(le.d(1),le=he(B),le&&(le.c(),le.m(Z,null))),x[0]&1048576&&(Z.disabled=B[20])},d(B){B&&(k(e),k(l),k(s),k(o),k(h)),st(ee,B),le.d(),ge=!1,it(Le)}}}function Sl(t){let e,l,s,i="-",n,r,u=ft(t[4][t[83]].id)+"",a,o,h,g,m,_="Min:",f,c,d,w,b,I="Weight:",R,D,O,M,N,L="Minimum Stat Total:",j,P,W,Z,ge;function Le(){return t[64](t[83])}function pe(){t[65].call(c,t[83])}function ee(){t[66].call(D,t[83])}function Pe(){t[67].call(P,t[83])}return{c(){e=E("div"),l=E("div"),s=E("button"),s.textContent=i,n=J(),r=E("span"),a=K(u),o=J(),h=E("div"),g=E("div"),m=E("div"),m.textContent=_,f=J(),c=E("input"),d=J(),w=E("div"),b=E("div"),b.textContent=I,R=J(),D=E("input"),O=J(),M=E("div"),N=E("div"),N.textContent=L,j=J(),P=E("input"),W=J(),this.h()},l(he){e=C(he,"DIV",{class:!0});var le=V(e);l=C(le,"DIV",{});var B=V(l);s=C(B,"BUTTON",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-bzfob2"&&(s.textContent=i),n=U(B),r=C(B,"SPAN",{});var x=V(r);a=Y(x,u),x.forEach(k),B.forEach(k),o=U(le),h=C(le,"DIV",{class:!0});var $=V(h);g=C($,"DIV",{class:!0});var z=V(g);m=C(z,"DIV",{class:!0,"data-svelte-h":!0}),de(m)!=="svelte-1m3cjix"&&(m.textContent=_),f=U(z),c=C(z,"INPUT",{type:!0,min:!0}),z.forEach(k),d=U($),w=C($,"DIV",{class:!0});var p=V(w);b=C(p,"DIV",{class:!0,"data-svelte-h":!0}),de(b)!=="svelte-nrzr8j"&&(b.textContent=I),R=U(p),D=C(p,"INPUT",{type:!0,min:!0}),p.forEach(k),O=U($),M=C($,"DIV",{class:!0});var Q=V(M);N=C(Q,"DIV",{class:!0,"data-svelte-h":!0}),de(N)!=="svelte-17d24if"&&(N.textContent=L),j=U(Q),P=C(Q,"INPUT",{type:!0,min:!0}),Q.forEach(k),$.forEach(k),W=U(le),le.forEach(k),this.h()},h(){y(s,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),y(m,"class","mr-2"),y(c,"type","number"),y(c,"min","0"),y(g,"class","mr-4 flex flex-row items-center"),y(b,"class","mr-2"),y(D,"type","number"),y(D,"min","0"),y(w,"class","flex flex-row items-center"),y(N,"class","mr-2"),y(P,"type","number"),y(P,"min","0"),y(M,"class","flex flex-row items-center"),y(h,"class","mt-2 flex flex-row"),y(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(he,le){q(he,e,le),v(e,l),v(l,s),v(l,n),v(l,r),v(r,a),v(e,o),v(e,h),v(h,g),v(g,m),v(g,f),v(g,c),Ge(c,t[4][t[83]].min),v(h,d),v(h,w),v(w,b),v(w,R),v(w,D),Ge(D,t[4][t[83]].weight),v(h,O),v(h,M),v(M,N),v(M,j),v(M,P),Ge(P,t[4][t[83]].stattotal),v(e,W),Z||(ge=[A(s,"click",Le),A(c,"input",pe),A(D,"input",ee),A(P,"input",Pe)],Z=!0)},p(he,le){t=he,le[0]&16&&u!==(u=ft(t[4][t[83]].id)+"")&&ke(a,u),le[0]&16&&Xe(c.value)!==t[4][t[83]].min&&Ge(c,t[4][t[83]].min),le[0]&16&&Xe(D.value)!==t[4][t[83]].weight&&Ge(D,t[4][t[83]].weight),le[0]&16&&Xe(P.value)!==t[4][t[83]].stattotal&&Ge(P,t[4][t[83]].stattotal)},d(he){he&&k(e),Z=!1,it(ge)}}}function tn(t){let e;return{c(){e=K("Search")},l(l){e=Y(l,"Search")},m(l,s){q(l,e,s)},p:He,d(l){l&&k(e)}}}function ln(t){let e,l,s=ie.TimelessJewelSeedRanges[t[0].value].Max+"",i;return{c(){e=K(t[21]),l=K(" / "),i=K(s)},l(n){e=Y(n,t[21]),l=Y(n," / "),i=Y(n,s)},m(n,r){q(n,e,r),q(n,l,r),q(n,i,r)},p(n,r){r[0]&2097152&&ke(e,n[21]),r[0]&1&&s!==(s=ie.TimelessJewelSeedRanges[n[0].value].Max+"")&&ke(i,s)},d(n){n&&(k(e),k(l),k(i))}}}function yl(t){let e,l,s=ie.TimelessJewelSeedRanges[t[0].value].Min+"",i,n,r=ie.TimelessJewelSeedRanges[t[0].value].Max+"",u;return{c(){e=E("div"),l=K("Seed must be between "),i=K(s),n=K(`
                      and `),u=K(r),this.h()},l(a){e=C(a,"DIV",{class:!0});var o=V(e);l=Y(o,"Seed must be between "),i=Y(o,s),n=Y(o,`
                      and `),u=Y(o,r),o.forEach(k),this.h()},h(){y(e,"class","mt-2")},m(a,o){q(a,e,o),v(e,l),v(e,i),v(e,n),v(e,u)},p(a,o){o[0]&1&&s!==(s=ie.TimelessJewelSeedRanges[a[0].value].Min+"")&&ke(i,s),o[0]&1&&r!==(r=ie.TimelessJewelSeedRanges[a[0].value].Max+"")&&ke(u,r)},d(a){a&&k(e)}}}function Il(t){let e,l,s,i="Sort Order",n,r,u,a,o,h,g="Colors",m,_,f,c="Split",d,w,b,I,R;function D(j){t[57](j)}let O={items:t[43]};t[10]!==void 0&&(O.value=t[10]),r=new Ct({props:O}),lt.push(()=>Et(r,"value",D));function M(j,P){return j[12]?sn:nn}let N=M(t),L=N(t);return{c(){e=E("div"),l=E("div"),s=E("h3"),s.textContent=i,n=J(),qe(r.$$.fragment),a=J(),o=E("div"),h=E("button"),h.textContent=g,m=J(),_=E("div"),f=E("button"),f.textContent=c,d=J(),L.c(),w=Se(),this.h()},l(j){e=C(j,"DIV",{class:!0});var P=V(e);l=C(P,"DIV",{class:!0});var W=V(l);s=C(W,"H3",{class:!0,"data-svelte-h":!0}),de(s)!=="svelte-6mxxgp"&&(s.textContent=i),n=U(W),je(r.$$.fragment,W),W.forEach(k),a=U(P),o=C(P,"DIV",{class:!0});var Z=V(o);h=C(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),de(h)!=="svelte-79cf57"&&(h.textContent=g),Z.forEach(k),m=U(P),_=C(P,"DIV",{class:!0});var ge=V(_);f=C(ge,"BUTTON",{class:!0,"data-svelte-h":!0}),de(f)!=="svelte-1jp80zt"&&(f.textContent=c),ge.forEach(k),P.forEach(k),d=U(j),L.l(j),w=Se(),this.h()},h(){y(s,"class","mb-2"),y(l,"class","flex-grow"),y(h,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-1n2bhso"),_e(h,"selected",t[11]),y(o,"class","ml-2"),y(f,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-1n2bhso"),_e(f,"selected",t[12]),y(_,"class","ml-2"),y(e,"class","flex flex-row mt-4 items-end")},m(j,P){q(j,e,P),v(e,l),v(l,s),v(l,n),Je(r,l,null),v(e,a),v(e,o),v(o,h),v(e,m),v(e,_),v(_,f),q(j,d,P),L.m(j,P),q(j,w,P),b=!0,I||(R=[A(h,"click",t[58]),A(f,"click",t[59])],I=!0)},p(j,P){const W={};!u&&P[0]&1024&&(u=!0,W.value=j[10],Tt(()=>u=!1)),r.$set(W),(!b||P[0]&2048)&&_e(h,"selected",j[11]),(!b||P[0]&4096)&&_e(f,"selected",j[12]),N===(N=M(j))&&L?L.p(j,P):(L.d(1),L=N(j),L&&(L.c(),L.m(w.parentNode,w)))},i(j){b||(F(r.$$.fragment,j),b=!0)},o(j){H(r.$$.fragment,j),b=!1},d(j){j&&(k(e),k(d),k(w)),Ue(r),L.d(j),I=!1,it(R)}}}function sn(t){let e,l,s="Notables",i,n,r,u,a="Smalls",o,h,g=Re(t[42](t[41](t[26],t[11],"notables"),t[10].value)),m=[];for(let c=0;c<g.length;c+=1)m[c]=Tl(ml(t,g,c));let _=Re(t[42](t[41](t[26],t[11],"passives"),t[10].value)),f=[];for(let c=0;c<_.length;c+=1)f[c]=El(dl(t,_,c));return{c(){e=E("div"),l=E("h3"),l.textContent=s,i=J(),n=E("ul");for(let c=0;c<m.length;c+=1)m[c].c();r=J(),u=E("h3"),u.textContent=a,o=J(),h=E("ul");for(let c=0;c<f.length;c+=1)f[c].c();this.h()},l(c){e=C(c,"DIV",{class:!0});var d=V(e);l=C(d,"H3",{"data-svelte-h":!0}),de(l)!=="svelte-uhg2bi"&&(l.textContent=s),i=U(d),n=C(d,"UL",{class:!0});var w=V(n);for(let I=0;I<m.length;I+=1)m[I].l(w);w.forEach(k),r=U(d),u=C(d,"H3",{class:!0,"data-svelte-h":!0}),de(u)!=="svelte-mdvksr"&&(u.textContent=a),o=U(d),h=C(d,"UL",{class:!0});var b=V(h);for(let I=0;I<f.length;I+=1)f[I].l(b);b.forEach(k),d.forEach(k),this.h()},h(){y(n,"class","mt-1 svelte-1n2bhso"),_e(n,"rainbow",t[11]),y(u,"class","mt-2"),y(h,"class","mt-1 svelte-1n2bhso"),_e(h,"rainbow",t[11]),y(e,"class","overflow-auto mt-4")},m(c,d){q(c,e,d),v(e,l),v(e,i),v(e,n);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(n,null);v(e,r),v(e,u),v(e,o),v(e,h);for(let w=0;w<f.length;w+=1)f[w]&&f[w].m(h,null)},p(c,d){if(d[0]&67111940|d[1]&3104){g=Re(c[42](c[41](c[26],c[11],"notables"),c[10].value));let w;for(w=0;w<g.length;w+=1){const b=ml(c,g,w);m[w]?m[w].p(b,d):(m[w]=Tl(b),m[w].c(),m[w].m(n,null))}for(;w<m.length;w+=1)m[w].d(1);m.length=g.length}if(d[0]&2048&&_e(n,"rainbow",c[11]),d[0]&67111940|d[1]&3104){_=Re(c[42](c[41](c[26],c[11],"passives"),c[10].value));let w;for(w=0;w<_.length;w+=1){const b=dl(c,_,w);f[w]?f[w].p(b,d):(f[w]=El(b),f[w].c(),f[w].m(h,null))}for(;w<f.length;w+=1)f[w].d(1);f.length=_.length}d[0]&2048&&_e(h,"rainbow",c[11])},d(c){c&&k(e),st(m,c),st(f,c)}}}function nn(t){let e,l=Re(t[42](t[41](t[26],t[11],"all"),t[10].value)),s=[];for(let i=0;i<l.length;i+=1)s[i]=Cl(_l(t,l,i));return{c(){e=E("ul");for(let i=0;i<s.length;i+=1)s[i].c();this.h()},l(i){e=C(i,"UL",{class:!0});var n=V(e);for(let r=0;r<s.length;r+=1)s[r].l(n);n.forEach(k),this.h()},h(){y(e,"class","mt-4 overflow-auto svelte-1n2bhso"),_e(e,"rainbow",t[11])},m(i,n){q(i,e,n);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null)},p(i,n){if(n[0]&67111940|n[1]&3104){l=Re(i[42](i[41](i[26],i[11],"all"),i[10].value));let r;for(r=0;r<l.length;r+=1){const u=_l(i,l,r);s[r]?s[r].p(u,n):(s[r]=Cl(u),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}n[0]&2048&&_e(e,"rainbow",i[11])},d(i){i&&k(e),st(s,i)}}}function Tl(t){let e,l,s,i=t[76].passives.length+"",n,r,u,a,o,h=t[76].stat+"",g,m,_;function f(){return t[61](t[76])}return{c(){e=E("li"),l=E("span"),s=K("("),n=K(i),r=K(")"),u=J(),a=E("span"),o=new Dt(!1),g=J(),this.h()},l(c){e=C(c,"LI",{class:!0});var d=V(e);l=C(d,"SPAN",{class:!0});var w=V(l);s=Y(w,"("),n=Y(w,i),r=Y(w,")"),w.forEach(k),u=U(d),a=C(d,"SPAN",{class:!0});var b=V(a);o=Vt(b,!1),b.forEach(k),g=U(d),d.forEach(k),this.h()},h(){y(l,"class","font-bold"),_e(l,"text-white",(nt[t[76].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(c,d){q(c,e,d),v(e,l),v(l,s),v(l,n),v(l,r),v(e,u),v(e,a),o.m(h,a),v(e,g),m||(_=A(e,"click",f),m=!0)},p(c,d){t=c,d[0]&67111936&&i!==(i=t[76].passives.length+"")&&ke(n,i),d[0]&67111936|d[1]&3072&&_e(l,"text-white",(nt[t[76].id]||0)<3),d[0]&67111936&&h!==(h=t[76].stat+"")&&o.p(h)},d(c){c&&k(e),m=!1,_()}}}function El(t){let e,l,s,i=t[76].passives.length+"",n,r,u,a,o,h=t[76].stat+"",g,m,_;function f(){return t[62](t[76])}return{c(){e=E("li"),l=E("span"),s=K("("),n=K(i),r=K(")"),u=J(),a=E("span"),o=new Dt(!1),g=J(),this.h()},l(c){e=C(c,"LI",{class:!0});var d=V(e);l=C(d,"SPAN",{class:!0});var w=V(l);s=Y(w,"("),n=Y(w,i),r=Y(w,")"),w.forEach(k),u=U(d),a=C(d,"SPAN",{class:!0});var b=V(a);o=Vt(b,!1),b.forEach(k),g=U(d),d.forEach(k),this.h()},h(){y(l,"class","font-bold"),_e(l,"text-white",(nt[t[76].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(c,d){q(c,e,d),v(e,l),v(l,s),v(l,n),v(l,r),v(e,u),v(e,a),o.m(h,a),v(e,g),m||(_=A(e,"click",f),m=!0)},p(c,d){t=c,d[0]&67111936&&i!==(i=t[76].passives.length+"")&&ke(n,i),d[0]&67111936|d[1]&3072&&_e(l,"text-white",(nt[t[76].id]||0)<3),d[0]&67111936&&h!==(h=t[76].stat+"")&&o.p(h)},d(c){c&&k(e),m=!1,_()}}}function Cl(t){let e,l,s,i=t[76].passives.length+"",n,r,u,a,o,h=t[76].stat+"",g,m,_;function f(){return t[60](t[76])}return{c(){e=E("li"),l=E("span"),s=K("("),n=K(i),r=K(")"),u=J(),a=E("span"),o=new Dt(!1),g=J(),this.h()},l(c){e=C(c,"LI",{class:!0});var d=V(e);l=C(d,"SPAN",{class:!0});var w=V(l);s=Y(w,"("),n=Y(w,i),r=Y(w,")"),w.forEach(k),u=U(d),a=C(d,"SPAN",{class:!0});var b=V(a);o=Vt(b,!1),b.forEach(k),g=U(d),d.forEach(k),this.h()},h(){y(l,"class","font-bold"),_e(l,"text-white",(nt[t[76].id]||0)<3),o.a=null,y(a,"class","text-white"),y(e,"class","cursor-pointer")},m(c,d){q(c,e,d),v(e,l),v(l,s),v(l,n),v(l,r),v(e,u),v(e,a),o.m(h,a),v(e,g),m||(_=A(e,"click",f),m=!0)},p(c,d){t=c,d[0]&67111936&&i!==(i=t[76].passives.length+"")&&ke(n,i),d[0]&67111936|d[1]&3072&&_e(l,"text-white",(nt[t[76].id]||0)<3),d[0]&67111936&&h!==(h=t[76].stat+"")&&o.p(h)},d(c){c&&k(e),m=!1,_()}}}function Al(t){let e,l="Click on a jewel socket";return{c(){e=E("h2"),e.textContent=l,this.h()},l(s){e=C(s,"H2",{class:!0,"data-svelte-h":!0}),de(e)!=="svelte-4ztcob"&&(e.textContent=l),this.h()},h(){y(e,"class","mt-4")},m(s,i){q(s,e,i)},d(s){s&&k(e)}}}function Rl(t){let e,l,s,i=t[24]&&Ll(t);return l=new Us({props:{searchResults:t[6],groupResults:t[9],highlight:t[36],jewel:t[7],conqueror:t[8]}}),{c(){i&&i.c(),e=J(),qe(l.$$.fragment)},l(n){i&&i.l(n),e=U(n),je(l.$$.fragment,n)},m(n,r){i&&i.m(n,r),q(n,e,r),Je(l,n,r),s=!0},p(n,r){n[24]?i?(i.p(n,r),r[0]&16777216&&F(i,1)):(i=Ll(n),i.c(),F(i,1),i.m(e.parentNode,e)):i&&(Ne(),H(i,1,1,()=>{i=null}),Oe());const u={};r[0]&64&&(u.searchResults=n[6]),r[0]&512&&(u.groupResults=n[9]),r[0]&128&&(u.jewel=n[7]),r[0]&256&&(u.conqueror=n[8]),l.$set(u)},i(n){s||(F(i),F(l.$$.fragment,n),s=!0)},o(n){H(i),H(l.$$.fragment,n),s=!1},d(n){n&&k(e),i&&i.d(n),Ue(l,n)}}}function Ll(t){let e,l;return e=new Gs({props:{queries:t[13]}}),{c(){qe(e.$$.fragment)},l(s){je(e.$$.fragment,s)},m(s,i){Je(e,s,i),l=!0},p(s,i){const n={};i[0]&8192&&(n.queries=s[13]),e.$set(n)},i(s){l||(F(e.$$.fragment,s),l=!0)},o(s){H(e.$$.fragment,s),l=!1},d(s){Ue(e,s)}}}function rn(t){let e,l,s,i,n='<a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener">Source of official branch code(Github)</a> <a href="https://github.com/BlazesRus/timeless-jewels" target="_blank" rel="noopener">Source (Github)</a> <a href="https://github.com/ImHamba/timeless-jewels" target="_blank" rel="noopener">Source of ImHamba Branch(Github)</a>',r;const u=[Qs,Ws],a=[];function o(h,g){return h[23]?1:0}return e=o(t),l=a[e]=u[e](t),{c(){l.c(),s=J(),i=E("div"),i.innerHTML=n,this.h()},l(h){l.l(h),s=U(h),i=C(h,"DIV",{class:!0,"data-svelte-h":!0}),de(i)!=="svelte-12nhza"&&(i.innerHTML=n),this.h()},h(){y(i,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(h,g){a[e].m(h,g),q(h,s,g),q(h,i,g),r=!0},p(h,g){let m=e;e=o(h),e===m?a[e].p(h,g):(Ne(),H(a[m],1,1,()=>{a[m]=null}),Oe(),l=a[e],l?l.p(h,g):(l=a[e]=u[e](h),l.c()),F(l,1),l.m(s.parentNode,s))},i(h){r||(F(l),r=!0)},o(h){H(l),r=!1},d(h){h&&(k(s),k(i)),a[e].d(h)}}}function an(t){var n,r;let e,l,s,i;return e=new Is({props:{clickNode:t[31],circledNode:t[3],selectedJewel:(n=t[0])==null?void 0:n.value,selectedConqueror:(r=t[14])==null?void 0:r.value,highlighted:t[22],seed:t[2],highlightJewels:!t[3],disabled:[...t[17]],$$slots:{default:[rn]},$$scope:{ctx:t}}}),{c(){qe(e.$$.fragment)},l(u){je(e.$$.fragment,u)},m(u,a){Je(e,u,a),l=!0,s||(i=A(Xs,"paste",t[44]),s=!0)},p(u,a){var h,g;const o={};a[0]&8&&(o.circledNode=u[3]),a[0]&1&&(o.selectedJewel=(h=u[0])==null?void 0:h.value),a[0]&16384&&(o.selectedConqueror=(g=u[14])==null?void 0:g.value),a[0]&4194304&&(o.highlighted=u[22]),a[0]&4&&(o.seed=u[2]),a[0]&8&&(o.highlightJewels=!u[3]),a[0]&131072&&(o.disabled=[...u[17]]),a[0]&264241151|a[2]&16777216&&(o.$$scope={dirty:a,ctx:u}),e.$set(o)},i(u){l||(F(e.$$.fragment,u),l=!0)},o(u){H(e.$$.fragment,u),l=!1},d(u){Ue(e,u),s=!1,i()}}}function on(t,e,l){let s,i,n,r,u,a,o,h,g;zl(t,ns,T=>l(72,g=T));const m=g.url.searchParams,_=Object.keys(ie.TimelessJewels).map(T=>({value:parseInt(T),label:ie.TimelessJewels[T]}));let f=m.has("jewel")?_.find(T=>T.value==m.get("jewel")):void 0,c=m.has("conqueror")?{value:m.get("conqueror"),label:m.get("conqueror")}:void 0,d=m.has("seed")?parseInt(m.get("seed")):0,w=m.has("location")?parseInt(m.get("location")):void 0,b={};m.has("stat")&&m.getAll("stat").forEach(T=>{const ne=parseInt(T);l(4,b[ne]={weight:1,min:0,id:ne,minStatTotal:0},b)});let I=m.has("mode")?m.get("mode"):"";const R=()=>{const T=new URL(window.location.origin+window.location.pathname);f&&T.searchParams.append("jewel",f.value.toString()),c&&T.searchParams.append("conqueror",c.value),d&&T.searchParams.append("seed",d.toString()),w&&T.searchParams.append("location",w.toString()),I&&T.searchParams.append("mode",I),Object.keys(b).forEach(ne=>{T.searchParams.append("stat",ne.toString())}),Xl(T.toString())},D=T=>{l(16,I=T),R()};let O=new Set;const M=T=>{T.isJewelSocket?(l(3,w=T.skill),R()):T.isMastery||(O.has(T.skill)?O.delete(T.skill):O.add(T.skill),l(17,O))},N=JSON.parse(ie.PossibleStats);let L;const j=T=>{l(4,b[T.detail.value]={weight:1,min:0,id:T.detail.value,minStatTotal:0},b),l(4,b),L.handleClear(),R()},P=T=>{delete b[T],l(4,b),R()},W=()=>{l(4,b={}),R()};let Z=!1,ge=0,Le=!1,pe=0,ee,Pe=1,he=null;const le=()=>{if(!w)return;l(7,Pe=f.value),l(8,he=n?null:r.value),l(20,Le=!0),l(6,ee=void 0);const T={jewel:f.value,conqueror:r.value,nodes:u.filter(ne=>!O.has(ne.skill)).map(ne=>ie.TreeToPassive[ne.skill]).filter(ne=>!!ne).map(ne=>ne.Index),stats:Object.keys(b).map(ne=>b[ne]),minTotalWeight:ge};ts.search(T,ls(ne=>l(21,pe=ne))).then(ne=>{l(6,ee=ne),l(20,Le=!1),l(5,Z=!0)})};let B=[];const x=(T,ne)=>{l(2,d=T),l(22,B=ne),R()},$=()=>{O.clear(),l(17,O)},z=()=>{u.forEach(T=>{T.isNotable&&O.delete(T.skill)}),l(17,O)},p=()=>{u.forEach(T=>{T.isNotable||O.delete(T.skill)}),l(17,O)},Q=()=>{u.filter(T=>!T.isJewelSocket&&!T.isMastery).forEach(T=>O.add(T.skill)),l(17,O)};let ae=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const se={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},me=T=>(Object.keys(se).forEach(ne=>{const we=se[ne];T=T.replace(new RegExp(`(${ne}(?:$|\\s))|((?:^|\\s)${ne})`,"gi"),`<span style='color: ${we}; font-weight: bold'>$1$2</span>`)}),T),re=(T,ne,we)=>{const Te={};return T.forEach(be=>{We.nodes[be.node].isKeystone||we!=="all"&&(we==="notables"&&!We.nodes[be.node].isNotable||we==="passives"&&We.nodes[be.node].isNotable)||(be.result.AlternatePassiveSkill&&be.result.AlternatePassiveSkill.StatsKeys&&be.result.AlternatePassiveSkill.StatsKeys.forEach(Ae=>{Te[Ae]=[...Te[Ae]||[],be.node]}),be.result.AlternatePassiveAdditionInformations&&be.result.AlternatePassiveAdditionInformations.forEach(Ae=>{Ae.AlternatePassiveAddition.StatsKeys&&Ae.AlternatePassiveAddition.StatsKeys.forEach(Ze=>{Te[Ze]=[...Te[Ze]||[],be.node]})}))}),Object.keys(Te).map(be=>{const Ae=ft(parseInt(be));return{stat:ne?me(Ae):Ae,rawStat:Ae,id:be,passives:Te[be]}})},ye=(T,ne)=>{switch(ne){case"alphabet":return T.sort((we,Te)=>we.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(Te.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return T.sort((we,Te)=>Te.passives.length-we.passives.length);case"rarity":return T.sort((we,Te)=>N[f.value][we.id]-N[f.value][Te.id]);case"value":return T.sort((we,Te)=>{const be=nt[we.id]||0,Ae=nt[Te.id]||0;return be!=Ae?Ae-be:N[f.value][we.id]-N[f.value][Te.id]})}return T},ve=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let Me=ve.find(T=>T.value===(localStorage.getItem("sortOrder")||"count")),fe=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",G=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const te=T=>{if(T.type!=="paste")return;const we=(T.clipboardData||window.clipboardData).getData("text").split(`
`);if(we.length<14)return;const Te=_.find(Ze=>Ze.label===we[2]);if(!Te)return;let be,Ae;for(let Ze=10;Ze<we.length;Ze++)if(Ae=Object.keys(ie.TimelessJewelConquerors[Te.value]).find(kt=>we[Ze].indexOf(kt)>=0),Ae){const kt=/(\d+)/.exec(we[Ze]);if(kt.length===0)continue;be=parseInt(kt[1]);break}!Ae||!be||(l(5,Z=!1),l(16,I="seed"),l(2,d=be),l(0,f=Te),l(14,r={label:Ae,value:Ae}),R())};let ue=!1,oe=!1,De;const Be=()=>l(23,ue=!0);function Qe(T){oe=T,l(24,oe),l(6,ee),l(5,Z),l(7,Pe),l(8,he),l(13,De)}const ce=()=>l(9,ae=!ae),Ie=()=>l(5,Z=!Z);function Ke(T){f=T,l(0,f)}function Fe(T){c=T,l(1,c)}const ze=()=>D("seed"),Ve=()=>D("stats");function at(){d=Xe(this.value),l(2,d)}function ct(T){Me=T,l(10,Me)}const ht=()=>l(11,fe=!fe),ot=()=>l(12,G=!G),ut=T=>x(d,T.passives),At=T=>x(d,T.passives),S=T=>x(d,T.passives);function dt(T){lt[T?"unshift":"push"](()=>{L=T,l(18,L)})}const mt=T=>P(b[T].id);function _t(T){b[T].min=Xe(this.value),l(4,b)}function Rt(T){b[T].weight=Xe(this.value),l(4,b)}function Lt(T){b[T].stattotal=Xe(this.value),l(4,b)}function Pt(){ge=Xe(this.value),l(19,ge)}const Mt=()=>le(),Ul=()=>l(23,ue=!1);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(47,s=f?Object.keys(ie.TimelessJewelConquerors[f.value]).map(T=>({value:T,label:T})):[]),t.$$.dirty[1]&65536&&l(27,i=s.concat([{value:"Any",label:"Any"}])),t.$$.dirty[0]&2&&(n=(c==null?void 0:c.value)==="Any"),t.$$.dirty[0]&2|t.$$.dirty[1]&65536&&l(14,r=(c==null?void 0:c.value)==="Any"?s[0]:c),t.$$.dirty[0]&8&&l(15,u=w?es(We.nodes[w]).filter(T=>!T.isJewelSocket&&!T.isMastery):[]),t.$$.dirty[0]&49157&&l(26,a=!d||!f||!r||Object.keys(ie.TimelessJewelConquerors[f.value]).indexOf(r.value)<0?[]:u.filter(T=>!!ie.TreeToPassive[T.skill]).map(T=>({node:T.skill,result:Nl.Calculate(ie.TreeToPassive[T.skill].Index,d,f.value,r.value)}))),t.$$.dirty[0]&1&&l(46,o=f?Object.keys(N[f.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&32768&&l(25,h=o.map(T=>{const ne=parseInt(T);return{label:ft(ne),value:ne}}).filter(T=>!(T.value in b))),t.$$.dirty[0]&512&&localStorage.setItem("groupResults",ae?"true":"false"),t.$$.dirty[0]&1024&&localStorage.setItem("sortOrder",Me.value),t.$$.dirty[0]&2048&&localStorage.setItem("colored",fe?"true":"false"),t.$$.dirty[0]&4096&&localStorage.setItem("split",G?"true":"false"),t.$$.dirty[0]&8672&&ee&&Z&&(l(13,De=ss(Pe,he,ee.raw)),De.length===1&&l(24,oe=!1))},[f,c,d,w,b,Z,ee,Pe,he,ae,Me,fe,G,De,r,u,I,O,L,ge,Le,pe,B,ue,oe,h,a,i,_,R,D,M,j,P,W,le,x,$,z,p,Q,re,ye,ve,te,se,o,s,Be,Qe,ce,Ie,Ke,Fe,ze,Ve,at,ct,ht,ot,ut,At,S,dt,mt,_t,Rt,Lt,Pt,Mt,Ul]}class pn extends et{constructor(e){super(),tt(this,e,on,an,$e,{colorKeys:45},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[45]}}export{pn as component};
