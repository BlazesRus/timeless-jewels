import{f as m,a as v,c as $e}from"../chunks/B9Buoydv.js";import{p as Ue,u as se,s as z,a as ze,t as J,b as Qe,g as e,c as D,d as y,e as r,f as i,r as l,n as ke,h as I}from"../chunks/B9WkbP0M.js";import{e as Ee,s as Q}from"../chunks/BFEoQIMk.js";import{i as f}from"../chunks/BuX9eZff.js";import{S as me,p as Le,s as te,r as We,b as Xe,e as ue}from"../chunks/B-Uo2khg.js";import{s as Ye,a as Ze}from"../chunks/CbfR4m3C.js";import{g as ea}from"../chunks/DaZvbg5m.js";import{b as aa,a as sa}from"../chunks/DtO4cNeP.js";import{c as Je,d as s}from"../chunks/CEYB05p7.js";var ta=m('<div class="mt-2"> </div>'),la=m("<li> </li>"),ra=m('<ol class="mt-4 list-decimal pl-8"></ol>'),ia=m('<div class="mt-4"><h3>Alternate Passive Skill</h3> <span> </span></div> <!>',1),na=m("<li> </li>"),oa=m('<ol class="list-decimal pl-8"></ol>'),va=m('<li class="mt-4"><span> </span> <!></li>'),da=m('<div class="mt-4"><h3>Additions</h3> <ul class="list-disc pl-8"></ul></div>'),ma=m("<!> <!>",1),ua=m('<div class="mt-4"><h3 class="mb-2">Seed</h3> <input type="number" class="seed"/> <!></div> <!>',1),ca=m('<div class="mt-4"><h3 class="mb-2">Passive Skill</h3> <!></div> <!>',1),fa=m('<div class="mt-4"><h3 class="mb-2">Conqueror</h3> <!></div> <!>',1),_a=m('<div class="py-10 flex flex-row justify-center w-screen h-screen"><div class="flex flex-col justify-between w-1/3"><div><h1 class="text-white mb-10 text-center">Timeless Calculator</h1> <a><h2 class="text-white mb-10 text-center underline text-orange-500">Skill Tree View</h2></a> <div class="themed"><h3 class="mb-2">Timeless Jewel</h3> <!> <!></div></div> <div class="flex justify-between"><div class="text-right text-orange-500"><a href="https://discord.gg/mfacademy" target="_blank" rel="noopener noreferrer" class="flex flex-row align-middle"><img width="24px" alt="MF Academy"/> <span class="ml-2">MF Academy</span></a></div> <div class="text-orange-500"><a href="https://github.com/Vilsol/timeless-jewels" target="_blank" rel="noopener noreferrer">Official Branch Source (Github)</a> <a href="https://github.com/BlazesRus/timeless-jewels" target="_blank" rel="noopener noreferrer">Source (Github)</a> <a href="https://github.com/ImHamba/timeless-jewels" target="_blank" rel="noopener noreferrer">ImHamba Branch Source (Github)</a></div></div></div></div>');function Aa(Ie,Re){Ue(Re,!0);const[Pe,je]=Ze(),ce=()=>Ye(Le,"$page",Pe),b=ce().url.searchParams;let A=D(()=>{var a,o,S;return((a=s)==null?void 0:a.TimelessJewels)&&((o=s)==null?void 0:o.TimelessJewelConquerors)&&((S=s)==null?void 0:S.PassiveSkills)}),le=D(()=>e(A)&&s.TimelessJewels?Object.keys(s.TimelessJewels).map(a=>{var o;return{value:parseInt(a),label:((o=s.TimelessJewels)==null?void 0:o[parseInt(a)])||a}}):[]),t=z(void 0);se(()=>{e(le).length>0&&!e(t)&&b.has("jewel")&&y(t,e(le).find(a=>a.value==parseInt(b.get("jewel")||"0")),!0)});let fe=D(()=>e(t)&&e(A)&&s.TimelessJewelConquerors&&s.TimelessJewelConquerors[e(t).value]?Object.keys(s.TimelessJewelConquerors[e(t).value]||{}).map(a=>({value:a,label:a})):[]),u=z(void 0);se(()=>{if(e(fe).length>0&&!e(u)&&b.has("conqueror")){const a=b.get("conqueror");a&&y(u,{value:a,label:a},!0)}});let re=D(()=>e(A)&&s.PassiveSkills?Object.values(s.PassiveSkills).filter(a=>a!=null).map(a=>({value:(a==null?void 0:a.Index)||0,label:((a==null?void 0:a.Name)||"")+" ("+((a==null?void 0:a.ID)||"")+")"})):[]),h=z(void 0);se(()=>{e(re).length>0&&!e(h)&&b.has("passive_skill")&&y(h,e(re).find(a=>a.value==parseInt(b.get("passive_skill")||"0")),!0)});let c=z(ze(b.has("seed")?parseInt(b.get("seed")||"0"):0)),n=z(void 0);se(()=>{var a;e(h)&&e(c)&&e(t)&&e(u)&&((a=Je)!=null&&a.Calculate)&&y(n,Je.Calculate(e(h).value,typeof e(c)=="string"?parseInt(e(c)):e(c),e(t).value,e(u).value||""),!0)});const E=()=>{var a;{const o={};e(t)&&(o.jewel=e(t).value),(a=e(u))!=null&&a.value&&(o.conqueror=e(u).value),e(h)&&(o.passive_skill=e(h).value),e(c)&&(o.seed=e(c));const S=Object.keys(o).map(L=>L+"="+encodeURIComponent(o[L])).join("&");ea(ce().url.pathname+"?"+S)}};var ie=_a(),_e=r(ie),ne=r(_e),ge=i(r(ne),2),he=i(ge,2),pe=i(r(he),2);me(pe,{get items(){return e(le)},get value(){return e(t)},set value(a){y(t,a,!0)},$$events:{select:E}});var qe=i(pe,2);{var Ce=a=>{var o=fa(),S=I(o),L=i(r(S),2);me(L,{get items(){return e(fe)},get value(){return e(u)},set value(B){y(u,B,!0)},$$events:{select:E}}),l(S);var Me=i(S,2);{var De=B=>{var xe=ca(),oe=I(xe),Be=i(r(oe),2);me(Be,{get items(){return e(re)},get value(){return e(h)},set value(G){y(h,G,!0)},$$events:{select:E}}),l(oe);var Ge=i(oe,2);{var Ke=G=>{var Te=ua(),ve=I(Te),R=i(r(ve),2);We(R);var Ve=i(R,2);{var Fe=p=>{var P=ta(),W=r(P);l(P),J(()=>{var X,Y,Z,_;return Q(W,`Seed must be between ${((Y=(X=s.TimelessJewelSeedRanges)==null?void 0:X[e(t).value])==null?void 0:Y.Min)??""} and ${((_=(Z=s.TimelessJewelSeedRanges)==null?void 0:Z[e(t).value])==null?void 0:_.Max)??""}`)}),v(p,P)};f(Ve,p=>{e(t)&&e(A)&&s.TimelessJewelSeedRanges&&s.TimelessJewelSeedRanges[e(t).value]&&typeof e(c)=="number"&&(e(c)<s.TimelessJewelSeedRanges[e(t).value].Min||e(c)>s.TimelessJewelSeedRanges[e(t).value].Max)&&p(Fe)})}l(ve);var He=i(ve,2);{var Ne=p=>{var P=ma(),W=I(P);{var X=_=>{var j=ia(),q=I(j),C=i(r(q),2),d=r(C);l(C),l(q);var K=i(q,2);{var V=F=>{var H=ra();ue(H,22,()=>Object.keys(e(n).StatRolls),N=>N,(N,$,g)=>{var O=$e(),de=I(O);{var ee=M=>{var w=la();const k=D(()=>s.GetStatByIndex(e(n).AlternatePassiveSkill.StatsKeys[e(g)]));var U=r(w);l(w),J(x=>{var T,ae;return Q(U,`${((T=e(k))==null?void 0:T.Text)||"<no name>"} (${((ae=e(k))==null?void 0:ae.ID)??""}) - ${x??""}`)},[()=>Object.values(e(n).StatRolls)[e(g)]]),v(M,w)};f(de,M=>{var w,k;(k=(w=e(n).AlternatePassiveSkill)==null?void 0:w.StatsKeys)!=null&&k[e(g)]&&M(ee)})}v(N,O)}),l(H),v(F,H)};f(K,F=>{e(n).StatRolls&&Object.keys(e(n).StatRolls).length>0&&F(V)})}J(()=>Q(d,`${e(n).AlternatePassiveSkill.Name??""} (${e(n).AlternatePassiveSkill.ID??""})`)),v(_,j)};f(W,_=>{e(n).AlternatePassiveSkill&&_(X)})}var Y=i(W,2);{var Z=_=>{var j=da(),q=i(r(j),2);ue(q,21,()=>e(n).AlternatePassiveAdditionInformations,C=>{var d;return((d=C.AlternatePassiveAddition)==null?void 0:d.ID)||Math.random()},(C,d)=>{var K=va(),V=r(K),F=r(V);l(V);var H=i(V,2);{var N=$=>{var g=oa();ue(g,22,()=>Object.keys(e(d).StatRolls),O=>O,(O,de,ee)=>{var M=$e(),w=I(M);{var k=U=>{var x=na();const T=D(()=>s.GetStatByIndex(e(d).AlternatePassiveAddition.StatsKeys[e(ee)]));var ae=r(x);l(x),J(()=>{var ye,Ae;return Q(ae,`${((ye=e(T))==null?void 0:ye.Text)||"<no name>"} (${((Ae=e(T))==null?void 0:Ae.ID)??""}) - ${e(d).StatRolls[de]??""}`)}),v(U,x)};f(w,U=>{var x,T;(T=(x=e(d).AlternatePassiveAddition)==null?void 0:x.StatsKeys)!=null&&T[e(ee)]&&U(k)})}v(O,M)}),l(g),v($,g)};f(H,$=>{e(d).StatRolls&&Object.keys(e(d).StatRolls).length>0&&$(N)})}l(K),J(()=>{var $,g;return Q(F,`${(($=e(d).AlternatePassiveAddition)==null?void 0:$.ID)??""} (${((g=e(d).AlternatePassiveAddition)==null?void 0:g.Index)??""})`)}),v(C,K)}),l(q),l(j),v(_,j)};f(Y,_=>{"AlternatePassiveAdditionInformations"in e(n)&&e(n).AlternatePassiveAdditionInformations&&e(n).AlternatePassiveAdditionInformations.length>0&&_(Z)})}v(p,P)};f(He,p=>{e(n)&&p(Ne)})}J(()=>{te(R,"min",e(t)&&e(A)&&s.TimelessJewelSeedRanges&&s.TimelessJewelSeedRanges[e(t).value]?s.TimelessJewelSeedRanges[e(t).value].Min:0),te(R,"max",e(t)&&e(A)&&s.TimelessJewelSeedRanges&&s.TimelessJewelSeedRanges[e(t).value]?s.TimelessJewelSeedRanges[e(t).value].Max:0)}),Ee("blur",R,E),Xe(R,()=>e(c),p=>y(c,p)),v(G,Te)};f(Ge,G=>{e(h)&&G(Ke)})}v(B,xe)};f(Me,B=>{e(u)&&e(t)&&e(A)&&s.TimelessJewelConquerors&&s.TimelessJewelConquerors[e(t).value]&&e(u).value&&Object.keys(s.TimelessJewelConquerors[e(t).value]||{}).indexOf(e(u).value)>=0&&B(De)})}v(a,o)};f(qe,a=>{e(t)&&a(Ce)})}l(he),l(ne);var be=i(ne,2),Se=r(be),we=r(Se),Oe=r(we);ke(2),l(we),l(Se),ke(2),l(be),l(_e),l(ie),J(()=>{te(ge,"href",`${aa??""}/tree`),te(Oe,"src",`${sa??""}/mf-academy-logo.png`)}),v(Ie,ie),Qe(),je()}export{Aa as component};
