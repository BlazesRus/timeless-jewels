import{S as Le,i as Ge,s as Ue,w as le,J as te,k,q as A,a as J,y as se,l as S,m as P,r as I,h as p,c as $,z as ae,n as g,K as Be,b as T,G as d,A as ie,L as ne,g as y,d as U,f as Ne,B as oe,I as Ke,e as C,v as Ce,M as ke,N as Se,O as ye,P as Fe,u as N,Q as re}from"../chunks/index.b4e4867b.js";import{S as fe,g as Qe}from"../chunks/navigation.d4ee144c.js";import{p as ze}from"../chunks/stores.5cf7b956.js";import{b as We,a as Xe}from"../chunks/paths.fbea264c.js";import{d as D,c as Ye}from"../chunks/index.098253ec.js";function we(n,e,i){const l=n.slice();return l[15]=e[i],l}function Ae(n,e,i){const l=n.slice();l[18]=e[i],l[21]=i;const a=D.GetStatByIndex(l[15].AlternatePassiveAddition.StatsKeys[l[21]]);return l[19]=a,l}function Ie(n,e,i){const l=n.slice();l[18]=e[i],l[21]=i;const a=D.GetStatByIndex(l[4].AlternatePassiveSkill.StatsKeys[l[21]]);return l[19]=a,l}function Pe(n){let e,i,l,a,s,t,o,f=n[1]&&Object.keys(D.TimelessJewelConquerors[n[0].value]).indexOf(n[1].value)>=0,v,c;function h(u){n[10](u)}let m={items:n[5]};n[1]!==void 0&&(m.value=n[1]),s=new fe({props:m}),le.push(()=>te(s,"value",h)),s.$on("select",n[8]);let r=f&&Ee(n);return{c(){e=k("div"),i=k("h3"),l=A("Conqueror"),a=J(),se(s.$$.fragment),o=J(),r&&r.c(),v=C(),this.h()},l(u){e=S(u,"DIV",{class:!0});var _=P(e);i=S(_,"H3",{class:!0});var w=P(i);l=I(w,"Conqueror"),w.forEach(p),a=$(_),ae(s.$$.fragment,_),_.forEach(p),o=$(u),r&&r.l(u),v=C(),this.h()},h(){g(i,"class","mb-2"),g(e,"class","mt-4")},m(u,_){T(u,e,_),d(e,i),d(i,l),d(e,a),ie(s,e,null),T(u,o,_),r&&r.m(u,_),T(u,v,_),c=!0},p(u,_){const w={};_&32&&(w.items=u[5]),!t&&_&2&&(t=!0,w.value=u[1],ne(()=>t=!1)),s.$set(w),_&3&&(f=u[1]&&Object.keys(D.TimelessJewelConquerors[u[0].value]).indexOf(u[1].value)>=0),f?r?(r.p(u,_),_&3&&y(r,1)):(r=Ee(u),r.c(),y(r,1),r.m(v.parentNode,v)):r&&(Ce(),U(r,1,1,()=>{r=null}),Ne())},i(u){c||(y(s.$$.fragment,u),y(r),c=!0)},o(u){U(s.$$.fragment,u),U(r),c=!1},d(u){u&&p(e),oe(s),u&&p(o),r&&r.d(u),u&&p(v)}}}function Ee(n){let e,i,l,a,s,t,o,f,v;function c(r){n[11](r)}let h={items:n[7]};n[2]!==void 0&&(h.value=n[2]),s=new fe({props:h}),le.push(()=>te(s,"value",c)),s.$on("select",n[8]);let m=n[2]&&Re(n);return{c(){e=k("div"),i=k("h3"),l=A("Passive Skill"),a=J(),se(s.$$.fragment),o=J(),m&&m.c(),f=C(),this.h()},l(r){e=S(r,"DIV",{class:!0});var u=P(e);i=S(u,"H3",{class:!0});var _=P(i);l=I(_,"Passive Skill"),_.forEach(p),a=$(u),ae(s.$$.fragment,u),u.forEach(p),o=$(r),m&&m.l(r),f=C(),this.h()},h(){g(i,"class","mb-2"),g(e,"class","mt-4")},m(r,u){T(r,e,u),d(e,i),d(i,l),d(e,a),ie(s,e,null),T(r,o,u),m&&m.m(r,u),T(r,f,u),v=!0},p(r,u){const _={};!t&&u&4&&(t=!0,_.value=r[2],ne(()=>t=!1)),s.$set(_),r[2]?m?m.p(r,u):(m=Re(r),m.c(),m.m(f.parentNode,f)):m&&(m.d(1),m=null)},i(r){v||(y(s.$$.fragment,r),v=!0)},o(r){U(s.$$.fragment,r),v=!1},d(r){r&&p(e),oe(s),r&&p(o),m&&m.d(r),r&&p(f)}}}function Re(n){let e,i,l,a,s,t,o,f,v,c,h,m,r=(n[3]<D.TimelessJewelSeedRanges[n[0].value].Min||n[3]>D.TimelessJewelSeedRanges[n[0].value].Max)&&Te(n),u=n[4]&&je(n);return{c(){e=k("div"),i=k("h3"),l=A("Seed"),a=J(),s=k("input"),f=J(),r&&r.c(),v=J(),u&&u.c(),c=C(),this.h()},l(_){e=S(_,"DIV",{class:!0});var w=P(e);i=S(w,"H3",{class:!0});var M=P(i);l=I(M,"Seed"),M.forEach(p),a=$(w),s=S(w,"INPUT",{type:!0,class:!0,min:!0,max:!0}),f=$(w),r&&r.l(w),w.forEach(p),v=$(_),u&&u.l(_),c=C(),this.h()},h(){g(i,"class","mb-2"),g(s,"type","number"),g(s,"class","seed"),g(s,"min",t=D.TimelessJewelSeedRanges[n[0].value].Min),g(s,"max",o=D.TimelessJewelSeedRanges[n[0].value].Max),g(e,"class","mt-4")},m(_,w){T(_,e,w),d(e,i),d(i,l),d(e,a),d(e,s),ke(s,n[3]),d(e,f),r&&r.m(e,null),T(_,v,w),u&&u.m(_,w),T(_,c,w),h||(m=[Se(s,"input",n[12]),Se(s,"blur",n[8])],h=!0)},p(_,w){w&1&&t!==(t=D.TimelessJewelSeedRanges[_[0].value].Min)&&g(s,"min",t),w&1&&o!==(o=D.TimelessJewelSeedRanges[_[0].value].Max)&&g(s,"max",o),w&8&&ye(s.value)!==_[3]&&ke(s,_[3]),_[3]<D.TimelessJewelSeedRanges[_[0].value].Min||_[3]>D.TimelessJewelSeedRanges[_[0].value].Max?r?r.p(_,w):(r=Te(_),r.c(),r.m(e,null)):r&&(r.d(1),r=null),_[4]?u?u.p(_,w):(u=je(_),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(_){_&&p(e),r&&r.d(),_&&p(v),u&&u.d(_),_&&p(c),h=!1,Fe(m)}}}function Te(n){let e,i,l=D.TimelessJewelSeedRanges[n[0].value].Min+"",a,s,t=D.TimelessJewelSeedRanges[n[0].value].Max+"",o;return{c(){e=k("div"),i=A("Seed must be between "),a=A(l),s=A(" and "),o=A(t),this.h()},l(f){e=S(f,"DIV",{class:!0});var v=P(e);i=I(v,"Seed must be between "),a=I(v,l),s=I(v," and "),o=I(v,t),v.forEach(p),this.h()},h(){g(e,"class","mt-2")},m(f,v){T(f,e,v),d(e,i),d(e,a),d(e,s),d(e,o)},p(f,v){v&1&&l!==(l=D.TimelessJewelSeedRanges[f[0].value].Min+"")&&N(a,l),v&1&&t!==(t=D.TimelessJewelSeedRanges[f[0].value].Max+"")&&N(o,t)},d(f){f&&p(e)}}}function je(n){var s;let e,i,l=n[4].AlternatePassiveSkill&&De(n),a="AlternatePassiveAdditionInformations"in n[4]&&((s=n[4].AlternatePassiveAdditionInformations)==null?void 0:s.length)>0&&Oe(n);return{c(){l&&l.c(),e=J(),a&&a.c(),i=C()},l(t){l&&l.l(t),e=$(t),a&&a.l(t),i=C()},m(t,o){l&&l.m(t,o),T(t,e,o),a&&a.m(t,o),T(t,i,o)},p(t,o){var f;t[4].AlternatePassiveSkill?l?l.p(t,o):(l=De(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),"AlternatePassiveAdditionInformations"in t[4]&&((f=t[4].AlternatePassiveAdditionInformations)==null?void 0:f.length)>0?a?a.p(t,o):(a=Oe(t),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(t){l&&l.d(t),t&&p(e),a&&a.d(t),t&&p(i)}}}function De(n){let e,i,l,a,s,t=n[4].AlternatePassiveSkill.Name+"",o,f,v=n[4].AlternatePassiveSkill.ID+"",c,h,m=n[4].AlternatePassiveSkill+"",r,u,_,w=n[4].StatRolls&&Object.keys(n[4].StatRolls).length>0,M,b=w&&Je(n);return{c(){e=k("div"),i=k("h3"),l=A("Alternate Passive Skill"),a=J(),s=k("span"),o=A(t),f=A(" ("),c=A(v),h=A(") ("),r=A(m),u=A(")"),_=J(),b&&b.c(),M=C(),this.h()},l(E){e=S(E,"DIV",{class:!0});var R=P(e);i=S(R,"H3",{});var V=P(i);l=I(V,"Alternate Passive Skill"),V.forEach(p),a=$(R),s=S(R,"SPAN",{});var q=P(s);o=I(q,t),f=I(q," ("),c=I(q,v),h=I(q,") ("),r=I(q,m),u=I(q,")"),q.forEach(p),R.forEach(p),_=$(E),b&&b.l(E),M=C(),this.h()},h(){g(e,"class","mt-4")},m(E,R){T(E,e,R),d(e,i),d(i,l),d(e,a),d(e,s),d(s,o),d(s,f),d(s,c),d(s,h),d(s,r),d(s,u),T(E,_,R),b&&b.m(E,R),T(E,M,R)},p(E,R){R&16&&t!==(t=E[4].AlternatePassiveSkill.Name+"")&&N(o,t),R&16&&v!==(v=E[4].AlternatePassiveSkill.ID+"")&&N(c,v),R&16&&m!==(m=E[4].AlternatePassiveSkill+"")&&N(r,m),R&16&&(w=E[4].StatRolls&&Object.keys(E[4].StatRolls).length>0),w?b?b.p(E,R):(b=Je(E),b.c(),b.m(M.parentNode,M)):b&&(b.d(1),b=null)},d(E){E&&p(e),E&&p(_),b&&b.d(E),E&&p(M)}}}function Je(n){let e,i=Object.keys(n[4].StatRolls),l=[];for(let a=0;a<i.length;a+=1)l[a]=$e(Ie(n,i,a));return{c(){e=k("ol");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=S(a,"OL",{class:!0});var s=P(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(p),this.h()},h(){g(e,"class","mt-4 list-decimal pl-8")},m(a,s){T(a,e,s);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(a,s){if(s&16){i=Object.keys(a[4].StatRolls);let t;for(t=0;t<i.length;t+=1){const o=Ie(a,i,t);l[t]?l[t].p(o,s):(l[t]=$e(o),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=i.length}},d(a){a&&p(e),re(l,a)}}}function $e(n){let e,i=(n[19].Text||"<no name>")+"",l,a,s=n[19].ID+"",t,o,f=n[4].StatRolls[n[18]]+"",v;return{c(){e=k("li"),l=A(i),a=A(" ("),t=A(s),o=A(") - "),v=A(f)},l(c){e=S(c,"LI",{});var h=P(e);l=I(h,i),a=I(h," ("),t=I(h,s),o=I(h,") - "),v=I(h,f),h.forEach(p)},m(c,h){T(c,e,h),d(e,l),d(e,a),d(e,t),d(e,o),d(e,v)},p(c,h){h&16&&i!==(i=(c[19].Text||"<no name>")+"")&&N(l,i),h&16&&s!==(s=c[19].ID+"")&&N(t,s),h&16&&f!==(f=c[4].StatRolls[c[18]]+"")&&N(v,f)},d(c){c&&p(e)}}}function Oe(n){let e,i,l,a,s,t=n[4].AlternatePassiveAdditionInformations,o=[];for(let f=0;f<t.length;f+=1)o[f]=qe(we(n,t,f));return{c(){e=k("div"),i=k("h3"),l=A("Additions"),a=J(),s=k("ul");for(let f=0;f<o.length;f+=1)o[f].c();this.h()},l(f){e=S(f,"DIV",{class:!0});var v=P(e);i=S(v,"H3",{});var c=P(i);l=I(c,"Additions"),c.forEach(p),a=$(v),s=S(v,"UL",{class:!0});var h=P(s);for(let m=0;m<o.length;m+=1)o[m].l(h);h.forEach(p),v.forEach(p),this.h()},h(){g(s,"class","list-disc pl-8"),g(e,"class","mt-4")},m(f,v){T(f,e,v),d(e,i),d(i,l),d(e,a),d(e,s);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(s,null)},p(f,v){if(v&16){t=f[4].AlternatePassiveAdditionInformations;let c;for(c=0;c<t.length;c+=1){const h=we(f,t,c);o[c]?o[c].p(h,v):(o[c]=qe(h),o[c].c(),o[c].m(s,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=t.length}},d(f){f&&p(e),re(o,f)}}}function Me(n){let e,i=Object.keys(n[15].StatRolls),l=[];for(let a=0;a<i.length;a+=1)l[a]=Ve(Ae(n,i,a));return{c(){e=k("ol");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=S(a,"OL",{class:!0});var s=P(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(p),this.h()},h(){g(e,"class","list-decimal pl-8")},m(a,s){T(a,e,s);for(let t=0;t<l.length;t+=1)l[t]&&l[t].m(e,null)},p(a,s){if(s&16){i=Object.keys(a[15].StatRolls);let t;for(t=0;t<i.length;t+=1){const o=Ae(a,i,t);l[t]?l[t].p(o,s):(l[t]=Ve(o),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=i.length}},d(a){a&&p(e),re(l,a)}}}function Ve(n){let e,i=(n[19].Text||"<no name>")+"",l,a,s=n[19].ID+"",t,o,f=n[15].StatRolls[n[18]]+"",v;return{c(){e=k("li"),l=A(i),a=A(" ("),t=A(s),o=A(") - "),v=A(f)},l(c){e=S(c,"LI",{});var h=P(e);l=I(h,i),a=I(h," ("),t=I(h,s),o=I(h,") - "),v=I(h,f),h.forEach(p)},m(c,h){T(c,e,h),d(e,l),d(e,a),d(e,t),d(e,o),d(e,v)},p(c,h){h&16&&i!==(i=(c[19].Text||"<no name>")+"")&&N(l,i),h&16&&s!==(s=c[19].ID+"")&&N(t,s),h&16&&f!==(f=c[15].StatRolls[c[18]]+"")&&N(v,f)},d(c){c&&p(e)}}}function qe(n){let e,i,l=n[15].AlternatePassiveAddition.ID+"",a,s,t=n[15].AlternatePassiveAddition.Index+"",o,f,v,c=n[15].StatRolls&&Object.keys(n[15].StatRolls).length>0,h,m=c&&Me(n);return{c(){e=k("li"),i=k("span"),a=A(l),s=A(" ("),o=A(t),f=A(")"),v=J(),m&&m.c(),h=J(),this.h()},l(r){e=S(r,"LI",{class:!0});var u=P(e);i=S(u,"SPAN",{});var _=P(i);a=I(_,l),s=I(_," ("),o=I(_,t),f=I(_,")"),_.forEach(p),v=$(u),m&&m.l(u),h=$(u),u.forEach(p),this.h()},h(){g(e,"class","mt-4")},m(r,u){T(r,e,u),d(e,i),d(i,a),d(i,s),d(i,o),d(i,f),d(e,v),m&&m.m(e,null),d(e,h)},p(r,u){u&16&&l!==(l=r[15].AlternatePassiveAddition.ID+"")&&N(a,l),u&16&&t!==(t=r[15].AlternatePassiveAddition.Index+"")&&N(o,t),u&16&&(c=r[15].StatRolls&&Object.keys(r[15].StatRolls).length>0),c?m?m.p(r,u):(m=Me(r),m.c(),m.m(e,h)):m&&(m.d(1),m=null)},d(r){r&&p(e),m&&m.d()}}}function Ze(n){let e,i,l,a,s,t,o,f,v,c,h,m,r,u,_,w,M,b,E,R,V,q,ue,Y,B,Z,x,K,H,ee,z;function He(O){n[9](O)}let ce={items:n[6]};n[0]!==void 0&&(ce.value=n[0]),_=new fe({props:ce}),le.push(()=>te(_,"value",He)),_.$on("select",n[8]);let j=n[0]&&Pe(n);return{c(){e=k("div"),i=k("div"),l=k("div"),a=k("h1"),s=A("Timeless Calculator"),t=J(),o=k("a"),f=k("h2"),v=A("Skill Tree View"),c=J(),h=k("div"),m=k("h3"),r=A("Timeless Jewel"),u=J(),se(_.$$.fragment),M=J(),j&&j.c(),b=J(),E=k("div"),R=k("div"),V=k("a"),q=k("img"),Y=J(),B=k("span"),Z=A("MF Academy"),x=J(),K=k("div"),H=k("a"),ee=A("Source (Github)"),this.h()},l(O){e=S(O,"DIV",{class:!0});var L=P(e);i=S(L,"DIV",{class:!0});var G=P(i);l=S(G,"DIV",{});var F=P(l);a=S(F,"H1",{class:!0});var _e=P(a);s=I(_e,"Timeless Calculator"),_e.forEach(p),t=$(F),o=S(F,"A",{href:!0});var de=P(o);f=S(de,"H2",{class:!0});var he=P(f);v=I(he,"Skill Tree View"),he.forEach(p),de.forEach(p),c=$(F),h=S(F,"DIV",{class:!0});var Q=P(h);m=S(Q,"H3",{class:!0});var ve=P(m);r=I(ve,"Timeless Jewel"),ve.forEach(p),u=$(Q),ae(_.$$.fragment,Q),M=$(Q),j&&j.l(Q),Q.forEach(p),F.forEach(p),b=$(G),E=S(G,"DIV",{class:!0});var W=P(E);R=S(W,"DIV",{class:!0});var me=P(R);V=S(me,"A",{href:!0,target:!0,rel:!0,class:!0});var X=P(V);q=S(X,"IMG",{src:!0,width:!0}),Y=$(X),B=S(X,"SPAN",{class:!0});var pe=P(B);Z=I(pe,"MF Academy"),pe.forEach(p),X.forEach(p),me.forEach(p),x=$(W),K=S(W,"DIV",{class:!0});var be=P(K);H=S(be,"A",{href:!0,target:!0,rel:!0});var ge=P(H);ee=I(ge,"Source (Github)"),ge.forEach(p),be.forEach(p),W.forEach(p),G.forEach(p),L.forEach(p),this.h()},h(){g(a,"class","text-white mb-10 text-center"),g(f,"class","text-white mb-10 text-center underline text-orange-500"),g(o,"href",We+"/tree"),g(m,"class","mb-2"),g(h,"class","themed"),Be(q.src,ue=Xe+"/mf-academy-logo.png")||g(q,"src",ue),g(q,"width","24px"),g(B,"class","ml-2"),g(V,"href","https://discord.gg/mfacademy"),g(V,"target","_blank"),g(V,"rel","noopener"),g(V,"class","flex flex-row align-middle"),g(R,"class","text-right text-orange-500"),g(H,"href","https://github.com/Vilsol/timeless-jewels"),g(H,"target","_blank"),g(H,"rel","noopener"),g(K,"class","text-orange-500"),g(E,"class","flex justify-between"),g(i,"class","flex flex-col justify-between w-1/3"),g(e,"class","py-10 flex flex-row justify-center w-screen h-screen")},m(O,L){T(O,e,L),d(e,i),d(i,l),d(l,a),d(a,s),d(l,t),d(l,o),d(o,f),d(f,v),d(l,c),d(l,h),d(h,m),d(m,r),d(h,u),ie(_,h,null),d(h,M),j&&j.m(h,null),d(i,b),d(i,E),d(E,R),d(R,V),d(V,q),d(V,Y),d(V,B),d(B,Z),d(E,x),d(E,K),d(K,H),d(H,ee),z=!0},p(O,[L]){const G={};!w&&L&1&&(w=!0,G.value=O[0],ne(()=>w=!1)),_.$set(G),O[0]?j?(j.p(O,L),L&1&&y(j,1)):(j=Pe(O),j.c(),y(j,1),j.m(h,null)):j&&(Ce(),U(j,1,1,()=>{j=null}),Ne())},i(O){z||(y(_.$$.fragment,O),y(j),z=!0)},o(O){U(_.$$.fragment,O),U(j),z=!1},d(O){O&&p(e),oe(_),j&&j.d()}}}function xe(n,e,i){let l,a;Ke(n,ze,b=>i(13,a=b));const s=a.url.searchParams,t=Object.keys(D.TimelessJewels).map(b=>({value:parseInt(b),label:D.TimelessJewels[b]}));let o=s.has("jewel")?t.find(b=>b.value==s.get("jewel")):void 0,f=s.has("conqueror")?{value:s.get("conqueror"),label:s.get("conqueror")}:void 0;const v=Object.values(D.PassiveSkills).map(b=>({value:b.Index,label:b.Name+" ("+b.ID+")"}));let c=s.has("passive_skill")?v.find(b=>b.value==s.get("passive_skill")):void 0,h=s.has("seed")?s.get("seed"):0,m;const r=()=>{{const b={};o&&(b.jewel=o.value),f&&(b.conqueror=f.value),c&&(b.passive_skill=c.value),h&&(b.seed=h);const E=Object.keys(b).map(R=>R+"="+encodeURIComponent(b[R])).join("&");Qe(a.url.pathname+"?"+E)}};function u(b){o=b,i(0,o)}function _(b){f=b,i(1,f)}function w(b){c=b,i(2,c)}function M(){h=ye(this.value),i(3,h)}return n.$$.update=()=>{n.$$.dirty&1&&i(5,l=o?Object.keys(D.TimelessJewelConquerors[o.value]).map(b=>({value:b,label:b})):[]),n.$$.dirty&15&&c&&h&&o&&f&&i(4,m=Ye.Calculate(c.value,typeof h=="string"?parseInt(h):h,o.value,f.value))},[o,f,c,h,m,l,t,v,r,u,_,w,M]}class il extends Le{constructor(e){super(),Ge(this,e,xe,Ze,Ue,{})}}export{il as component};
