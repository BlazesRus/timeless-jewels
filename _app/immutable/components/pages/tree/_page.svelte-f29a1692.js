var Al=Object.defineProperty;var yl=(t,e,l)=>e in t?Al(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Ye=(t,e,l)=>(yl(t,typeof e!="symbol"?e+"":e,l),l);import{S as et,i as tt,s as lt,H as ut,k as E,a as B,l as T,m as y,h as b,c as F,n as k,p as pt,b as J,R as O,I as ft,J as ct,K as ht,f as K,t as Q,E as We,a8 as zl,o as _l,a5 as kt,a9 as Pl,a7 as W,N as xe,C as Ke,e as Se,g as Ce,d as Oe,M as ml,aa as gl,w as De,x as Ve,y as Le,L as p,z as Je,q as j,r as q,u as Te,U as $e,ab as Rl,a3 as Ml,ac as Nl,T as Ge,_ as pe,O as It,P as Et,Q as Xe}from"../../../chunks/paths-9eb3c566.js";import{r as Cl,j as Ol}from"../../../chunks/singletons-9ac23c38.js";import{b as Dl,a as Ue,d as wt,t as Tt,c as Ze,o as At,e as mt,f as yt,i as zt,g as Pt,h as Vl,j as Rt,k as pl,m as nt,n as Ll,s as Jl,p as jl}from"../../../chunks/worker-6fe592d4.js";import{c as bl,d as te}from"../../../chunks/index-f119c485.js";import{g as ql,S as bt}from"../../../chunks/navigation-9e6cedbc.js";import{p as Ul}from"../../../chunks/stores-139c5fee.js";class Bl{constructor(){Ye(this,"currentLayerId");Ye(this,"setups");Ye(this,"renderers");Ye(this,"needsSetup");Ye(this,"needsResize");Ye(this,"needsRedraw");Ye(this,"layerSequence");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:e,render:l}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,l),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.needsRedraw=!0}render({autoclear:e,pixelRatio:l,context:i,width:n,height:s}){var f;const r={context:i,width:n,height:s};if(this.needsResize&&(i.setTransform(l,0,0,l,0,0),this.needsResize=!1),this.needsSetup){for(const[o,a]of this.setups)a(r),this.setups.delete(o);this.needsSetup=!1}if(this.needsRedraw){e&&i.clearRect(0,0,n,s);for(const o of this.layerSequence)(f=this.renderers.get(o))==null||f(r);this.needsRedraw=!1}}}function Fl(t){let e,l,i,n,s,r,f,o,a;const d=t[13].default,_=ut(d,t,t[12],null);return{c(){e=E("canvas"),s=B(),r=E("div"),_&&_.c(),this.h()},l(h){e=T(h,"CANVAS",{style:!0,width:!0,height:!0,class:!0}),y(e).forEach(b),s=F(h),r=T(h,"DIV",{style:!0});var g=y(r);_&&_.l(g),g.forEach(b),this.h()},h(){k(e,"style",l="display: block; width: "+t[1]+"px; height: "+t[2]+"px;"+(t[3]?` ${t[3]}`:"")),k(e,"width",i=t[1]*(t[0]??1)),k(e,"height",n=t[2]*(t[0]??1)),k(e,"class",t[4]),pt(r,"display","none")},m(h,g){J(h,e,g),t[59](e),J(h,s,g),J(h,r,g),_&&_.m(r,null),t[60](r),f=!0,o||(a=[O(e,"focus",t[14]),O(e,"blur",t[15]),O(e,"fullscreenchange",t[16]),O(e,"fullscreenerror",t[17]),O(e,"scroll",t[18]),O(e,"cut",t[19]),O(e,"copy",t[20]),O(e,"paste",t[21]),O(e,"keydown",t[22]),O(e,"keypress",t[23]),O(e,"keyup",t[24]),O(e,"auxclick",t[25]),O(e,"click",t[26]),O(e,"contextmenu",t[27]),O(e,"dblclick",t[28]),O(e,"mousedown",t[29]),O(e,"mouseenter",t[30]),O(e,"mouseleave",t[31]),O(e,"mousemove",t[32]),O(e,"mouseover",t[33]),O(e,"mouseout",t[34]),O(e,"mouseup",t[35]),O(e,"select",t[36]),O(e,"wheel",t[37]),O(e,"drag",t[38]),O(e,"dragend",t[39]),O(e,"dragenter",t[40]),O(e,"dragstart",t[41]),O(e,"dragleave",t[42]),O(e,"dragover",t[43]),O(e,"drop",t[44]),O(e,"touchcancel",t[45]),O(e,"touchend",t[46]),O(e,"touchmove",t[47]),O(e,"touchstart",t[48]),O(e,"pointerover",t[49]),O(e,"pointerenter",t[50]),O(e,"pointerdown",t[51]),O(e,"pointermove",t[52]),O(e,"pointerup",t[53]),O(e,"pointercancel",t[54]),O(e,"pointerout",t[55]),O(e,"pointerleave",t[56]),O(e,"gotpointercapture",t[57]),O(e,"lostpointercapture",t[58])],o=!0)},p(h,g){(!f||g[0]&14&&l!==(l="display: block; width: "+h[1]+"px; height: "+h[2]+"px;"+(h[3]?` ${h[3]}`:"")))&&k(e,"style",l),(!f||g[0]&3&&i!==(i=h[1]*(h[0]??1)))&&k(e,"width",i),(!f||g[0]&5&&n!==(n=h[2]*(h[0]??1)))&&k(e,"height",n),(!f||g[0]&16)&&k(e,"class",h[4]),_&&_.p&&(!f||g[0]&4096)&&ft(_,d,h,h[12],f?ht(d,h[12],g,null):ct(h[12]),null)},i(h){f||(K(_,h),f=!0)},o(h){Q(_,h),f=!1},d(h){h&&b(e),t[59](null),h&&b(s),h&&b(r),_&&_.d(h),t[60](null),o=!1,We(a)}}}const vl=Symbol(),Hl=()=>Pl(vl);function Kl(t,e,l){let{$$slots:i={},$$scope:n}=e,{width:s=640,height:r=640,pixelRatio:f=null,style:o="",autoclear:a=!0}=e,{class:d=""}=e,_,h=null,g,c,u;const m=new Bl;function w(){m.redraw()}function I(){return _}function z(){return h}f==null&&(typeof window<"u"?f=window.devicePixelRatio:f=2);function D(){m.render({context:h,width:s,height:r,pixelRatio:f,autoclear:a}),g=window.requestAnimationFrame(D)}zl(vl,{register:m.register,unregister:m.unregister,redraw:m.redraw}),_l(()=>{h=_.getContext("2d"),u=new MutationObserver(S),u.observe(c,{childList:!0}),S(),D();function S(){const vt=[...c.children].map(dt=>dt instanceof HTMLElement?parseInt(dt.dataset.layerId??"-1"):-1);l(11,m.layerSequence=vt,m),m.redraw()}}),kt(()=>{typeof window>"u"||(window.cancelAnimationFrame(g),u.disconnect())});function M(S){W.call(this,t,S)}function P(S){W.call(this,t,S)}function R(S){W.call(this,t,S)}function N(S){W.call(this,t,S)}function V(S){W.call(this,t,S)}function L(S){W.call(this,t,S)}function H(S){W.call(this,t,S)}function Y(S){W.call(this,t,S)}function G(S){W.call(this,t,S)}function ae(S){W.call(this,t,S)}function be(S){W.call(this,t,S)}function ue(S){W.call(this,t,S)}function Z(S){W.call(this,t,S)}function Ae(S){W.call(this,t,S)}function ke(S){W.call(this,t,S)}function de(S){W.call(this,t,S)}function U(S){W.call(this,t,S)}function ne(S){W.call(this,t,S)}function re(S){W.call(this,t,S)}function C(S){W.call(this,t,S)}function v(S){W.call(this,t,S)}function ie(S){W.call(this,t,S)}function le(S){W.call(this,t,S)}function se(S){W.call(this,t,S)}function _e(S){W.call(this,t,S)}function $(S){W.call(this,t,S)}function ge(S){W.call(this,t,S)}function me(S){W.call(this,t,S)}function Re(S){W.call(this,t,S)}function oe(S){W.call(this,t,S)}function X(S){W.call(this,t,S)}function x(S){W.call(this,t,S)}function fe(S){W.call(this,t,S)}function ce(S){W.call(this,t,S)}function je(S){W.call(this,t,S)}function Me(S){W.call(this,t,S)}function Be(S){W.call(this,t,S)}function he(S){W.call(this,t,S)}function Ie(S){W.call(this,t,S)}function qe(S){W.call(this,t,S)}function Ne(S){W.call(this,t,S)}function ze(S){W.call(this,t,S)}function Pe(S){W.call(this,t,S)}function st(S){W.call(this,t,S)}function rt(S){W.call(this,t,S)}function ot(S){xe[S?"unshift":"push"](()=>{_=S,l(5,_)})}function it(S){xe[S?"unshift":"push"](()=>{c=S,l(6,c)})}return t.$$set=S=>{"width"in S&&l(1,s=S.width),"height"in S&&l(2,r=S.height),"pixelRatio"in S&&l(0,f=S.pixelRatio),"style"in S&&l(3,o=S.style),"autoclear"in S&&l(7,a=S.autoclear),"class"in S&&l(4,d=S.class),"$$scope"in S&&l(12,n=S.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2183&&m.resize()},[f,s,r,o,d,_,c,a,w,I,z,m,n,i,M,P,R,N,V,L,H,Y,G,ae,be,ue,Z,Ae,ke,de,U,ne,re,C,v,ie,le,se,_e,$,ge,me,Re,oe,X,x,fe,ce,je,Me,Be,he,Ie,qe,Ne,ze,Pe,st,rt,ot,it]}class Wl extends et{constructor(e){super(),tt(this,e,Kl,Fl,lt,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,class:4,redraw:8,getCanvas:9,getContext:10},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function Yl(t){let e;return{c(){e=E("div"),this.h()},l(l){e=T(l,"DIV",{"data-layer-id":!0}),y(e).forEach(b),this.h()},h(){k(e,"data-layer-id",t[0])},m(l,i){J(l,e,i)},p:Ke,i:Ke,o:Ke,d(l){l&&b(e)}}}function Gl(t,e,l){const{register:i,unregister:n,redraw:s}=Hl();let{setup:r=void 0}=e,{render:f=()=>{}}=e;const o=i({setup:r,render:f});return kt(()=>n(o)),t.$$set=a=>{"setup"in a&&l(1,r=a.setup),"render"in a&&l(2,f=a.render)},t.$$.update=()=>{t.$$.dirty&4&&s()},[o,r,f]}class Xl extends et{constructor(e){super(),tt(this,e,Gl,Yl,lt,{setup:1,render:2})}}let Mt;const wl=Date.now(),Sl=t=>(t(Date.now()-wl),Mt=window.requestAnimationFrame(()=>Sl(t)),()=>window.cancelAnimationFrame(Mt));function Ql(){}const Zl=Cl(Date.now()-wl,typeof window>"u"?Ql:Sl),{window:St}=gl;function Nt(t){let e,l,i,n,s,r;l=new Wl({props:{width:t[0],height:t[1],$$slots:{default:[xl]},$$scope:{ctx:t}}}),l.$on("pointerdown",t[5]),l.$on("wheel",t[8]);const f=t[26].default,o=ut(f,t,t[27],null);return{c(){e=E("div"),De(l.$$.fragment),i=B(),o&&o.c(),this.h()},l(a){e=T(a,"DIV",{style:!0});var d=y(e);Ve(l.$$.fragment,d),i=F(d),o&&o.l(d),d.forEach(b),this.h()},h(){pt(e,"touch-action","none"),pt(e,"cursor",t[2])},m(a,d){J(a,e,d),Le(l,e,null),p(e,i),o&&o.m(e,null),n=!0,s||(r=O(e,"resize",t[9]),s=!0)},p(a,d){const _={};d[0]&1&&(_.width=a[0]),d[0]&2&&(_.height=a[1]),d[0]&134217736&&(_.$$scope={dirty:d,ctx:a}),l.$set(_),o&&o.p&&(!n||d[0]&134217728)&&ft(o,f,a,a[27],n?ht(f,a[27],d,null):ct(a[27]),null),(!n||d[0]&4)&&pt(e,"cursor",a[2])},i(a){n||(K(l.$$.fragment,a),K(o,a),n=!0)},o(a){Q(l.$$.fragment,a),Q(o,a),n=!1},d(a){a&&b(e),Je(l),o&&o.d(a),s=!1,r()}}}function xl(t){let e,l;return e=new Xl({props:{render:t[3]}}),{c(){De(e.$$.fragment)},l(i){Ve(e.$$.fragment,i)},m(i,n){Le(e,i,n),l=!0},p(i,n){const s={};n[0]&8&&(s.render=i[3]),e.$set(s)},i(i){l||(K(e.$$.fragment,i),l=!0)},o(i){Q(e.$$.fragment,i),l=!1},d(i){Je(e,i)}}}function $l(t){let e,l,i,n,s=t[0]&&t[1]&&Nt(t);return{c(){s&&s.c(),e=Se()},l(r){s&&s.l(r),e=Se()},m(r,f){s&&s.m(r,f),J(r,e,f),l=!0,i||(n=[O(St,"pointerup",t[6]),O(St,"pointermove",t[7]),O(St,"resize",t[9])],i=!0)},p(r,f){r[0]&&r[1]?s?(s.p(r,f),f[0]&3&&K(s,1)):(s=Nt(r),s.c(),K(s,1),s.m(e.parentNode,e)):s&&(Ce(),Q(s,1,1,()=>{s=null}),Oe())},i(r){l||(K(s),l=!0)},o(r){Q(s),l=!1},d(r){s&&s.d(r),r&&b(e),i=!1,We(n)}}}const Ct="25px Roboto Mono",Ot="17px Roboto Mono",Dt=2.6;function es(t,e,l){let i,n,s,{$$slots:r={},$$scope:f}=e,{clickNode:o}=e,{circledNode:a}=e,{selectedJewel:d}=e,{selectedConqueror:_}=e,{seed:h}=e,{highlighted:g=[]}=e,{disabled:c=[]}=e,{highlightJewels:u=!1}=e;const m=Ol(Zl,v=>(!g||!g.length)&&!u?0:Math.round(v/40));ml(t,m,v=>l(25,s=v));const w=[427,320,226,227,323,422,329];let I=10,z=0,D=0;const M={},P={},R=(v,ie,le,se=!1,_e=!1)=>{let $=se?Vl[ie]:Rt[ie];!$&&se&&($=Rt[ie]);const ge=$.filename;ge in(se?P:M)||((se?P:M)[ge]=new Image,(se?P:M)[ge].src=ge);const me=$.coords[ie],Re=me.w/I*Dt,oe=me.h/I*Dt,X=le.x-Re/2,x=le.y-oe/2;let fe=x;_e&&(fe=x-oe/2),v.drawImage((se?P:M)[ge],me.x,me.y,me.w,me.h,X,fe,Re,oe),_e&&(v.save(),v.translate(X,x),v.rotate(Math.PI),v.drawImage((se?P:M)[ge],me.x,me.y,me.w,me.h,-Re,-(oe/2),Re,-oe),v.restore())},N=(v,ie,le)=>{const se=[];let _e="";return v.split(" ").forEach($=>{ie.measureText(_e+$).width<le?_e+=" "+$:(se.push(_e.trim()),_e=$)}),_e.length>0&&se.push(_e.trim()),se};let V={x:Number.MIN_VALUE,y:Number.MIN_VALUE},L="unset",H,Y=0,G=0,ae=0,be=0,ue=!1;const Z=v=>{ue=!0,Y=v.offsetX,G=v.offsetY,ae=z,be=D,l(21,V={x:v.offsetX,y:v.offsetY}),H&&o(H)},Ae=v=>{v.type==="pointerup"&&(ue=!1),l(21,V={x:v.offsetX,y:v.offsetY})},ke=v=>{ue&&(l(19,z=ae-(Y-v.offsetX)*I),l(20,D=be-(G-v.offsetY)*I)),l(21,V={x:v.offsetX,y:v.offsetY})},de=v=>{v.deltaY>0?I<30&&(l(19,z+=v.offsetX),l(20,D+=v.offsetY)):I>3&&(l(19,z-=v.offsetX),l(20,D-=v.offsetY)),l(18,I=Math.min(30,Math.max(3,I+v.deltaY/100))),v.preventDefault(),v.stopPropagation(),v.stopImmediatePropagation()};let U=0,ne=0;const re=()=>{l(0,U=window.innerWidth),l(1,ne=window.innerHeight)};let C=!1;return t.$$set=v=>{"clickNode"in v&&l(10,o=v.clickNode),"circledNode"in v&&l(11,a=v.circledNode),"selectedJewel"in v&&l(12,d=v.selectedJewel),"selectedConqueror"in v&&l(13,_=v.selectedConqueror),"seed"in v&&l(14,h=v.seed),"highlighted"in v&&l(15,g=v.highlighted),"disabled"in v&&l(16,c=v.disabled),"highlightJewels"in v&&l(17,u=v.highlightJewels),"$$scope"in v&&l(27,f=v.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&262144&&l(24,i=Dl/I),t.$$.dirty[0]&8650752&&(!C&&Ue&&(l(23,C=!0),l(19,z=Ue.min_x+window.innerWidth/2*I),l(20,D=Ue.min_y+window.innerHeight/2*I)),re()),t.$$.dirty[0]&58718208&&l(3,n=({context:v,width:ie,height:le})=>{const se=window.performance.now();v.clearRect(0,0,ie,le),v.fillStyle="#080c11",v.fillRect(0,0,ie,le);const _e={};Object.keys(wt).forEach(oe=>{const X=wt[oe],x=Tt(X.x,X.y,z,D,I),fe=Math.max(...X.orbits);w.indexOf(parseInt(oe))>=0||(fe==1?R(v,"PSGroupBackground1",x,!1):fe==2?R(v,"PSGroupBackground2",x,!1):(fe==3||X.orbits.length>1)&&R(v,"PSGroupBackground3",x,!1,!0))}),Object.keys(Ze).forEach(oe=>{var ce;const X=Ze[oe],x=At(X.orbit,X.orbitIndex),fe=mt(X,z,D,I);(ce=X.out)==null||ce.forEach(je=>{if(!Ze[parseInt(je)])return;const Me=Math.min(parseInt(je),parseInt(oe)),Be=Math.max(parseInt(je),parseInt(oe)),he=Me+":"+Be;if(he in _e)return;_e[he]=!0;const Ie=Ze[parseInt(je)];if(!Ie||Ie.isMastery)return;const qe=At(Ie.orbit,Ie.orbitIndex),Ne=mt(Ie,z,D,I);if(v.beginPath(),X.group!=Ie.group||X.orbit!=Ie.orbit)v.moveTo(fe.x,fe.y),v.lineTo(Ne.x,Ne.y);else{let ze=Math.PI/180-Math.PI/180*x,Pe=Math.PI/180-Math.PI/180*qe;ze-=Math.PI/2,Pe-=Math.PI/2;const st=Math.abs(Math.max(ze,Pe)-Math.min(ze,Pe)),rt=st>Math.PI?Math.max(ze,Pe):Math.min(ze,Pe),ot=st>Math.PI?Math.min(ze,Pe):Math.max(ze,Pe),it=wt[X.group],S=Tt(it.x,it.y,z,D,I);v.arc(S.x,S.y,Ue.constants.orbitRadii[X.orbit]/I+1,rt,ot)}v.lineWidth=6/I,v.strokeStyle="#524518",v.stroke()})});let $;a&&($=mt(Ze[a],z,D,I),v.strokeStyle="#ad2b2b");let ge=!1,me;if(Object.keys(Ze).forEach(oe=>{const X=Ze[oe],x=mt(X,z,D,I);let fe=0,ce=!1;a&&yt(x,$)<i&&(ce=!0),c.indexOf(X.skill)>=0&&(ce=!1),X.isKeystone?(fe=110,R(v,X.icon,x,ce),ce?R(v,"KeystoneFrameAllocated",x,!1):R(v,"KeystoneFrameUnallocated",x,!1)):X.isNotable?(fe=70,R(v,X.icon,x,ce),ce?R(v,"NotableFrameAllocated",x,!1):R(v,"NotableFrameUnallocated",x,!1)):X.isJewelSocket?(fe=70,X.expansionJewel?R(v,"JewelSocketAltNormal",x,!1):ce?R(v,"JewelFrameAllocated",x,!1):R(v,"JewelFrameUnallocated",x,!1)):X.isMastery?R(v,X.inactiveIcon,x,ce):(fe=50,R(v,X.icon,x,ce),ce?R(v,"PSSkillFrameActive",x,!1):R(v,"PSSkillFrame",x,!1)),(g.indexOf(X.skill)>=0||u&&X.isJewelSocket)&&(v.strokeStyle=`hsl(${s}, 100%, 50%)`,v.lineWidth=3,v.beginPath(),v.arc(x.x,x.y,(fe+30)/I,0,Math.PI*2),v.stroke()),yt(x,V)<fe/I&&(me=X,ge=ce)}),l(22,H=me),a&&(v.strokeStyle="#ad2b2b",v.lineWidth=1,v.beginPath(),v.arc($.x,$.y,i,0,Math.PI*2),v.stroke()),H){let oe=H.name,X=(H.stats||[]).map(he=>({text:he,special:!1}));if(!H.isJewelSocket&&ge&&H.skill&&h&&d&&_){const he=bl.Calculate(te.TreeToPassive[H.skill].Index,h,d,_);he&&("AlternatePassiveSkill"in he&&he.AlternatePassiveSkill&&(X=[],oe=he.AlternatePassiveSkill.Name,"StatsKeys"in he.AlternatePassiveSkill&&he.AlternatePassiveSkill.StatsKeys.forEach((Ie,qe)=>{const Ne=te.GetStatByIndex(Ie),ze=zt[Ne.ID]||"";ze&&X.push({text:Pt(ze,he.StatRolls[qe])||Ne.ID,special:!0})})),he.AlternatePassiveAdditionInformations&&he.AlternatePassiveAdditionInformations.forEach(Ie=>{"StatsKeys"in Ie.AlternatePassiveAddition&&Ie.AlternatePassiveAddition.StatsKeys.forEach((qe,Ne)=>{const ze=te.GetStatByIndex(qe),Pe=zt[ze.ID]||"";Pe&&X.push({text:Pt(Pe,Ie.StatRolls[Ne])||ze.ID,special:!0})})}))}v.font=Ct;const x=v.measureText(oe),fe=Math.max(x.width+50,600);v.font=Ot;const ce=[],je=30;let Me=85;X&&X.length>0?X.forEach(he=>{ce.length>0&&(Me+=5),he.text.split(`
`).forEach(Ie=>{ce.length>0&&(Me+=10),N(Ie,v,fe-je).forEach(Ne=>{ce.push({text:Ne,offset:Me,special:he.special}),Me+=20})})}):H.isJewelSocket&&(ce.push({text:"Click to select this socket",offset:Me,special:!0}),Me+=20);const Be=55;v.fillStyle="rgba(75,63,24,0.9)",v.fillRect(V.x,V.y,fe,Be),v.fillStyle="#ffffff",v.font=Ct,v.textAlign="center",v.fillText(oe,V.x+fe/2,V.y+35),v.fillStyle="rgba(0,0,0,0.8)",v.fillRect(V.x,V.y+Be,fe,Me-Be),v.font=Ot,v.textAlign="left",ce.forEach(he=>{he.special?v.fillStyle="#8cf34c":v.fillStyle="#ffffff",v.fillText(he.text,V.x+je/2,V.y+he.offset)})}H&&H.isJewelSocket?l(2,L="pointer"):l(2,L="unset"),v.fillStyle="#ffffff",v.textAlign="right",v.font="12px Roboto Mono";const Re=window.performance.now();v.fillText(`${(Re-se).toFixed(1)}ms`,ie-5,17)})},[U,ne,L,n,m,Z,Ae,ke,de,re,o,a,d,_,h,g,c,u,I,z,D,V,H,C,i,s,r,f]}class ts extends et{constructor(e){super(),tt(this,e,es,$l,lt,{clickNode:10,circledNode:11,selectedJewel:12,selectedConqueror:13,seed:14,highlighted:15,disabled:16,highlightJewels:17},null,[-1,-1])}}function Vt(t,e,l){const i=t.slice();return i[6]=e[l],i}function Lt(t,e,l){const i=t.slice();return i[9]=e[l],i}function Jt(t){let e,l=nt(t[9],t[6].stats[t[9]])+"",i;return{c(){e=E("li"),i=j(l)},l(n){e=T(n,"LI",{});var s=y(e);i=q(s,l),s.forEach(b)},m(n,s){J(n,e,s),p(e,i)},p(n,s){s&2&&l!==(l=nt(n[9],n[6].stats[n[9]])+"")&&Te(i,l)},d(n){n&&b(e)}}}function jt(t){let e,l,i=Ue.nodes[t[6].passive].name+"",n,s,r=t[6].passive+"",f,o,a,d,_,h=Object.keys(t[6].stats),g=[];for(let c=0;c<h.length;c+=1)g[c]=Jt(Lt(t,h,c));return{c(){e=E("div"),l=E("span"),n=j(i),s=j(" ("),f=j(r),o=j(")"),a=B(),d=E("ul");for(let c=0;c<g.length;c+=1)g[c].c();_=B(),this.h()},l(c){e=T(c,"DIV",{class:!0});var u=y(e);l=T(u,"SPAN",{});var m=y(l);n=q(m,i),s=q(m," ("),f=q(m,r),o=q(m,")"),m.forEach(b),a=F(u),d=T(u,"UL",{class:!0});var w=y(d);for(let I=0;I<g.length;I+=1)g[I].l(w);w.forEach(b),_=F(u),u.forEach(b),this.h()},h(){k(d,"class","list-disc pl-6 font-bold"),k(e,"class","mt-2")},m(c,u){J(c,e,u),p(e,l),p(l,n),p(l,s),p(l,f),p(l,o),p(e,a),p(e,d);for(let m=0;m<g.length;m+=1)g[m].m(d,null);p(e,_)},p(c,u){if(u&2&&i!==(i=Ue.nodes[c[6].passive].name+"")&&Te(n,i),u&2&&r!==(r=c[6].passive+"")&&Te(f,r),u&2){h=Object.keys(c[6].stats);let m;for(m=0;m<h.length;m+=1){const w=Lt(c,h,m);g[m]?g[m].p(w,u):(g[m]=Jt(w),g[m].c(),g[m].m(d,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=h.length}},d(c){c&&b(e),$e(g,c)}}}function ls(t){let e,l,i,n,s,r,f,o=t[1].seed+"",a,d,_=t[1].weight+"",h,g,c,u,m,w,I,z,D=t[1].skills,M=[];for(let P=0;P<D.length;P+=1)M[P]=jt(Vt(t,D,P));return{c(){e=E("div"),l=E("div"),i=E("button"),n=j("Trade"),s=B(),r=E("div"),f=j("Seed "),a=j(o),d=j(" (weight "),h=j(_),g=j(")"),c=B(),u=E("button"),m=j("Trade"),w=B();for(let P=0;P<M.length;P+=1)M[P].c();this.h()},l(P){e=T(P,"DIV",{class:!0});var R=y(e);l=T(R,"DIV",{class:!0});var N=y(l);i=T(N,"BUTTON",{class:!0});var V=y(i);n=q(V,"Trade"),V.forEach(b),s=F(N),r=T(N,"DIV",{class:!0});var L=y(r);f=q(L,"Seed "),a=q(L,o),d=q(L," (weight "),h=q(L,_),g=q(L,")"),L.forEach(b),c=F(N),u=T(N,"BUTTON",{class:!0});var H=y(u);m=q(H,"Trade"),H.forEach(b),N.forEach(b),w=F(R);for(let Y=0;Y<M.length;Y+=1)M[Y].l(R);R.forEach(b),this.h()},h(){k(i,"class","px-3 invisible"),k(r,"class","font-bold text-orange-500 text-center"),k(u,"class","px-3 bg-blue-500/40 rounded"),k(l,"class","flex flex-row justify-between"),k(e,"class","my-2 border-white/50 border p-2 flex flex-col cursor-pointer")},m(P,R){J(P,e,R),p(e,l),p(l,i),p(i,n),p(l,s),p(l,r),p(r,f),p(r,a),p(r,d),p(r,h),p(r,g),p(l,c),p(l,u),p(u,m),p(e,w);for(let N=0;N<M.length;N+=1)M[N].m(e,null);I||(z=[O(u,"click",t[4]),O(e,"click",t[5])],I=!0)},p(P,[R]){if(R&2&&o!==(o=P[1].seed+"")&&Te(a,o),R&2&&_!==(_=P[1].weight+"")&&Te(h,_),R&2){D=P[1].skills;let N;for(N=0;N<D.length;N+=1){const V=Vt(P,D,N);M[N]?M[N].p(V,R):(M[N]=jt(V),M[N].c(),M[N].m(e,null))}for(;N<M.length;N+=1)M[N].d(1);M.length=D.length}},i:Ke,o:Ke,d(P){P&&b(e),$e(M,P),I=!1,We(z)}}}function ss(t,e,l){let{highlight:i}=e,{set:n}=e,{jewel:s}=e,{conqueror:r}=e;const f=()=>pl(s,r,[n]),o=()=>i(n.seed,n.skills.map(a=>a.passive));return t.$$set=a=>{"highlight"in a&&l(0,i=a.highlight),"set"in a&&l(1,n=a.set),"jewel"in a&&l(2,s=a.jewel),"conqueror"in a&&l(3,r=a.conqueror)},[i,n,s,r,f,o]}class kl extends et{constructor(e){super(),tt(this,e,ss,ls,lt,{highlight:0,set:1,jewel:2,conqueror:3})}}const gt={AUTO:"auto",START:"start",CENTER:"center",END:"end"},He={HORIZONTAL:"horizontal",VERTICAL:"vertical"},at={OBSERVED:0,REQUESTED:1},is={[He.VERTICAL]:"top",[He.HORIZONTAL]:"left"},qt={[He.VERTICAL]:"scrollTop",[He.HORIZONTAL]:"scrollLeft"};class ns{constructor({itemSize:e,itemCount:l,estimatedItemSize:i}){this.itemSize=e,this.itemCount=l,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1,this.checkForMismatchItemSizeAndItemCount(),this.justInTime||this.computeTotalSizeAndPositionData()}get justInTime(){return typeof this.itemSize=="function"}updateConfig({itemSize:e,itemCount:l,estimatedItemSize:i}){l!=null&&(this.itemCount=l),i!=null&&(this.estimatedItemSize=i),e!=null&&(this.itemSize=e),this.checkForMismatchItemSizeAndItemCount(),this.justInTime&&this.totalSize!=null?this.totalSize=void 0:this.computeTotalSizeAndPositionData()}checkForMismatchItemSizeAndItemCount(){if(Array.isArray(this.itemSize)&&this.itemSize.length<this.itemCount)throw Error("When itemSize is an array, itemSize.length can't be smaller than itemCount")}getSize(e){const{itemSize:l}=this;return typeof l=="function"?l(e):Array.isArray(l)?l[e]:l}computeTotalSizeAndPositionData(){let e=0;for(let l=0;l<this.itemCount;l++){const i=this.getSize(l),n=e;e+=i,this.itemSizeAndPositionData[l]={offset:n,size:i}}this.totalSize=e}getLastMeasuredIndex(){return this.lastMeasuredIndex}getSizeAndPositionForIndex(e){if(e<0||e>=this.itemCount)throw Error(`Requested index ${e} is outside of range 0..${this.itemCount}`);return this.justInTime?this.getJustInTimeSizeAndPositionForIndex(e):this.itemSizeAndPositionData[e]}getJustInTimeSizeAndPositionForIndex(e){if(e>this.lastMeasuredIndex){const l=this.getSizeAndPositionOfLastMeasuredItem();let i=l.offset+l.size;for(let n=this.lastMeasuredIndex+1;n<=e;n++){const s=this.getSize(n);if(s==null||isNaN(s))throw Error(`Invalid size returned for index ${n} of value ${s}`);this.itemSizeAndPositionData[n]={offset:i,size:s},i+=s}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]}getSizeAndPositionOfLastMeasuredItem(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}}getTotalSize(){if(this.totalSize)return this.totalSize;const e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize}getUpdatedOffsetForIndex({align:e=gt.START,containerSize:l,currentOffset:i,targetIndex:n}){if(l<=0)return 0;const s=this.getSizeAndPositionForIndex(n),r=s.offset,f=r-l+s.size;let o;switch(e){case gt.END:o=f;break;case gt.CENTER:o=r-(l-s.size)/2;break;case gt.START:o=r;break;default:o=Math.max(f,Math.min(r,i))}const a=this.getTotalSize();return Math.max(0,Math.min(a-l,o))}getVisibleRange({containerSize:e=0,offset:l,overscanCount:i}){if(this.getTotalSize()===0)return{};const s=l+e;let r=this.findNearestItem(l);if(r===void 0)throw Error(`Invalid offset ${l} specified`);const f=this.getSizeAndPositionForIndex(r);l=f.offset+f.size;let o=r;for(;l<s&&o<this.itemCount-1;)o++,l+=this.getSizeAndPositionForIndex(o).size;return i&&(r=Math.max(0,r-i),o=Math.min(o+i,this.itemCount-1)),{start:r,stop:o}}resetItem(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)}findNearestItem(e){if(isNaN(e))throw Error(`Invalid offset ${e} specified`);e=Math.max(0,e);const l=this.getSizeAndPositionOfLastMeasuredItem(),i=Math.max(0,this.lastMeasuredIndex);return l.offset>=e?this.binarySearch({high:i,low:0,offset:e}):this.exponentialSearch({index:i,offset:e})}binarySearch({low:e,high:l,offset:i}){let n=0,s=0;for(;e<=l;){if(n=e+Math.floor((l-e)/2),s=this.getSizeAndPositionForIndex(n).offset,s===i)return n;s<i?e=n+1:s>i&&(l=n-1)}return e>0?e-1:0}exponentialSearch({index:e,offset:l}){let i=1;for(;e<this.itemCount&&this.getSizeAndPositionForIndex(e).offset<l;)e+=i,i*=2;return this.binarySearch({high:Math.min(e,this.itemCount-1),low:Math.floor(e/2),offset:l})}}const rs=t=>({}),Ut=t=>({});function Bt(t,e,l){const i=t.slice();return i[37]=e[l],i}const os=t=>({style:t[0]&4,index:t[0]&4}),Ft=t=>({style:t[37].style,index:t[37].index}),as=t=>({}),Ht=t=>({});function Kt(t,e){let l,i;const n=e[21].item,s=ut(n,e,e[20],Ft);return{key:t,first:null,c(){l=Se(),s&&s.c(),this.h()},l(r){l=Se(),s&&s.l(r),this.h()},h(){this.first=l},m(r,f){J(r,l,f),s&&s.m(r,f),i=!0},p(r,f){e=r,s&&s.p&&(!i||f[0]&1048580)&&ft(s,n,e,e[20],i?ht(n,e[20],f,os):ct(e[20]),Ft)},i(r){i||(K(s,r),i=!0)},o(r){Q(s,r),i=!1},d(r){r&&b(l),s&&s.d(r)}}}function us(t){let e,l,i,n=[],s=new Map,r,f;const o=t[21].header,a=ut(o,t,t[20],Ht);let d=t[2];const _=c=>c[0]?c[0](c[37].index):c[37].index;for(let c=0;c<d.length;c+=1){let u=Bt(t,d,c),m=_(u);s.set(m,n[c]=Kt(m,u))}const h=t[21].footer,g=ut(h,t,t[20],Ut);return{c(){e=E("div"),a&&a.c(),l=B(),i=E("div");for(let c=0;c<n.length;c+=1)n[c].c();r=B(),g&&g.c(),this.h()},l(c){e=T(c,"DIV",{class:!0,style:!0});var u=y(e);a&&a.l(u),l=F(u),i=T(u,"DIV",{class:!0,style:!0});var m=y(i);for(let w=0;w<n.length;w+=1)n[w].l(m);m.forEach(b),r=F(u),g&&g.l(u),u.forEach(b),this.h()},h(){k(i,"class","virtual-list-inner svelte-1d4hv8l"),k(i,"style",t[4]),k(e,"class","virtual-list-wrapper svelte-1d4hv8l"),k(e,"style",t[3])},m(c,u){J(c,e,u),a&&a.m(e,null),p(e,l),p(e,i);for(let m=0;m<n.length;m+=1)n[m].m(i,null);p(e,r),g&&g.m(e,null),t[22](e),f=!0},p(c,u){a&&a.p&&(!f||u[0]&1048576)&&ft(a,o,c,c[20],f?ht(o,c[20],u,as):ct(c[20]),Ht),u[0]&1048581&&(d=c[2],Ce(),n=Rl(n,u,_,1,c,d,s,i,Nl,Kt,null,Bt),Oe()),(!f||u[0]&16)&&k(i,"style",c[4]),g&&g.p&&(!f||u[0]&1048576)&&ft(g,h,c,c[20],f?ht(h,c[20],u,rs):ct(c[20]),Ut),(!f||u[0]&8)&&k(e,"style",c[3])},i(c){if(!f){K(a,c);for(let u=0;u<d.length;u+=1)K(n[u]);K(g,c),f=!0}},o(c){Q(a,c);for(let u=0;u<n.length;u+=1)Q(n[u]);Q(g,c),f=!1},d(c){c&&b(e),a&&a.d(c);for(let u=0;u<n.length;u+=1)n[u].d();g&&g.d(c),t[22](null)}}}const fs=(()=>{let t=!1;try{const e=Object.defineProperty({},"passive",{get(){return t={passive:!0},!0}});window.addEventListener("testpassive",e,e),window.remove("testpassive",e,e)}catch{}return t})();function cs(t,e,l){let{$$slots:i={},$$scope:n}=e,{height:s}=e,{width:r="100%"}=e,{itemCount:f}=e,{itemSize:o}=e,{estimatedItemSize:a=null}=e,{stickyIndices:d=null}=e,{getKey:_=null}=e,{scrollDirection:h=He.VERTICAL}=e,{scrollOffset:g=null}=e,{scrollToIndex:c=null}=e,{scrollToAlignment:u=null}=e,{scrollToBehaviour:m="instant"}=e,{overscanCount:w=3}=e;const I=Ml(),z=new ns({itemCount:f,itemSize:o,estimatedItemSize:U()});let D=!1,M,P=[],R={offset:g||c!=null&&P.length&&Ae(c)||0,scrollChangeReason:at.REQUESTED},N=R,V={scrollToIndex:c,scrollToAlignment:u,scrollOffset:g,itemCount:f,itemSize:o,estimatedItemSize:a},L={},H="",Y="";be(),_l(()=>{l(18,D=!0),M.addEventListener("scroll",ke,fs),g!=null?ue(g):c!=null&&ue(Ae(c))}),kt(()=>{D&&M.removeEventListener("scroll",ke)});function G(){if(!D)return;const C=V.scrollToIndex!==c||V.scrollToAlignment!==u,v=V.itemCount!==f||V.itemSize!==o||V.estimatedItemSize!==a;v&&(z.updateConfig({itemSize:o,itemCount:f,estimatedItemSize:U()}),Z()),V.scrollOffset!==g?l(19,R={offset:g||0,scrollChangeReason:at.REQUESTED}):typeof c=="number"&&(C||v)&&l(19,R={offset:Ae(c,u,f),scrollChangeReason:at.REQUESTED}),V={scrollToIndex:c,scrollToAlignment:u,scrollOffset:g,itemCount:f,itemSize:o,estimatedItemSize:a}}function ae(){if(!D)return;const{offset:C,scrollChangeReason:v}=R;(N.offset!==C||N.scrollChangeReason!==v)&&be(),N.offset!==C&&v===at.REQUESTED&&ue(C),N=R}function be(){const{offset:C}=R,{start:v,stop:ie}=z.getVisibleRange({containerSize:h===He.VERTICAL?s:r,offset:C,overscanCount:w});let le=[];const se=z.getTotalSize();h===He.VERTICAL?(l(3,H=`height:${s}px;width:${r};`),l(4,Y=`flex-direction:column;height:${se}px;`)):(l(3,H=`height:${s};width:${r}px`),l(4,Y=`min-height:100%;width:${se}px;`));const _e=d!=null&&d.length!==0;if(_e)for(let $=0;$<d.length;$++){const ge=d[$];le.push({index:ge,style:ne(ge,!0)})}if(v!==void 0&&ie!==void 0){for(let $=v;$<=ie;$++)_e&&d.includes($)||le.push({index:$,style:ne($,!1)});I("itemsUpdated",{start:v,end:ie})}l(2,P=le)}function ue(C){"scroll"in M?M.scroll({[is[h]]:C,behavior:m}):l(1,M[qt[h]]=C,M)}function Z(C=0){L={},z.resetItem(C),be()}function Ae(C,v=u,ie=f){return(C<0||C>=ie)&&(C=0),z.getUpdatedOffsetForIndex({align:v,containerSize:h===He.VERTICAL?s:r,currentOffset:R.offset||0,targetIndex:C})}function ke(C){const v=de();v<0||R.offset===v||C.target!==M||(l(19,R={offset:v,scrollChangeReason:at.OBSERVED}),I("afterScroll",{offset:v,event:C}))}function de(){return M[qt[h]]}function U(){return a||typeof o=="number"&&o||50}function ne(C,v){if(L[C])return L[C];const{size:ie,offset:le}=z.getSizeAndPositionForIndex(C);let se;return h===He.VERTICAL?(se=`left:0;width:100%;height:${ie}px;`,v?se+=`position:sticky;flex-grow:0;z-index:1;top:0;margin-top:${le}px;margin-bottom:${-(le+ie)}px;`:se+=`position:absolute;top:${le}px;`):(se=`top:0;width:${ie}px;`,v?se+=`position:sticky;z-index:1;left:0;margin-left:${le}px;margin-right:${-(le+ie)}px;`:se+=`position:absolute;height:100%;left:${le}px;`),L[C]=se}function re(C){xe[C?"unshift":"push"](()=>{M=C,l(1,M)})}return t.$$set=C=>{"height"in C&&l(5,s=C.height),"width"in C&&l(6,r=C.width),"itemCount"in C&&l(7,f=C.itemCount),"itemSize"in C&&l(8,o=C.itemSize),"estimatedItemSize"in C&&l(9,a=C.estimatedItemSize),"stickyIndices"in C&&l(10,d=C.stickyIndices),"getKey"in C&&l(0,_=C.getKey),"scrollDirection"in C&&l(11,h=C.scrollDirection),"scrollOffset"in C&&l(12,g=C.scrollOffset),"scrollToIndex"in C&&l(13,c=C.scrollToIndex),"scrollToAlignment"in C&&l(14,u=C.scrollToAlignment),"scrollToBehaviour"in C&&l(15,m=C.scrollToBehaviour),"overscanCount"in C&&l(16,w=C.overscanCount),"$$scope"in C&&l(20,n=C.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&29568&&G(),t.$$.dirty[0]&524288&&ae(),t.$$.dirty[0]&263264&&D&&Z(0)},[_,M,P,H,Y,s,r,f,o,a,d,h,g,c,u,m,w,Z,D,R,n,i,re]}class Il extends et{constructor(e){super(),tt(this,e,cs,us,lt,{height:5,width:6,itemCount:7,itemSize:8,estimatedItemSize:9,stickyIndices:10,getKey:0,scrollDirection:11,scrollOffset:12,scrollToIndex:13,scrollToAlignment:14,scrollToBehaviour:15,overscanCount:16,recomputeSizes:17},null,[-1,-1])}get recomputeSizes(){return this.$$.ctx[17]}}function Wt(t,e,l){const i=t.slice();return i[9]=e[l],i}function hs(t){let e,l,i;return l=new Il({props:{height:"auto",overscanCount:15,itemCount:t[0].raw.length,itemSize:t[0].raw.map(t[6]),$$slots:{item:[_s,({style:n,index:s})=>({12:n,13:s}),({style:n,index:s})=>(n?4096:0)|(s?8192:0)]},$$scope:{ctx:t}}}),{c(){e=E("div"),De(l.$$.fragment),this.h()},l(n){e=T(n,"DIV",{class:!0});var s=y(e);Ve(l.$$.fragment,s),s.forEach(b),this.h()},h(){k(e,"class","mt-4 flex flex-col overflow-auto")},m(n,s){J(n,e,s),Le(l,e,null),i=!0},p(n,s){const r={};s&1&&(r.itemCount=n[0].raw.length),s&1&&(r.itemSize=n[0].raw.map(n[6])),s&28699&&(r.$$scope={dirty:s,ctx:n}),l.$set(r)},i(n){i||(K(l.$$.fragment,n),i=!0)},o(n){Q(l.$$.fragment,n),i=!1},d(n){n&&b(e),Je(l)}}}function ds(t){let e,l,i=Object.keys(t[0].grouped).map(t[7]).sort(Xt).reverse(),n=[];for(let r=0;r<i.length;r+=1)n[r]=Gt(Wt(t,i,r));const s=r=>Q(n[r],1,1,()=>{n[r]=null});return{c(){e=E("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=T(r,"DIV",{class:!0});var f=y(e);for(let o=0;o<n.length;o+=1)n[o].l(f);f.forEach(b),this.h()},h(){k(e,"class","flex flex-col overflow-auto")},m(r,f){J(r,e,f);for(let o=0;o<n.length;o+=1)n[o].m(e,null);l=!0},p(r,f){if(f&12411){i=Object.keys(r[0].grouped).map(r[7]).sort(Xt).reverse();let o;for(o=0;o<i.length;o+=1){const a=Wt(r,i,o);n[o]?(n[o].p(a,f),K(n[o],1)):(n[o]=Gt(a),n[o].c(),K(n[o],1),n[o].m(e,null))}for(Ce(),o=i.length;o<n.length;o+=1)s(o);Oe()}},i(r){if(!l){for(let f=0;f<i.length;f+=1)K(n[f]);l=!0}},o(r){n=n.filter(Boolean);for(let f=0;f<n.length;f+=1)Q(n[f]);l=!1},d(r){r&&b(e),$e(n,r)}}}function _s(t){let e,l,i,n;return l=new kl({props:{set:t[0].raw[t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=E("div"),De(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{slot:!0,style:!0});var r=y(e);Ve(l.$$.fragment,r),r.forEach(b),this.h()},h(){k(e,"slot","item"),k(e,"style",i=t[12])},m(s,r){J(s,e,r),Le(l,e,null),n=!0},p(s,r){const f={};r&8193&&(f.set=s[0].raw[s[13]]),r&2&&(f.highlight=s[1]),r&8&&(f.jewel=s[3]),r&16&&(f.conqueror=s[4]),l.$set(f),(!n||r&4096&&i!==(i=s[12]))&&k(e,"style",i)},i(s){n||(K(l.$$.fragment,s),n=!0)},o(s){Q(l.$$.fragment,s),n=!1},d(s){s&&b(e),Je(l)}}}function Yt(t){let e,l,i,n;return l=new Il({props:{height:"auto",overscanCount:10,itemCount:t[0].grouped[t[9]].length,itemSize:t[0].grouped[t[9]].map(t[6]),$$slots:{item:[ms,({style:s,index:r})=>({12:s,13:r}),({style:s,index:r})=>(s?4096:0)|(r?8192:0)]},$$scope:{ctx:t}}}),{c(){e=E("div"),De(l.$$.fragment),i=B(),this.h()},l(s){e=T(s,"DIV",{class:!0});var r=y(e);Ve(l.$$.fragment,r),i=F(r),r.forEach(b),this.h()},h(){k(e,"class","flex flex-col overflow-auto min-h-[200px] mb-2")},m(s,r){J(s,e,r),Le(l,e,null),p(e,i),n=!0},p(s,r){const f={};r&1&&(f.itemCount=s[0].grouped[s[9]].length),r&1&&(f.itemSize=s[0].grouped[s[9]].map(s[6])),r&28699&&(f.$$scope={dirty:r,ctx:s}),l.$set(f)},i(s){n||(K(l.$$.fragment,s),n=!0)},o(s){Q(l.$$.fragment,s),n=!1},d(s){s&&b(e),Je(l)}}}function ms(t){let e,l,i,n;return l=new kl({props:{set:t[0].grouped[t[9]][t[13]],highlight:t[1],jewel:t[3],conqueror:t[4]}}),{c(){e=E("div"),De(l.$$.fragment),this.h()},l(s){e=T(s,"DIV",{slot:!0,style:!0});var r=y(e);Ve(l.$$.fragment,r),r.forEach(b),this.h()},h(){k(e,"slot","item"),k(e,"style",i=t[12])},m(s,r){J(s,e,r),Le(l,e,null),n=!0},p(s,r){const f={};r&8193&&(f.set=s[0].grouped[s[9]][s[13]]),r&2&&(f.highlight=s[1]),r&8&&(f.jewel=s[3]),r&16&&(f.conqueror=s[4]),l.$set(f),(!n||r&4096&&i!==(i=s[12]))&&k(e,"style",i)},i(s){n||(K(l.$$.fragment,s),n=!0)},o(s){Q(l.$$.fragment,s),n=!1},d(s){s&&b(e),Je(l)}}}function Gt(t){let e,l,i=t[9]+"",n,s,r=t[9]>1?"es":"",f,o,a=t[0].grouped[t[9]].length+"",d,_,h,g,c=t[5]===t[9]?"^":"V",u,m,w,I,z,D;function M(){return t[8](t[9])}let P=t[5]===t[9]&&Yt(t);return{c(){e=E("button"),l=E("span"),n=j(i),s=j(" Match"),f=j(r),o=j(" ["),d=j(a),_=j("]"),h=B(),g=E("span"),u=j(c),m=B(),P&&P.c(),w=Se(),this.h()},l(R){e=T(R,"BUTTON",{class:!0});var N=y(e);l=T(N,"SPAN",{});var V=y(l);n=q(V,i),s=q(V," Match"),f=q(V,r),o=q(V," ["),d=q(V,a),_=q(V,"]"),V.forEach(b),h=F(N),g=T(N,"SPAN",{});var L=y(g);u=q(L,c),L.forEach(b),N.forEach(b),m=F(R),P&&P.l(R),w=Se(),this.h()},h(){k(e,"class","text-lg w-full p-2 px-4 bg-neutral-500/30 rounded flex flex-row justify-between mb-2")},m(R,N){J(R,e,N),p(e,l),p(l,n),p(l,s),p(l,f),p(l,o),p(l,d),p(l,_),p(e,h),p(e,g),p(g,u),J(R,m,N),P&&P.m(R,N),J(R,w,N),I=!0,z||(D=O(e,"click",M),z=!0)},p(R,N){t=R,(!I||N&1)&&i!==(i=t[9]+"")&&Te(n,i),(!I||N&1)&&r!==(r=t[9]>1?"es":"")&&Te(f,r),(!I||N&1)&&a!==(a=t[0].grouped[t[9]].length+"")&&Te(d,a),(!I||N&33)&&c!==(c=t[5]===t[9]?"^":"V")&&Te(u,c),t[5]===t[9]?P?(P.p(t,N),N&33&&K(P,1)):(P=Yt(t),P.c(),K(P,1),P.m(w.parentNode,w)):P&&(Ce(),Q(P,1,1,()=>{P=null}),Oe())},i(R){I||(K(P),I=!0)},o(R){Q(P),I=!1},d(R){R&&b(e),R&&b(m),P&&P.d(R),R&&b(w),z=!1,D()}}}function gs(t){let e,l,i,n;const s=[ds,hs],r=[];function f(o,a){return o[2]?0:1}return e=f(t),l=r[e]=s[e](t),{c(){l.c(),i=Se()},l(o){l.l(o),i=Se()},m(o,a){r[e].m(o,a),J(o,i,a),n=!0},p(o,[a]){let d=e;e=f(o),e===d?r[e].p(o,a):(Ce(),Q(r[d],1,1,()=>{r[d]=null}),Oe(),l=r[e],l?l.p(o,a):(l=r[e]=s[e](o),l.c()),K(l,1),l.m(i.parentNode,i))},i(o){n||(K(l),n=!0)},o(o){Q(l),n=!1},d(o){r[e].d(o),o&&b(i)}}}const Xt=(t,e)=>t-e;function ps(t,e,l){let{searchResults:i}=e,{highlight:n}=e,{groupResults:s=!0}=e,{jewel:r}=e,{conqueror:f}=e;const o=h=>8+48+h.skills.reduce((g,c)=>g+32+Object.keys(c.stats).length*24,0);let a="";const d=h=>parseInt(h),_=h=>l(5,a=a===h?"":h);return t.$$set=h=>{"searchResults"in h&&l(0,i=h.searchResults),"highlight"in h&&l(1,n=h.highlight),"groupResults"in h&&l(2,s=h.groupResults),"jewel"in h&&l(3,r=h.jewel),"conqueror"in h&&l(4,f=h.conqueror)},[i,n,s,r,f,a,o,d,_]}class bs extends et{constructor(e){super(),tt(this,e,ps,gs,lt,{searchResults:0,highlight:1,groupResults:2,jewel:3,conqueror:4})}}const Qe={25:1,26:1,42:1,49:1,56:1,63:1,70:2,95:4,117:1,124:4,134:1,150:2,216:1,434:1,482:1,483:1,484:1,488:1,554:1,556:1,593:3,594:3,595:3,619:1,943:1,944:1,945:1,946:1,2133:4,3108:3,3109:4,3110:4,3111:4,5815:4,8835:1,9091:1,9772:1,14775:2,209:1,447:1,573:2,1294:1,1361:1,2031:5,8177:2,448:2,486:1,579:2,1404:1,2030:5,9090:1,9711:2,9712:2,9713:2,9714:2,9716:1,9717:1,9718:1,9721:1,9722:1,9723:1,9724:1,186:2,490:1,1251:3,1654:1,3392:1,6042:1,6048:1,6049:1,6050:1,6136:1,7499:2};const{window:vs}=gl;function Qt(t,e,l){const i=t.slice();return i[77]=e[l],i[78]=e,i[79]=l,i}function Zt(t,e,l){const i=t.slice();return i[70]=e[l],i}function xt(t,e,l){const i=t.slice();return i[70]=e[l],i}function $t(t,e,l){const i=t.slice();return i[70]=e[l],i}function ws(t){let e,l,i,n,s,r,f,o;return{c(){e=E("button"),l=E("div"),i=B(),n=E("div"),s=B(),r=E("div"),this.h()},l(a){e=T(a,"BUTTON",{class:!0});var d=y(e);l=T(d,"DIV",{}),y(l).forEach(b),i=F(d),n=T(d,"DIV",{}),y(n).forEach(b),s=F(d),r=T(d,"DIV",{}),y(r).forEach(b),d.forEach(b),this.h()},h(){k(e,"class","burger-menu absolute top-0 left-0 bg-black/80 backdrop-blur-sm rounded-br-lg p-4 pt-5")},m(a,d){J(a,e,d),p(e,l),p(e,i),p(e,n),p(e,s),p(e,r),f||(o=O(e,"click",t[65]),f=!0)},p:Ke,i:Ke,o:Ke,d(a){a&&b(e),f=!1,o()}}}function Ss(t){let e,l,i,n,s,r,f,o,a,d,_,h,g=t[13]?"Results":"Timeless Jewel",c,u,m,w,I,z,D,M=t[17]&&el(t),P=!t[13]&&ll(t),R=t[17]&&t[13]&&dl(t);return{c(){e=E("div"),l=E("div"),i=E("div"),n=E("div"),s=E("button"),r=E("div"),f=B(),o=E("div"),a=B(),d=E("div"),_=B(),h=E("h3"),c=j(g),u=B(),M&&M.c(),m=B(),P&&P.c(),w=B(),R&&R.c(),this.h()},l(N){e=T(N,"DIV",{class:!0});var V=y(e);l=T(V,"DIV",{class:!0});var L=y(l);i=T(L,"DIV",{class:!0});var H=y(i);n=T(H,"DIV",{class:!0});var Y=y(n);s=T(Y,"BUTTON",{class:!0});var G=y(s);r=T(G,"DIV",{}),y(r).forEach(b),f=F(G),o=T(G,"DIV",{}),y(o).forEach(b),a=F(G),d=T(G,"DIV",{}),y(d).forEach(b),G.forEach(b),_=F(Y),h=T(Y,"H3",{class:!0});var ae=y(h);c=q(ae,g),ae.forEach(b),Y.forEach(b),u=F(H),M&&M.l(H),H.forEach(b),m=F(L),P&&P.l(L),w=F(L),R&&R.l(L),L.forEach(b),V.forEach(b),this.h()},h(){k(s,"class","burger-menu mr-3"),k(h,"class","flex-grow"),k(n,"class","flex flex-row items-center"),k(i,"class","flex flex-row justify-between mb-2"),k(l,"class","p-4 max-h-screen flex flex-col"),k(e,"class","w-screen md:w-10/12 lg:w-2/3 xl:w-1/2 2xl:w-5/12 3xl:w-1/3 4xl:w-1/4 absolute top-0 left-0 bg-black/80 backdrop-blur-sm themed rounded-br-lg max-h-screen")},m(N,V){J(N,e,V),p(e,l),p(l,i),p(i,n),p(n,s),p(s,r),p(s,f),p(s,o),p(s,a),p(s,d),p(n,_),p(n,h),p(h,c),p(i,u),M&&M.m(i,null),p(l,m),P&&P.m(l,null),p(l,w),R&&R.m(l,null),I=!0,z||(D=O(s,"click",t[44]),z=!0)},p(N,V){(!I||V[0]&8192)&&g!==(g=N[13]?"Results":"Timeless Jewel")&&Te(c,g),N[17]?M?M.p(N,V):(M=el(N),M.c(),M.m(i,null)):M&&(M.d(1),M=null),N[13]?P&&(Ce(),Q(P,1,1,()=>{P=null}),Oe()):P?(P.p(N,V),V[0]&8192&&K(P,1)):(P=ll(N),P.c(),K(P,1),P.m(l,w)),N[17]&&N[13]?R?(R.p(N,V),V[0]&139264&&K(R,1)):(R=dl(N),R.c(),K(R,1),R.m(l,null)):R&&(Ce(),Q(R,1,1,()=>{R=null}),Oe())},i(N){I||(K(P),K(R),I=!0)},o(N){Q(P),Q(R),I=!1},d(N){N&&b(e),M&&M.d(),P&&P.d(),R&&R.d(),z=!1,D()}}}function el(t){let e,l,i,n=t[13]?"Config":"Results",s,r,f,o=t[13]&&tl(t);return{c(){e=E("div"),o&&o.c(),l=B(),i=E("button"),s=j(n),this.h()},l(a){e=T(a,"DIV",{class:!0});var d=y(e);o&&o.l(d),l=F(d),i=T(d,"BUTTON",{class:!0});var _=y(i);s=q(_,n),_.forEach(b),d.forEach(b),this.h()},h(){k(i,"class","bg-neutral-100/20 px-4 p-1 rounded"),k(e,"class","flex flex-row")},m(a,d){J(a,e,d),o&&o.m(e,null),p(e,l),p(e,i),p(i,s),r||(f=O(i,"click",t[47]),r=!0)},p(a,d){a[13]?o?o.p(a,d):(o=tl(a),o.c(),o.m(e,l)):o&&(o.d(1),o=null),d[0]&8192&&n!==(n=a[13]?"Config":"Results")&&Te(s,n)},d(a){a&&b(e),o&&o.d(),r=!1,f()}}}function tl(t){let e,l,i,n,s,r,f,o,a;return{c(){e=E("button"),l=j("Trade"),n=B(),s=E("button"),r=j("Grouped"),this.h()},l(d){e=T(d,"BUTTON",{class:!0});var _=y(e);l=q(_,"Trade"),_.forEach(b),n=F(d),s=T(d,"BUTTON",{class:!0});var h=y(s);r=q(h,"Grouped"),h.forEach(b),this.h()},h(){k(e,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2"),e.disabled=i=!t[17],k(s,"class","p-1 px-3 bg-blue-500/40 rounded disabled:bg-blue-900/40 mr-2 svelte-9h6fz6"),s.disabled=f=!t[17],pe(s,"grouped",t[5])},m(d,_){J(d,e,_),p(e,l),J(d,n,_),J(d,s,_),p(s,r),o||(a=[O(e,"click",t[45]),O(s,"click",t[46])],o=!0)},p(d,_){_[0]&131072&&i!==(i=!d[17])&&(e.disabled=i),_[0]&131072&&f!==(f=!d[17])&&(s.disabled=f),_[0]&32&&pe(s,"grouped",d[5])},d(d){d&&b(e),d&&b(n),d&&b(s),o=!1,We(a)}}}function ll(t){let e,l,i,n,s;function r(a){t[48](a)}let f={items:t[25]};t[0]!==void 0&&(f.value=t[0]),e=new bt({props:f}),xe.push(()=>It(e,"value",r)),e.$on("change",t[31]);let o=t[0]&&sl(t);return{c(){De(e.$$.fragment),i=B(),o&&o.c(),n=Se()},l(a){Ve(e.$$.fragment,a),i=F(a),o&&o.l(a),n=Se()},m(a,d){Le(e,a,d),J(a,i,d),o&&o.m(a,d),J(a,n,d),s=!0},p(a,d){const _={};!l&&d[0]&1&&(l=!0,_.value=a[0],Et(()=>l=!1)),e.$set(_),a[0]?o?(o.p(a,d),d[0]&1&&K(o,1)):(o=sl(a),o.c(),K(o,1),o.m(n.parentNode,n)):o&&(Ce(),Q(o,1,1,()=>{o=null}),Oe())},i(a){s||(K(e.$$.fragment,a),K(o),s=!0)},o(a){Q(e.$$.fragment,a),Q(o),s=!1},d(a){Je(e,a),a&&b(i),o&&o.d(a),a&&b(n)}}}function sl(t){let e,l,i,n,s,r,f,o=t[1]&&Object.keys(te.TimelessJewelConquerors[t[0].value]).indexOf(t[1].value)>=0,a,d;function _(c){t[49](c)}let h={items:t[24]};t[1]!==void 0&&(h.value=t[1]),s=new bt({props:h}),xe.push(()=>It(s,"value",_)),s.$on("change",t[26]);let g=o&&il(t);return{c(){e=E("div"),l=E("h3"),i=j("Conqueror"),n=B(),De(s.$$.fragment),f=B(),g&&g.c(),a=Se(),this.h()},l(c){e=T(c,"DIV",{class:!0});var u=y(e);l=T(u,"H3",{class:!0});var m=y(l);i=q(m,"Conqueror"),m.forEach(b),n=F(u),Ve(s.$$.fragment,u),u.forEach(b),f=F(c),g&&g.l(c),a=Se(),this.h()},h(){k(l,"class","mb-2"),k(e,"class","mt-4")},m(c,u){J(c,e,u),p(e,l),p(l,i),p(e,n),Le(s,e,null),J(c,f,u),g&&g.m(c,u),J(c,a,u),d=!0},p(c,u){const m={};u[0]&16777216&&(m.items=c[24]),!r&&u[0]&2&&(r=!0,m.value=c[1],Et(()=>r=!1)),s.$set(m),u[0]&3&&(o=c[1]&&Object.keys(te.TimelessJewelConquerors[c[0].value]).indexOf(c[1].value)>=0),o?g?(g.p(c,u),u[0]&3&&K(g,1)):(g=il(c),g.c(),K(g,1),g.m(a.parentNode,a)):g&&(Ce(),Q(g,1,1,()=>{g=null}),Oe())},i(c){d||(K(s.$$.fragment,c),K(g),d=!0)},o(c){Q(s.$$.fragment,c),Q(g),d=!1},d(c){c&&b(e),Je(s),c&&b(f),g&&g.d(c),c&&b(a)}}}function il(t){let e,l,i,n,s,r,f,o,a,d,_,h,g,c;const u=[Is,ks],m=[];function w(z,D){return z[10]==="seed"?0:z[10]==="stats"?1:-1}~(o=w(t))&&(a=m[o]=u[o](t));let I=!t[3]&&hl();return{c(){e=E("div"),l=E("button"),i=j("Enter Seed"),n=B(),s=E("button"),r=j("Select Stats"),f=B(),a&&a.c(),d=B(),I&&I.c(),_=Se(),this.h()},l(z){e=T(z,"DIV",{class:!0});var D=y(e);l=T(D,"BUTTON",{class:!0});var M=y(l);i=q(M,"Enter Seed"),M.forEach(b),n=F(D),s=T(D,"BUTTON",{class:!0});var P=y(s);r=q(P,"Select Stats"),P.forEach(b),D.forEach(b),f=F(z),a&&a.l(z),d=F(z),I&&I.l(z),_=Se(),this.h()},h(){k(l,"class","selection-button svelte-9h6fz6"),pe(l,"selected",t[10]==="seed"),k(s,"class","selection-button svelte-9h6fz6"),pe(s,"selected",t[10]==="stats"),k(e,"class","mt-4 w-full flex flex-row")},m(z,D){J(z,e,D),p(e,l),p(l,i),p(e,n),p(e,s),p(s,r),J(z,f,D),~o&&m[o].m(z,D),J(z,d,D),I&&I.m(z,D),J(z,_,D),h=!0,g||(c=[O(l,"click",t[50]),O(s,"click",t[51])],g=!0)},p(z,D){(!h||D[0]&1024)&&pe(l,"selected",z[10]==="seed"),(!h||D[0]&1024)&&pe(s,"selected",z[10]==="stats");let M=o;o=w(z),o===M?~o&&m[o].p(z,D):(a&&(Ce(),Q(m[M],1,1,()=>{m[M]=null}),Oe()),~o?(a=m[o],a?a.p(z,D):(a=m[o]=u[o](z),a.c()),K(a,1),a.m(d.parentNode,d)):a=null),z[3]?I&&(I.d(1),I=null):I||(I=hl(),I.c(),I.m(_.parentNode,_))},i(z){h||(K(a),h=!0)},o(z){Q(a),h=!1},d(z){z&&b(e),z&&b(f),~o&&m[o].d(z),z&&b(d),I&&I.d(z),z&&b(_),g=!1,We(c)}}}function ks(t){let e,l,i,n,s,r,f=Object.keys(t[4]).length>0,o,a,d={items:t[22]};s=new bt({props:d}),t[59](s),s.$on("change",t[29]);let _=f&&nl(t);return{c(){e=E("div"),l=E("h3"),i=j("Add Stat"),n=B(),De(s.$$.fragment),r=B(),_&&_.c(),o=Se(),this.h()},l(h){e=T(h,"DIV",{class:!0});var g=y(e);l=T(g,"H3",{class:!0});var c=y(l);i=q(c,"Add Stat"),c.forEach(b),n=F(g),Ve(s.$$.fragment,g),g.forEach(b),r=F(h),_&&_.l(h),o=Se(),this.h()},h(){k(l,"class","mb-2"),k(e,"class","mt-4")},m(h,g){J(h,e,g),p(e,l),p(l,i),p(e,n),Le(s,e,null),J(h,r,g),_&&_.m(h,g),J(h,o,g),a=!0},p(h,g){const c={};g[0]&4194304&&(c.items=h[22]),s.$set(c),g[0]&16&&(f=Object.keys(h[4]).length>0),f?_?_.p(h,g):(_=nl(h),_.c(),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i(h){a||(K(s.$$.fragment,h),a=!0)},o(h){Q(s.$$.fragment,h),a=!1},d(h){h&&b(e),t[59](null),Je(s),h&&b(r),_&&_.d(h),h&&b(o)}}}function Is(t){let e,l,i,n,s,r,f,o,a,d,_,h,g,c=(t[2]<te.TimelessJewelSeedRanges[t[0].value].Min||t[2]>te.TimelessJewelSeedRanges[t[0].value].Max)&&ol(t),u=t[2]>=te.TimelessJewelSeedRanges[t[0].value].Min&&t[2]<=te.TimelessJewelSeedRanges[t[0].value].Max&&al(t);return{c(){e=E("div"),l=E("h3"),i=j("Seed"),n=B(),s=E("input"),o=B(),c&&c.c(),a=B(),u&&u.c(),d=Se(),this.h()},l(m){e=T(m,"DIV",{class:!0});var w=y(e);l=T(w,"H3",{class:!0});var I=y(l);i=q(I,"Seed"),I.forEach(b),n=F(w),s=T(w,"INPUT",{type:!0,min:!0,max:!0}),o=F(w),c&&c.l(w),w.forEach(b),a=F(m),u&&u.l(m),d=Se(),this.h()},h(){k(l,"class","mb-2"),k(s,"type","number"),k(s,"min",r=te.TimelessJewelSeedRanges[t[0].value].Min),k(s,"max",f=te.TimelessJewelSeedRanges[t[0].value].Max),k(e,"class","mt-4")},m(m,w){J(m,e,w),p(e,l),p(l,i),p(e,n),p(e,s),Xe(s,t[2]),p(e,o),c&&c.m(e,null),J(m,a,w),u&&u.m(m,w),J(m,d,w),_=!0,h||(g=[O(s,"input",t[52]),O(s,"blur",t[26])],h=!0)},p(m,w){(!_||w[0]&1&&r!==(r=te.TimelessJewelSeedRanges[m[0].value].Min))&&k(s,"min",r),(!_||w[0]&1&&f!==(f=te.TimelessJewelSeedRanges[m[0].value].Max))&&k(s,"max",f),w[0]&4&&Ge(s.value)!==m[2]&&Xe(s,m[2]),m[2]<te.TimelessJewelSeedRanges[m[0].value].Min||m[2]>te.TimelessJewelSeedRanges[m[0].value].Max?c?c.p(m,w):(c=ol(m),c.c(),c.m(e,null)):c&&(c.d(1),c=null),m[2]>=te.TimelessJewelSeedRanges[m[0].value].Min&&m[2]<=te.TimelessJewelSeedRanges[m[0].value].Max?u?(u.p(m,w),w[0]&5&&K(u,1)):(u=al(m),u.c(),K(u,1),u.m(d.parentNode,d)):u&&(Ce(),Q(u,1,1,()=>{u=null}),Oe())},i(m){_||(K(u),_=!0)},o(m){Q(u),_=!1},d(m){m&&b(e),c&&c.d(),m&&b(a),u&&u.d(m),m&&b(d),h=!1,We(g)}}}function nl(t){let e,l,i,n,s,r,f,o,a,d,_,h,g,c,u,m,w,I,z,D,M,P,R,N,V,L,H,Y,G,ae,be,ue=Object.keys(t[4]),Z=[];for(let U=0;U<ue.length;U+=1)Z[U]=rl(Qt(t,ue,U));function Ae(U,ne){return U[15]?Ts:Es}let ke=Ae(t),de=ke(t);return{c(){e=E("div");for(let U=0;U<Z.length;U+=1)Z[U].c();l=B(),i=E("div"),n=E("div"),s=E("div"),r=j("Min Total Weight:"),f=B(),o=E("input"),a=B(),d=E("div"),_=E("div"),h=E("button"),g=j("Select All"),u=B(),m=E("button"),w=j("Notables"),z=B(),D=E("button"),M=j("Passives"),R=B(),N=E("button"),V=j("Deselect"),H=B(),Y=E("div"),G=E("button"),de.c(),this.h()},l(U){e=T(U,"DIV",{class:!0});var ne=y(e);for(let oe=0;oe<Z.length;oe+=1)Z[oe].l(ne);ne.forEach(b),l=F(U),i=T(U,"DIV",{class:!0});var re=y(i);n=T(re,"DIV",{class:!0});var C=y(n);s=T(C,"DIV",{class:!0});var v=y(s);r=q(v,"Min Total Weight:"),v.forEach(b),f=F(C),o=T(C,"INPUT",{type:!0,min:!0}),C.forEach(b),re.forEach(b),a=F(U),d=T(U,"DIV",{class:!0});var ie=y(d);_=T(ie,"DIV",{class:!0});var le=y(_);h=T(le,"BUTTON",{class:!0});var se=y(h);g=q(se,"Select All"),se.forEach(b),u=F(le),m=T(le,"BUTTON",{class:!0});var _e=y(m);w=q(_e,"Notables"),_e.forEach(b),z=F(le),D=T(le,"BUTTON",{class:!0});var $=y(D);M=q($,"Passives"),$.forEach(b),R=F(le),N=T(le,"BUTTON",{class:!0});var ge=y(N);V=q(ge,"Deselect"),ge.forEach(b),le.forEach(b),H=F(ie),Y=T(ie,"DIV",{class:!0});var me=y(Y);G=T(me,"BUTTON",{class:!0});var Re=y(G);de.l(Re),Re.forEach(b),me.forEach(b),ie.forEach(b),this.h()},h(){k(e,"class","mt-4 flex flex-col overflow-auto min-h-[100px]"),k(s,"class","mr-2 min-w-fit"),k(o,"type","number"),k(o,"min","0"),k(n,"class","flex flex-row items-center"),k(i,"class","flex flex-col mt-2"),k(h,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),h.disabled=c=t[15]||t[11].size==0,k(m,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),m.disabled=I=t[15]||t[11].size==0,k(D,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 mr-2"),D.disabled=P=t[15]||t[11].size==0,k(N,"class","p-2 px-2 bg-yellow-500/40 rounded disabled:bg-yellow-900/40 flex-grow"),N.disabled=L=t[15]||t[11].size>=t[9].length,k(_,"class","flex flex-row"),k(G,"class","p-2 px-3 bg-green-500/40 rounded disabled:bg-green-900/40 flex-grow"),G.disabled=t[15],k(Y,"class","flex flex-row mt-2"),k(d,"class","flex flex-col mt-4")},m(U,ne){J(U,e,ne);for(let re=0;re<Z.length;re+=1)Z[re].m(e,null);J(U,l,ne),J(U,i,ne),p(i,n),p(n,s),p(s,r),p(n,f),p(n,o),Xe(o,t[14]),J(U,a,ne),J(U,d,ne),p(d,_),p(_,h),p(h,g),p(_,u),p(_,m),p(m,w),p(_,z),p(_,D),p(D,M),p(_,R),p(_,N),p(N,V),p(d,H),p(d,Y),p(Y,G),de.m(G,null),ae||(be=[O(o,"input",t[63]),O(h,"click",t[34]),O(m,"click",t[35]),O(D,"click",t[36]),O(N,"click",t[37]),O(G,"click",t[64])],ae=!0)},p(U,ne){if(ne[0]&1073741840){ue=Object.keys(U[4]);let re;for(re=0;re<ue.length;re+=1){const C=Qt(U,ue,re);Z[re]?Z[re].p(C,ne):(Z[re]=rl(C),Z[re].c(),Z[re].m(e,null))}for(;re<Z.length;re+=1)Z[re].d(1);Z.length=ue.length}ne[0]&16384&&Ge(o.value)!==U[14]&&Xe(o,U[14]),ne[0]&34816&&c!==(c=U[15]||U[11].size==0)&&(h.disabled=c),ne[0]&34816&&I!==(I=U[15]||U[11].size==0)&&(m.disabled=I),ne[0]&34816&&P!==(P=U[15]||U[11].size==0)&&(D.disabled=P),ne[0]&35328&&L!==(L=U[15]||U[11].size>=U[9].length)&&(N.disabled=L),ke===(ke=Ae(U))&&de?de.p(U,ne):(de.d(1),de=ke(U),de&&(de.c(),de.m(G,null))),ne[0]&32768&&(G.disabled=U[15])},d(U){U&&b(e),$e(Z,U),U&&b(l),U&&b(i),U&&b(a),U&&b(d),de.d(),ae=!1,We(be)}}}function rl(t){let e,l,i,n,s,r,f=nt(t[4][t[77]].id)+"",o,a,d,_,h,g,c,u,m,w,I,z,D,M,P,R,N;function V(){return t[60](t[77])}function L(){t[61].call(u,t[77])}function H(){t[62].call(M,t[77])}return{c(){e=E("div"),l=E("div"),i=E("button"),n=j("-"),s=B(),r=E("span"),o=j(f),a=B(),d=E("div"),_=E("div"),h=E("div"),g=j("Min:"),c=B(),u=E("input"),m=B(),w=E("div"),I=E("div"),z=j("Weight:"),D=B(),M=E("input"),P=B(),this.h()},l(Y){e=T(Y,"DIV",{class:!0});var G=y(e);l=T(G,"DIV",{});var ae=y(l);i=T(ae,"BUTTON",{class:!0});var be=y(i);n=q(be,"-"),be.forEach(b),s=F(ae),r=T(ae,"SPAN",{});var ue=y(r);o=q(ue,f),ue.forEach(b),ae.forEach(b),a=F(G),d=T(G,"DIV",{class:!0});var Z=y(d);_=T(Z,"DIV",{class:!0});var Ae=y(_);h=T(Ae,"DIV",{class:!0});var ke=y(h);g=q(ke,"Min:"),ke.forEach(b),c=F(Ae),u=T(Ae,"INPUT",{type:!0,min:!0}),Ae.forEach(b),m=F(Z),w=T(Z,"DIV",{class:!0});var de=y(w);I=T(de,"DIV",{class:!0});var U=y(I);z=q(U,"Weight:"),U.forEach(b),D=F(de),M=T(de,"INPUT",{type:!0,min:!0}),de.forEach(b),Z.forEach(b),P=F(G),G.forEach(b),this.h()},h(){k(i,"class","p-2 px-4 bg-red-500/40 rounded mr-2"),k(h,"class","mr-2"),k(u,"type","number"),k(u,"min","0"),k(_,"class","mr-4 flex flex-row items-center"),k(I,"class","mr-2"),k(M,"type","number"),k(M,"min","0"),k(w,"class","flex flex-row items-center"),k(d,"class","mt-2 flex flex-row"),k(e,"class","mb-4 flex flex-row items-start flex-col border-neutral-100/40 border-b pb-4")},m(Y,G){J(Y,e,G),p(e,l),p(l,i),p(i,n),p(l,s),p(l,r),p(r,o),p(e,a),p(e,d),p(d,_),p(_,h),p(h,g),p(_,c),p(_,u),Xe(u,t[4][t[77]].min),p(d,m),p(d,w),p(w,I),p(I,z),p(w,D),p(w,M),Xe(M,t[4][t[77]].weight),p(e,P),R||(N=[O(i,"click",V),O(u,"input",L),O(M,"input",H)],R=!0)},p(Y,G){t=Y,G[0]&16&&f!==(f=nt(t[4][t[77]].id)+"")&&Te(o,f),G[0]&16&&Ge(u.value)!==t[4][t[77]].min&&Xe(u,t[4][t[77]].min),G[0]&16&&Ge(M.value)!==t[4][t[77]].weight&&Xe(M,t[4][t[77]].weight)},d(Y){Y&&b(e),R=!1,We(N)}}}function Es(t){let e;return{c(){e=j("Search")},l(l){e=q(l,"Search")},m(l,i){J(l,e,i)},p:Ke,d(l){l&&b(e)}}}function Ts(t){let e,l,i=te.TimelessJewelSeedRanges[t[0].value].Max+"",n;return{c(){e=j(t[16]),l=j(" / "),n=j(i)},l(s){e=q(s,t[16]),l=q(s," / "),n=q(s,i)},m(s,r){J(s,e,r),J(s,l,r),J(s,n,r)},p(s,r){r[0]&65536&&Te(e,s[16]),r[0]&1&&i!==(i=te.TimelessJewelSeedRanges[s[0].value].Max+"")&&Te(n,i)},d(s){s&&b(e),s&&b(l),s&&b(n)}}}function ol(t){let e,l,i=te.TimelessJewelSeedRanges[t[0].value].Min+"",n,s,r=te.TimelessJewelSeedRanges[t[0].value].Max+"",f;return{c(){e=E("div"),l=j("Seed must be between "),n=j(i),s=j(`
                      and `),f=j(r),this.h()},l(o){e=T(o,"DIV",{class:!0});var a=y(e);l=q(a,"Seed must be between "),n=q(a,i),s=q(a,`
                      and `),f=q(a,r),a.forEach(b),this.h()},h(){k(e,"class","mt-2")},m(o,a){J(o,e,a),p(e,l),p(e,n),p(e,s),p(e,f)},p(o,a){a[0]&1&&i!==(i=te.TimelessJewelSeedRanges[o[0].value].Min+"")&&Te(n,i),a[0]&1&&r!==(r=te.TimelessJewelSeedRanges[o[0].value].Max+"")&&Te(f,r)},d(o){o&&b(e)}}}function al(t){let e,l,i,n,s,r,f,o,a,d,_,h,g,c,u,m,w,I,z,D;function M(L){t[53](L)}let P={items:t[40]};t[6]!==void 0&&(P.value=t[6]),r=new bt({props:P}),xe.push(()=>It(r,"value",M));function R(L,H){return L[8]?As:ys}let N=R(t),V=N(t);return{c(){e=E("div"),l=E("div"),i=E("h3"),n=j("Sort Order"),s=B(),De(r.$$.fragment),o=B(),a=E("div"),d=E("button"),_=j("Colors"),h=B(),g=E("div"),c=E("button"),u=j("Split"),m=B(),V.c(),w=Se(),this.h()},l(L){e=T(L,"DIV",{class:!0});var H=y(e);l=T(H,"DIV",{class:!0});var Y=y(l);i=T(Y,"H3",{class:!0});var G=y(i);n=q(G,"Sort Order"),G.forEach(b),s=F(Y),Ve(r.$$.fragment,Y),Y.forEach(b),o=F(H),a=T(H,"DIV",{class:!0});var ae=y(a);d=T(ae,"BUTTON",{class:!0});var be=y(d);_=q(be,"Colors"),be.forEach(b),ae.forEach(b),h=F(H),g=T(H,"DIV",{class:!0});var ue=y(g);c=T(ue,"BUTTON",{class:!0});var Z=y(c);u=q(Z,"Split"),Z.forEach(b),ue.forEach(b),H.forEach(b),m=F(L),V.l(L),w=Se(),this.h()},h(){k(i,"class","mb-2"),k(l,"class","flex-grow"),k(d,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),pe(d,"selected",t[7]),k(a,"class","ml-2"),k(c,"class","bg-neutral-500/20 p-2 px-4 rounded svelte-9h6fz6"),pe(c,"selected",t[8]),k(g,"class","ml-2"),k(e,"class","flex flex-row mt-4 items-end")},m(L,H){J(L,e,H),p(e,l),p(l,i),p(i,n),p(l,s),Le(r,l,null),p(e,o),p(e,a),p(a,d),p(d,_),p(e,h),p(e,g),p(g,c),p(c,u),J(L,m,H),V.m(L,H),J(L,w,H),I=!0,z||(D=[O(d,"click",t[54]),O(c,"click",t[55])],z=!0)},p(L,H){const Y={};!f&&H[0]&64&&(f=!0,Y.value=L[6],Et(()=>f=!1)),r.$set(Y),(!I||H[0]&128)&&pe(d,"selected",L[7]),(!I||H[0]&256)&&pe(c,"selected",L[8]),N===(N=R(L))&&V?V.p(L,H):(V.d(1),V=N(L),V&&(V.c(),V.m(w.parentNode,w)))},i(L){I||(K(r.$$.fragment,L),I=!0)},o(L){Q(r.$$.fragment,L),I=!1},d(L){L&&b(e),Je(r),L&&b(m),V.d(L),L&&b(w),z=!1,We(D)}}}function As(t){let e,l,i,n,s,r,f,o,a,d,_=t[39](t[38](t[23],t[7],"notables"),t[6].value),h=[];for(let u=0;u<_.length;u+=1)h[u]=ul(xt(t,_,u));let g=t[39](t[38](t[23],t[7],"passives"),t[6].value),c=[];for(let u=0;u<g.length;u+=1)c[u]=fl(Zt(t,g,u));return{c(){e=E("div"),l=E("h3"),i=j("Notables"),n=B(),s=E("ul");for(let u=0;u<h.length;u+=1)h[u].c();r=B(),f=E("h3"),o=j("Smalls"),a=B(),d=E("ul");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=T(u,"DIV",{class:!0});var m=y(e);l=T(m,"H3",{});var w=y(l);i=q(w,"Notables"),w.forEach(b),n=F(m),s=T(m,"UL",{class:!0});var I=y(s);for(let M=0;M<h.length;M+=1)h[M].l(I);I.forEach(b),r=F(m),f=T(m,"H3",{class:!0});var z=y(f);o=q(z,"Smalls"),z.forEach(b),a=F(m),d=T(m,"UL",{class:!0});var D=y(d);for(let M=0;M<c.length;M+=1)c[M].l(D);D.forEach(b),m.forEach(b),this.h()},h(){k(s,"class","mt-1 svelte-9h6fz6"),pe(s,"rainbow",t[7]),k(f,"class","mt-2"),k(d,"class","mt-1 svelte-9h6fz6"),pe(d,"rainbow",t[7]),k(e,"class","overflow-auto mt-4")},m(u,m){J(u,e,m),p(e,l),p(l,i),p(e,n),p(e,s);for(let w=0;w<h.length;w+=1)h[w].m(s,null);p(e,r),p(e,f),p(f,o),p(e,a),p(e,d);for(let w=0;w<c.length;w+=1)c[w].m(d,null)},p(u,m){if(m[0]&8388804|m[1]&388){_=u[39](u[38](u[23],u[7],"notables"),u[6].value);let w;for(w=0;w<_.length;w+=1){const I=xt(u,_,w);h[w]?h[w].p(I,m):(h[w]=ul(I),h[w].c(),h[w].m(s,null))}for(;w<h.length;w+=1)h[w].d(1);h.length=_.length}if(m[0]&128&&pe(s,"rainbow",u[7]),m[0]&8388804|m[1]&388){g=u[39](u[38](u[23],u[7],"passives"),u[6].value);let w;for(w=0;w<g.length;w+=1){const I=Zt(u,g,w);c[w]?c[w].p(I,m):(c[w]=fl(I),c[w].c(),c[w].m(d,null))}for(;w<c.length;w+=1)c[w].d(1);c.length=g.length}m[0]&128&&pe(d,"rainbow",u[7])},d(u){u&&b(e),$e(h,u),$e(c,u)}}}function ys(t){let e,l=t[39](t[38](t[23],t[7],"all"),t[6].value),i=[];for(let n=0;n<l.length;n+=1)i[n]=cl($t(t,l,n));return{c(){e=E("ul");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=T(n,"UL",{class:!0});var s=y(e);for(let r=0;r<i.length;r+=1)i[r].l(s);s.forEach(b),this.h()},h(){k(e,"class","mt-4 overflow-auto svelte-9h6fz6"),pe(e,"rainbow",t[7])},m(n,s){J(n,e,s);for(let r=0;r<i.length;r+=1)i[r].m(e,null)},p(n,s){if(s[0]&8388804|s[1]&388){l=n[39](n[38](n[23],n[7],"all"),n[6].value);let r;for(r=0;r<l.length;r+=1){const f=$t(n,l,r);i[r]?i[r].p(f,s):(i[r]=cl(f),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=l.length}s[0]&128&&pe(e,"rainbow",n[7])},d(n){n&&b(e),$e(i,n)}}}function ul(t){let e,l,i,n=t[70].passives.length+"",s,r,f,o,a=t[70].stat+"",d,_,h;function g(){return t[57](t[70])}return{c(){e=E("li"),l=E("span"),i=j("("),s=j(n),r=j(")"),f=B(),o=E("span"),d=B(),this.h()},l(c){e=T(c,"LI",{class:!0});var u=y(e);l=T(u,"SPAN",{class:!0});var m=y(l);i=q(m,"("),s=q(m,n),r=q(m,")"),m.forEach(b),f=F(u),o=T(u,"SPAN",{class:!0});var w=y(o);w.forEach(b),d=F(u),u.forEach(b),this.h()},h(){k(l,"class","font-bold"),pe(l,"text-white",(Qe[t[70].id]||0)<3),k(o,"class","text-white"),k(e,"class","cursor-pointer")},m(c,u){J(c,e,u),p(e,l),p(l,i),p(l,s),p(l,r),p(e,f),p(e,o),o.innerHTML=a,p(e,d),_||(h=O(e,"click",g),_=!0)},p(c,u){t=c,u[0]&8388800&&n!==(n=t[70].passives.length+"")&&Te(s,n),u[0]&8388800|u[1]&384&&pe(l,"text-white",(Qe[t[70].id]||0)<3),u[0]&8388800&&a!==(a=t[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),_=!1,h()}}}function fl(t){let e,l,i,n=t[70].passives.length+"",s,r,f,o,a=t[70].stat+"",d,_,h;function g(){return t[58](t[70])}return{c(){e=E("li"),l=E("span"),i=j("("),s=j(n),r=j(")"),f=B(),o=E("span"),d=B(),this.h()},l(c){e=T(c,"LI",{class:!0});var u=y(e);l=T(u,"SPAN",{class:!0});var m=y(l);i=q(m,"("),s=q(m,n),r=q(m,")"),m.forEach(b),f=F(u),o=T(u,"SPAN",{class:!0});var w=y(o);w.forEach(b),d=F(u),u.forEach(b),this.h()},h(){k(l,"class","font-bold"),pe(l,"text-white",(Qe[t[70].id]||0)<3),k(o,"class","text-white"),k(e,"class","cursor-pointer")},m(c,u){J(c,e,u),p(e,l),p(l,i),p(l,s),p(l,r),p(e,f),p(e,o),o.innerHTML=a,p(e,d),_||(h=O(e,"click",g),_=!0)},p(c,u){t=c,u[0]&8388800&&n!==(n=t[70].passives.length+"")&&Te(s,n),u[0]&8388800|u[1]&384&&pe(l,"text-white",(Qe[t[70].id]||0)<3),u[0]&8388800&&a!==(a=t[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),_=!1,h()}}}function cl(t){let e,l,i,n=t[70].passives.length+"",s,r,f,o,a=t[70].stat+"",d,_,h;function g(){return t[56](t[70])}return{c(){e=E("li"),l=E("span"),i=j("("),s=j(n),r=j(")"),f=B(),o=E("span"),d=B(),this.h()},l(c){e=T(c,"LI",{class:!0});var u=y(e);l=T(u,"SPAN",{class:!0});var m=y(l);i=q(m,"("),s=q(m,n),r=q(m,")"),m.forEach(b),f=F(u),o=T(u,"SPAN",{class:!0});var w=y(o);w.forEach(b),d=F(u),u.forEach(b),this.h()},h(){k(l,"class","font-bold"),pe(l,"text-white",(Qe[t[70].id]||0)<3),k(o,"class","text-white"),k(e,"class","cursor-pointer")},m(c,u){J(c,e,u),p(e,l),p(l,i),p(l,s),p(l,r),p(e,f),p(e,o),o.innerHTML=a,p(e,d),_||(h=O(e,"click",g),_=!0)},p(c,u){t=c,u[0]&8388800&&n!==(n=t[70].passives.length+"")&&Te(s,n),u[0]&8388800|u[1]&384&&pe(l,"text-white",(Qe[t[70].id]||0)<3),u[0]&8388800&&a!==(a=t[70].stat+"")&&(o.innerHTML=a)},d(c){c&&b(e),_=!1,h()}}}function hl(t){let e,l;return{c(){e=E("h2"),l=j("Click on a jewel socket"),this.h()},l(i){e=T(i,"H2",{class:!0});var n=y(e);l=q(n,"Click on a jewel socket"),n.forEach(b),this.h()},h(){k(e,"class","mt-4")},m(i,n){J(i,e,n),p(e,l)},d(i){i&&b(e)}}}function dl(t){let e,l;return e=new bs({props:{searchResults:t[17],groupResults:t[5],highlight:t[33],jewel:t[18],conqueror:t[19]}}),{c(){De(e.$$.fragment)},l(i){Ve(e.$$.fragment,i)},m(i,n){Le(e,i,n),l=!0},p(i,n){const s={};n[0]&131072&&(s.searchResults=i[17]),n[0]&32&&(s.groupResults=i[5]),n[0]&262144&&(s.jewel=i[18]),n[0]&524288&&(s.conqueror=i[19]),e.$set(s)},i(i){l||(K(e.$$.fragment,i),l=!0)},o(i){Q(e.$$.fragment,i),l=!1},d(i){Je(e,i)}}}function zs(t){let e,l,i,n,s,r,f;const o=[Ss,ws],a=[];function d(_,h){return _[21]?1:0}return e=d(t),l=a[e]=o[e](t),{c(){l.c(),i=B(),n=E("div"),s=E("a"),r=j("Source (Github)"),this.h()},l(_){l.l(_),i=F(_),n=T(_,"DIV",{class:!0});var h=y(n);s=T(h,"A",{href:!0,target:!0,rel:!0});var g=y(s);r=q(g,"Source (Github)"),g.forEach(b),h.forEach(b),this.h()},h(){k(s,"href","https://github.com/Vilsol/timeless-jewels"),k(s,"target","_blank"),k(s,"rel","noopener"),k(n,"class","text-orange-500 absolute bottom-0 right-0 m-2")},m(_,h){a[e].m(_,h),J(_,i,h),J(_,n,h),p(n,s),p(s,r),f=!0},p(_,h){let g=e;e=d(_),e===g?a[e].p(_,h):(Ce(),Q(a[g],1,1,()=>{a[g]=null}),Oe(),l=a[e],l?l.p(_,h):(l=a[e]=o[e](_),l.c()),K(l,1),l.m(i.parentNode,i))},i(_){f||(K(l),f=!0)},o(_){Q(l),f=!1},d(_){a[e].d(_),_&&b(i),_&&b(n)}}}function Ps(t){var s,r;let e,l,i,n;return e=new ts({props:{clickNode:t[28],circledNode:t[3],selectedJewel:(s=t[0])==null?void 0:s.value,selectedConqueror:(r=t[1])==null?void 0:r.value,highlighted:t[20],seed:t[2],highlightJewels:!t[3],disabled:[...t[11]],$$slots:{default:[zs]},$$scope:{ctx:t}}}),{c(){De(e.$$.fragment)},l(f){Ve(e.$$.fragment,f)},m(f,o){Le(e,f,o),l=!0,i||(n=O(vs,"paste",t[41]),i=!0)},p(f,o){var d,_;const a={};o[0]&8&&(a.circledNode=f[3]),o[0]&1&&(a.selectedJewel=(d=f[0])==null?void 0:d.value),o[0]&2&&(a.selectedConqueror=(_=f[1])==null?void 0:_.value),o[0]&1048576&&(a.highlighted=f[20]),o[0]&4&&(a.seed=f[2]),o[0]&8&&(a.highlightJewels=!f[3]),o[0]&2048&&(a.disabled=[...f[11]]),o[0]&32505855|o[2]&262144&&(a.$$scope={dirty:o,ctx:f}),e.$set(a)},i(f){l||(K(e.$$.fragment,f),l=!0)},o(f){Q(e.$$.fragment,f),l=!1},d(f){Je(e,f),i=!1,n()}}}function Rs(t,e,l){let i,n,s,r,f,o;ml(t,Ul,A=>l(66,o=A));const a=o.url.searchParams,d=Object.keys(te.TimelessJewels).map(A=>({value:parseInt(A),label:te.TimelessJewels[A]}));let _=a.has("jewel")?d.find(A=>A.value==a.get("jewel")):void 0,h=a.has("conqueror")?{value:a.get("conqueror"),label:a.get("conqueror")}:void 0,g=a.has("seed")?parseInt(a.get("seed")):0,c=a.has("location")?parseInt(a.get("location")):void 0,u={};a.has("stat")&&a.getAll("stat").forEach(A=>{const ee=parseInt(A);l(4,u[ee]={weight:1,min:0,id:ee},u)});let m=a.has("mode")?a.get("mode"):"";const w=()=>{const A=new URL(window.location.origin+window.location.pathname);_&&A.searchParams.append("jewel",_.value.toString()),h&&A.searchParams.append("conqueror",h.value),g&&A.searchParams.append("seed",g.toString()),c&&A.searchParams.append("location",c.toString()),m&&A.searchParams.append("mode",m),Object.keys(u).forEach(ee=>{A.searchParams.append("stat",ee.toString())}),ql(A.toString())},I=A=>{l(10,m=A),w()};let z=new Set;const D=A=>{A.isJewelSocket?(l(3,c=A.skill),w()):A.isMastery||(z.has(A.skill)?z.delete(A.skill):z.add(A.skill),l(11,z))},M=JSON.parse(te.PossibleStats);let P;const R=A=>{l(4,u[A.detail.value]={weight:1,min:0,id:A.detail.value},u),l(4,u),P.handleClear(),w()},N=A=>{delete u[A],l(4,u),w()},V=()=>{l(4,u={}),w()};let L=!1,H=0,Y=!1,G=0,ae,be=1,ue="";const Z=()=>{if(!c)return;l(18,be=_.value),l(19,ue=h.value),l(15,Y=!0),l(17,ae=void 0);const A={jewel:_.value,conqueror:h.value,nodes:n.filter(ee=>!z.has(ee.skill)).map(ee=>te.TreeToPassive[ee.skill]).filter(ee=>!!ee).map(ee=>ee.Index),stats:Object.keys(u).map(ee=>u[ee]),minTotalWeight:H};Jl.search(A,jl(ee=>l(16,G=ee))).then(ee=>{l(17,ae=ee),l(15,Y=!1),l(13,L=!0)})};let Ae=[];const ke=(A,ee)=>{l(2,g=A),l(20,Ae=ee),w()},de=()=>{z.clear(),l(11,z)},U=()=>{n.forEach(A=>{A.isNotable&&z.delete(A.skill)}),l(11,z)},ne=()=>{n.forEach(A=>{A.isNotable||z.delete(A.skill)}),l(11,z)},re=()=>{n.filter(A=>!A.isJewelSocket&&!A.isMastery).forEach(A=>z.add(A.skill)),l(11,z)};let C=localStorage.getItem("groupResults")===null?!0:localStorage.getItem("groupResults")==="true";const v={physical:"#c79d93",cast:"#b3f8fe",fire:"#ff9a77",cold:"#93d8ff",lightning:"#f8cb76",attack:"#da814d",life:"#c96e6e",chaos:"#d8a7d3",unique:"#af6025",critical:"#b2a7d6"},ie=A=>(Object.keys(v).forEach(ee=>{const we=v[ee];A=A.replace(new RegExp(`(${ee}(?:$|\\s))|((?:^|\\s)${ee})`,"gi"),`<span style='color: ${we}; font-weight: bold'>$1$2</span>`)}),A),le=(A,ee,we)=>{const Ee={};return A.forEach(ve=>{Ue.nodes[ve.node].isKeystone||we!=="all"&&(we==="notables"&&!Ue.nodes[ve.node].isNotable||we==="passives"&&Ue.nodes[ve.node].isNotable)||(ve.result.AlternatePassiveSkill&&ve.result.AlternatePassiveSkill.StatsKeys&&ve.result.AlternatePassiveSkill.StatsKeys.forEach(ye=>{Ee[ye]=[...Ee[ye]||[],ve.node]}),ve.result.AlternatePassiveAdditionInformations&&ve.result.AlternatePassiveAdditionInformations.forEach(ye=>{ye.AlternatePassiveAddition.StatsKeys&&ye.AlternatePassiveAddition.StatsKeys.forEach(Fe=>{Ee[Fe]=[...Ee[Fe]||[],ve.node]})}))}),Object.keys(Ee).map(ve=>{const ye=nt(parseInt(ve));return{stat:ee?ie(ye):ye,rawStat:ye,id:ve,passives:Ee[ve]}})},se=(A,ee)=>{switch(ee){case"alphabet":return A.sort((we,Ee)=>we.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase().localeCompare(Ee.rawStat.replace(/[#+%]/gi,"").trim().toLowerCase()));case"count":return A.sort((we,Ee)=>Ee.passives.length-we.passives.length);case"rarity":return A.sort((we,Ee)=>M[_.value][we.id]-M[_.value][Ee.id]);case"value":return A.sort((we,Ee)=>{const ve=Qe[we.id]||0,ye=Qe[Ee.id]||0;return ve!=ye?ye-ve:M[_.value][we.id]-M[_.value][Ee.id]})}return A},_e=[{label:"Count",value:"count"},{label:"Alphabetical",value:"alphabet"},{label:"Rarity",value:"rarity"},{label:"Value",value:"value"}];let $=_e.find(A=>A.value===(localStorage.getItem("sortOrder")||"count")),ge=localStorage.getItem("colored")===null?!0:localStorage.getItem("colored")==="true",me=localStorage.getItem("split")===null?!0:localStorage.getItem("split")==="true";const Re=A=>{if(A.type!=="paste")return;const we=(A.clipboardData||window.clipboardData).getData("text").split(`
`);if(we.length<14)return;const Ee=d.find(Fe=>Fe.label===we[2]);if(!Ee)return;let ve,ye;for(let Fe=10;Fe<we.length;Fe++)if(ye=Object.keys(te.TimelessJewelConquerors[Ee.value]).find(_t=>we[Fe].indexOf(_t)>=0),ye){const _t=/(\d+)/.exec(we[Fe]);if(_t.length===0)continue;ve=parseInt(_t[1]);break}!ye||!ve||(l(13,L=!1),l(10,m="seed"),l(2,g=ve),l(0,_=Ee),l(1,h={label:ye,value:ye}),w())};let oe=!1;const X=()=>l(21,oe=!0),x=()=>pl(be,ue,ae.raw),fe=()=>l(5,C=!C),ce=()=>l(13,L=!L);function je(A){_=A,l(0,_)}function Me(A){h=A,l(1,h)}const Be=()=>I("seed"),he=()=>I("stats");function Ie(){g=Ge(this.value),l(2,g)}function qe(A){$=A,l(6,$)}const Ne=()=>l(7,ge=!ge),ze=()=>l(8,me=!me),Pe=A=>ke(g,A.passives),st=A=>ke(g,A.passives),rt=A=>ke(g,A.passives);function ot(A){xe[A?"unshift":"push"](()=>{P=A,l(12,P)})}const it=A=>N(u[A].id);function S(A){u[A].min=Ge(this.value),l(4,u)}function vt(A){u[A].weight=Ge(this.value),l(4,u)}function dt(){H=Ge(this.value),l(14,H)}const El=()=>Z(),Tl=()=>l(21,oe=!1);return t.$$.update=()=>{t.$$.dirty[0]&1&&l(24,i=_?Object.keys(te.TimelessJewelConquerors[_.value]).map(A=>({value:A,label:A})):[]),t.$$.dirty[0]&8&&l(9,n=c?Ll(Ue.nodes[c]).filter(A=>!A.isJewelSocket&&!A.isMastery):[]),t.$$.dirty[0]&519&&l(23,s=!g||!_||!h||Object.keys(te.TimelessJewelConquerors[_.value]).indexOf(h.value)<0?[]:n.filter(A=>!!te.TreeToPassive[A.skill]).map(A=>({node:A.skill,result:bl.Calculate(te.TreeToPassive[A.skill].Index,g,_.value,h.value)}))),t.$$.dirty[0]&1&&l(43,r=_?Object.keys(M[_.value]):[]),t.$$.dirty[0]&16|t.$$.dirty[1]&4096&&l(22,f=r.map(A=>{const ee=parseInt(A);return{label:nt(ee),value:ee}}).filter(A=>!(A.value in u))),t.$$.dirty[0]&32&&localStorage.setItem("groupResults",C?"true":"false"),t.$$.dirty[0]&64&&localStorage.setItem("sortOrder",$.value),t.$$.dirty[0]&128&&localStorage.setItem("colored",ge?"true":"false"),t.$$.dirty[0]&256&&localStorage.setItem("split",me?"true":"false")},[_,h,g,c,u,C,$,ge,me,n,m,z,P,L,H,Y,G,ae,be,ue,Ae,oe,f,s,i,d,w,I,D,R,N,V,Z,ke,de,U,ne,re,le,se,_e,Re,v,r,X,x,fe,ce,je,Me,Be,he,Ie,qe,Ne,ze,Pe,st,rt,ot,it,S,vt,dt,El,Tl]}class Js extends et{constructor(e){super(),tt(this,e,Rs,Ps,lt,{colorKeys:42},null,[-1,-1,-1])}get colorKeys(){return this.$$.ctx[42]}}export{Js as default};
