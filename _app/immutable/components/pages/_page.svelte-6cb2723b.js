import{S as Te,i as je,s as $e,N as K,O as Q,k as I,q as S,a as D,w as z,l as P,m as E,r as g,h as p,c as J,x as F,n as A,b as T,L as d,y as W,P as X,f as C,t as U,d as Ie,z as Y,M as De,e as N,g as Pe,Q as oe,R as fe,T as Ee,E as Je,u as q,U as Z,V as Oe}from"../../chunks/paths-9eb3c566.js";import{S as x,g as Ve}from"../../chunks/navigation-9e6cedbc.js";import{p as qe}from"../../chunks/stores-139c5fee.js";import{d as $,c as Me}from"../../chunks/index-f119c485.js";function re(n,e,i){const l=n.slice();return l[15]=e[i],l}function ue(n,e,i){const l=n.slice();l[18]=e[i],l[21]=i;const a=$.GetStatByIndex(l[15].AlternatePassiveAddition.StatsKeys[l[21]]);return l[19]=a,l}function ce(n,e,i){const l=n.slice();l[18]=e[i],l[21]=i;const a=$.GetStatByIndex(l[4].AlternatePassiveSkill.StatsKeys[l[21]]);return l[19]=a,l}function _e(n){let e,i,l,a,s,t,f,r=n[1]&&Object.keys($.TimelessJewelConquerors[n[0].value]).indexOf(n[1].value)>=0,v,c;function h(u){n[10](u)}let m={items:n[5]};n[1]!==void 0&&(m.value=n[1]),s=new x({props:m}),K.push(()=>Q(s,"value",h)),s.$on("select",n[8]);let o=r&&he(n);return{c(){e=I("div"),i=I("h3"),l=S("Conqueror"),a=D(),z(s.$$.fragment),f=D(),o&&o.c(),v=N(),this.h()},l(u){e=P(u,"DIV",{class:!0});var _=E(e);i=P(_,"H3",{class:!0});var k=E(i);l=g(k,"Conqueror"),k.forEach(p),a=J(_),F(s.$$.fragment,_),_.forEach(p),f=J(u),o&&o.l(u),v=N(),this.h()},h(){A(i,"class","mb-2"),A(e,"class","mt-4")},m(u,_){T(u,e,_),d(e,i),d(i,l),d(e,a),W(s,e,null),T(u,f,_),o&&o.m(u,_),T(u,v,_),c=!0},p(u,_){const k={};_&32&&(k.items=u[5]),!t&&_&2&&(t=!0,k.value=u[1],X(()=>t=!1)),s.$set(k),_&3&&(r=u[1]&&Object.keys($.TimelessJewelConquerors[u[0].value]).indexOf(u[1].value)>=0),r?o?(o.p(u,_),_&3&&C(o,1)):(o=he(u),o.c(),C(o,1),o.m(v.parentNode,v)):o&&(Pe(),U(o,1,1,()=>{o=null}),Ie())},i(u){c||(C(s.$$.fragment,u),C(o),c=!0)},o(u){U(s.$$.fragment,u),U(o),c=!1},d(u){u&&p(e),Y(s),u&&p(f),o&&o.d(u),u&&p(v)}}}function he(n){let e,i,l,a,s,t,f,r,v;function c(o){n[11](o)}let h={items:n[7]};n[2]!==void 0&&(h.value=n[2]),s=new x({props:h}),K.push(()=>Q(s,"value",c)),s.$on("select",n[8]);let m=n[2]&&ve(n);return{c(){e=I("div"),i=I("h3"),l=S("Passive Skill"),a=D(),z(s.$$.fragment),f=D(),m&&m.c(),r=N(),this.h()},l(o){e=P(o,"DIV",{class:!0});var u=E(e);i=P(u,"H3",{class:!0});var _=E(i);l=g(_,"Passive Skill"),_.forEach(p),a=J(u),F(s.$$.fragment,u),u.forEach(p),f=J(o),m&&m.l(o),r=N(),this.h()},h(){A(i,"class","mb-2"),A(e,"class","mt-4")},m(o,u){T(o,e,u),d(e,i),d(i,l),d(e,a),W(s,e,null),T(o,f,u),m&&m.m(o,u),T(o,r,u),v=!0},p(o,u){const _={};!t&&u&4&&(t=!0,_.value=o[2],X(()=>t=!1)),s.$set(_),o[2]?m?m.p(o,u):(m=ve(o),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null)},i(o){v||(C(s.$$.fragment,o),v=!0)},o(o){U(s.$$.fragment,o),v=!1},d(o){o&&p(e),Y(s),o&&p(f),m&&m.d(o),o&&p(r)}}}function ve(n){let e,i,l,a,s,t,f,r,v,c,h,m,o=(n[3]<$.TimelessJewelSeedRanges[n[0].value].Min||n[3]>$.TimelessJewelSeedRanges[n[0].value].Max)&&de(n),u=n[4]&&me(n);return{c(){e=I("div"),i=I("h3"),l=S("Seed"),a=D(),s=I("input"),r=D(),o&&o.c(),v=D(),u&&u.c(),c=N(),this.h()},l(_){e=P(_,"DIV",{class:!0});var k=E(e);i=P(k,"H3",{class:!0});var V=E(i);l=g(V,"Seed"),V.forEach(p),a=J(k),s=P(k,"INPUT",{type:!0,class:!0,min:!0,max:!0}),r=J(k),o&&o.l(k),k.forEach(p),v=J(_),u&&u.l(_),c=N(),this.h()},h(){A(i,"class","mb-2"),A(s,"type","number"),A(s,"class","seed"),A(s,"min",t=$.TimelessJewelSeedRanges[n[0].value].Min),A(s,"max",f=$.TimelessJewelSeedRanges[n[0].value].Max),A(e,"class","mt-4")},m(_,k){T(_,e,k),d(e,i),d(i,l),d(e,a),d(e,s),oe(s,n[3]),d(e,r),o&&o.m(e,null),T(_,v,k),u&&u.m(_,k),T(_,c,k),h||(m=[fe(s,"input",n[12]),fe(s,"blur",n[8])],h=!0)},p(_,k){k&1&&t!==(t=$.TimelessJewelSeedRanges[_[0].value].Min)&&A(s,"min",t),k&1&&f!==(f=$.TimelessJewelSeedRanges[_[0].value].Max)&&A(s,"max",f),k&8&&Ee(s.value)!==_[3]&&oe(s,_[3]),_[3]<$.TimelessJewelSeedRanges[_[0].value].Min||_[3]>$.TimelessJewelSeedRanges[_[0].value].Max?o?o.p(_,k):(o=de(_),o.c(),o.m(e,null)):o&&(o.d(1),o=null),_[4]?u?u.p(_,k):(u=me(_),u.c(),u.m(c.parentNode,c)):u&&(u.d(1),u=null)},d(_){_&&p(e),o&&o.d(),_&&p(v),u&&u.d(_),_&&p(c),h=!1,Je(m)}}}function de(n){let e,i,l=$.TimelessJewelSeedRanges[n[0].value].Min+"",a,s,t=$.TimelessJewelSeedRanges[n[0].value].Max+"",f;return{c(){e=I("div"),i=S("Seed must be between "),a=S(l),s=S(" and "),f=S(t),this.h()},l(r){e=P(r,"DIV",{class:!0});var v=E(e);i=g(v,"Seed must be between "),a=g(v,l),s=g(v," and "),f=g(v,t),v.forEach(p),this.h()},h(){A(e,"class","mt-2")},m(r,v){T(r,e,v),d(e,i),d(e,a),d(e,s),d(e,f)},p(r,v){v&1&&l!==(l=$.TimelessJewelSeedRanges[r[0].value].Min+"")&&q(a,l),v&1&&t!==(t=$.TimelessJewelSeedRanges[r[0].value].Max+"")&&q(f,t)},d(r){r&&p(e)}}}function me(n){var s;let e,i,l=n[4].AlternatePassiveSkill&&pe(n),a="AlternatePassiveAdditionInformations"in n[4]&&((s=n[4].AlternatePassiveAdditionInformations)==null?void 0:s.length)>0&&Se(n);return{c(){l&&l.c(),e=D(),a&&a.c(),i=N()},l(t){l&&l.l(t),e=J(t),a&&a.l(t),i=N()},m(t,f){l&&l.m(t,f),T(t,e,f),a&&a.m(t,f),T(t,i,f)},p(t,f){var r;t[4].AlternatePassiveSkill?l?l.p(t,f):(l=pe(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),"AlternatePassiveAdditionInformations"in t[4]&&((r=t[4].AlternatePassiveAdditionInformations)==null?void 0:r.length)>0?a?a.p(t,f):(a=Se(t),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(t){l&&l.d(t),t&&p(e),a&&a.d(t),t&&p(i)}}}function pe(n){let e,i,l,a,s,t=n[4].AlternatePassiveSkill.Name+"",f,r,v=n[4].AlternatePassiveSkill.ID+"",c,h,m=n[4].AlternatePassiveSkill+"",o,u,_,k=n[4].StatRolls&&Object.keys(n[4].StatRolls).length>0,V,b=k&&be(n);return{c(){e=I("div"),i=I("h3"),l=S("Alternate Passive Skill"),a=D(),s=I("span"),f=S(t),r=S(" ("),c=S(v),h=S(") ("),o=S(m),u=S(")"),_=D(),b&&b.c(),V=N(),this.h()},l(w){e=P(w,"DIV",{class:!0});var R=E(e);i=P(R,"H3",{});var y=E(i);l=g(y,"Alternate Passive Skill"),y.forEach(p),a=J(R),s=P(R,"SPAN",{});var M=E(s);f=g(M,t),r=g(M," ("),c=g(M,v),h=g(M,") ("),o=g(M,m),u=g(M,")"),M.forEach(p),R.forEach(p),_=J(w),b&&b.l(w),V=N(),this.h()},h(){A(e,"class","mt-4")},m(w,R){T(w,e,R),d(e,i),d(i,l),d(e,a),d(e,s),d(s,f),d(s,r),d(s,c),d(s,h),d(s,o),d(s,u),T(w,_,R),b&&b.m(w,R),T(w,V,R)},p(w,R){R&16&&t!==(t=w[4].AlternatePassiveSkill.Name+"")&&q(f,t),R&16&&v!==(v=w[4].AlternatePassiveSkill.ID+"")&&q(c,v),R&16&&m!==(m=w[4].AlternatePassiveSkill+"")&&q(o,m),R&16&&(k=w[4].StatRolls&&Object.keys(w[4].StatRolls).length>0),k?b?b.p(w,R):(b=be(w),b.c(),b.m(V.parentNode,V)):b&&(b.d(1),b=null)},d(w){w&&p(e),w&&p(_),b&&b.d(w),w&&p(V)}}}function be(n){let e,i=Object.keys(n[4].StatRolls),l=[];for(let a=0;a<i.length;a+=1)l[a]=ke(ce(n,i,a));return{c(){e=I("ol");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=P(a,"OL",{class:!0});var s=E(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(p),this.h()},h(){A(e,"class","mt-4 list-decimal pl-8")},m(a,s){T(a,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(a,s){if(s&16){i=Object.keys(a[4].StatRolls);let t;for(t=0;t<i.length;t+=1){const f=ce(a,i,t);l[t]?l[t].p(f,s):(l[t]=ke(f),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=i.length}},d(a){a&&p(e),Z(l,a)}}}function ke(n){let e,i=(n[19].Text||"<no name>")+"",l,a,s=n[19].ID+"",t,f,r=n[4].StatRolls[n[18]]+"",v;return{c(){e=I("li"),l=S(i),a=S(" ("),t=S(s),f=S(") - "),v=S(r)},l(c){e=P(c,"LI",{});var h=E(e);l=g(h,i),a=g(h," ("),t=g(h,s),f=g(h,") - "),v=g(h,r),h.forEach(p)},m(c,h){T(c,e,h),d(e,l),d(e,a),d(e,t),d(e,f),d(e,v)},p(c,h){h&16&&i!==(i=(c[19].Text||"<no name>")+"")&&q(l,i),h&16&&s!==(s=c[19].ID+"")&&q(t,s),h&16&&r!==(r=c[4].StatRolls[c[18]]+"")&&q(v,r)},d(c){c&&p(e)}}}function Se(n){let e,i,l,a,s,t=n[4].AlternatePassiveAdditionInformations,f=[];for(let r=0;r<t.length;r+=1)f[r]=Ae(re(n,t,r));return{c(){e=I("div"),i=I("h3"),l=S("Additions"),a=D(),s=I("ul");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){e=P(r,"DIV",{class:!0});var v=E(e);i=P(v,"H3",{});var c=E(i);l=g(c,"Additions"),c.forEach(p),a=J(v),s=P(v,"UL",{class:!0});var h=E(s);for(let m=0;m<f.length;m+=1)f[m].l(h);h.forEach(p),v.forEach(p),this.h()},h(){A(s,"class","list-disc pl-8"),A(e,"class","mt-4")},m(r,v){T(r,e,v),d(e,i),d(i,l),d(e,a),d(e,s);for(let c=0;c<f.length;c+=1)f[c].m(s,null)},p(r,v){if(v&16){t=r[4].AlternatePassiveAdditionInformations;let c;for(c=0;c<t.length;c+=1){const h=re(r,t,c);f[c]?f[c].p(h,v):(f[c]=Ae(h),f[c].c(),f[c].m(s,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=t.length}},d(r){r&&p(e),Z(f,r)}}}function ge(n){let e,i=Object.keys(n[15].StatRolls),l=[];for(let a=0;a<i.length;a+=1)l[a]=we(ue(n,i,a));return{c(){e=I("ol");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=P(a,"OL",{class:!0});var s=E(e);for(let t=0;t<l.length;t+=1)l[t].l(s);s.forEach(p),this.h()},h(){A(e,"class","list-decimal pl-8")},m(a,s){T(a,e,s);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(a,s){if(s&16){i=Object.keys(a[15].StatRolls);let t;for(t=0;t<i.length;t+=1){const f=ue(a,i,t);l[t]?l[t].p(f,s):(l[t]=we(f),l[t].c(),l[t].m(e,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=i.length}},d(a){a&&p(e),Z(l,a)}}}function we(n){let e,i=(n[19].Text||"<no name>")+"",l,a,s=n[19].ID+"",t,f,r=n[15].StatRolls[n[18]]+"",v;return{c(){e=I("li"),l=S(i),a=S(" ("),t=S(s),f=S(") - "),v=S(r)},l(c){e=P(c,"LI",{});var h=E(e);l=g(h,i),a=g(h," ("),t=g(h,s),f=g(h,") - "),v=g(h,r),h.forEach(p)},m(c,h){T(c,e,h),d(e,l),d(e,a),d(e,t),d(e,f),d(e,v)},p(c,h){h&16&&i!==(i=(c[19].Text||"<no name>")+"")&&q(l,i),h&16&&s!==(s=c[19].ID+"")&&q(t,s),h&16&&r!==(r=c[15].StatRolls[c[18]]+"")&&q(v,r)},d(c){c&&p(e)}}}function Ae(n){let e,i,l=n[15].AlternatePassiveAddition.ID+"",a,s,t=n[15].AlternatePassiveAddition.Index+"",f,r,v,c=n[15].StatRolls&&Object.keys(n[15].StatRolls).length>0,h,m=c&&ge(n);return{c(){e=I("li"),i=I("span"),a=S(l),s=S(" ("),f=S(t),r=S(")"),v=D(),m&&m.c(),h=D(),this.h()},l(o){e=P(o,"LI",{class:!0});var u=E(e);i=P(u,"SPAN",{});var _=E(i);a=g(_,l),s=g(_," ("),f=g(_,t),r=g(_,")"),_.forEach(p),v=J(u),m&&m.l(u),h=J(u),u.forEach(p),this.h()},h(){A(e,"class","mt-4")},m(o,u){T(o,e,u),d(e,i),d(i,a),d(i,s),d(i,f),d(i,r),d(e,v),m&&m.m(e,null),d(e,h)},p(o,u){u&16&&l!==(l=o[15].AlternatePassiveAddition.ID+"")&&q(a,l),u&16&&t!==(t=o[15].AlternatePassiveAddition.Index+"")&&q(f,t),u&16&&(c=o[15].StatRolls&&Object.keys(o[15].StatRolls).length>0),c?m?m.p(o,u):(m=ge(o),m.c(),m.m(e,h)):m&&(m.d(1),m=null)},d(o){o&&p(e),m&&m.d()}}}function Ne(n){let e,i,l,a,s,t,f,r,v,c,h,m,o,u,_,k,V,b,w,R,y,M;function Re(O){n[9](O)}let ee={items:n[6]};n[0]!==void 0&&(ee.value=n[0]),_=new x({props:ee}),K.push(()=>Q(_,"value",Re)),_.$on("select",n[8]);let j=n[0]&&_e(n);return{c(){e=I("div"),i=I("div"),l=I("div"),a=I("h1"),s=S("Timeless Calculator"),t=D(),f=I("a"),r=I("h2"),v=S("Skill Tree View"),c=D(),h=I("div"),m=I("h3"),o=S("Timeless Jewel"),u=D(),z(_.$$.fragment),V=D(),j&&j.c(),b=D(),w=I("div"),R=I("a"),y=S("Source (Github)"),this.h()},l(O){e=P(O,"DIV",{class:!0});var H=E(e);i=P(H,"DIV",{class:!0});var L=E(i);l=P(L,"DIV",{});var G=E(l);a=P(G,"H1",{class:!0});var le=E(a);s=g(le,"Timeless Calculator"),le.forEach(p),t=J(G),f=P(G,"A",{href:!0});var te=E(f);r=P(te,"H2",{class:!0});var se=E(r);v=g(se,"Skill Tree View"),se.forEach(p),te.forEach(p),c=J(G),h=P(G,"DIV",{class:!0});var B=E(h);m=P(B,"H3",{class:!0});var ae=E(m);o=g(ae,"Timeless Jewel"),ae.forEach(p),u=J(B),F(_.$$.fragment,B),V=J(B),j&&j.l(B),B.forEach(p),G.forEach(p),b=J(L),w=P(L,"DIV",{class:!0});var ie=E(w);R=P(ie,"A",{href:!0,target:!0,rel:!0});var ne=E(R);y=g(ne,"Source (Github)"),ne.forEach(p),ie.forEach(p),L.forEach(p),H.forEach(p),this.h()},h(){A(a,"class","text-white mb-10 text-center"),A(r,"class","text-white mb-10 text-center underline text-orange-500"),A(f,"href",Oe+"/tree"),A(m,"class","mb-2"),A(h,"class","themed"),A(R,"href","https://github.com/Vilsol/timeless-jewels"),A(R,"target","_blank"),A(R,"rel","noopener"),A(w,"class","text-right text-orange-500"),A(i,"class","flex flex-col justify-between w-1/3"),A(e,"class","py-10 flex flex-row justify-center w-screen h-screen")},m(O,H){T(O,e,H),d(e,i),d(i,l),d(l,a),d(a,s),d(l,t),d(l,f),d(f,r),d(r,v),d(l,c),d(l,h),d(h,m),d(m,o),d(h,u),W(_,h,null),d(h,V),j&&j.m(h,null),d(i,b),d(i,w),d(w,R),d(R,y),M=!0},p(O,[H]){const L={};!k&&H&1&&(k=!0,L.value=O[0],X(()=>k=!1)),_.$set(L),O[0]?j?(j.p(O,H),H&1&&C(j,1)):(j=_e(O),j.c(),C(j,1),j.m(h,null)):j&&(Pe(),U(j,1,1,()=>{j=null}),Ie())},i(O){M||(C(_.$$.fragment,O),C(j),M=!0)},o(O){U(_.$$.fragment,O),U(j),M=!1},d(O){O&&p(e),Y(_),j&&j.d()}}}function Ce(n,e,i){let l,a;De(n,qe,b=>i(13,a=b));const s=a.url.searchParams,t=Object.keys($.TimelessJewels).map(b=>({value:parseInt(b),label:$.TimelessJewels[b]}));let f=s.has("jewel")?t.find(b=>b.value==s.get("jewel")):void 0,r=s.has("conqueror")?{value:s.get("conqueror"),label:s.get("conqueror")}:void 0;const v=Object.values($.PassiveSkills).map(b=>({value:b.Index,label:b.Name+" ("+b.ID+")"}));let c=s.has("passive_skill")?v.find(b=>b.value==s.get("passive_skill")):void 0,h=s.has("seed")?s.get("seed"):0,m;const o=()=>{{const b={};f&&(b.jewel=f.value),r&&(b.conqueror=r.value),c&&(b.passive_skill=c.value),h&&(b.seed=h);const w=Object.keys(b).map(R=>R+"="+encodeURIComponent(b[R])).join("&");Ve(a.url.pathname+"?"+w)}};function u(b){f=b,i(0,f)}function _(b){r=b,i(1,r)}function k(b){c=b,i(2,c)}function V(){h=Ee(this.value),i(3,h)}return n.$$.update=()=>{n.$$.dirty&1&&i(5,l=f?Object.keys($.TimelessJewelConquerors[f.value]).map(b=>({value:b,label:b})):[]),n.$$.dirty&15&&c&&h&&f&&r&&i(4,m=Me.Calculate(c.value,typeof h=="string"?parseInt(h):h,f.value,r.value))},[f,r,c,h,m,l,t,v,o,u,_,k,V]}class Ge extends Te{constructor(e){super(),je(this,e,Ce,Ne,$e,{})}}export{Ge as default};
